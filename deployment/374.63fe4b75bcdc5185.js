(self.webpackChunkmeta_bricks=self.webpackChunkmeta_bricks||[]).push([[374],{1374:(Pe,Bt,wt)=>{"use strict";wt.r(Bt),wt.d(Bt,{HomeModule:()=>ch});var D={};wt.r(D),wt.d(D,{abytes:()=>Ue,bitGet:()=>Er,bitLen:()=>kr,bitMask:()=>Qn,bitSet:()=>Br,bytesToHex:()=>Re,bytesToNumberBE:()=>Tn,bytesToNumberLE:()=>Un,concatBytes:()=>Rn,createHmacDrbg:()=>hr,ensureBytes:()=>$e,equalBytes:()=>xr,hexToBytes:()=>Cn,hexToNumber:()=>ur,isBytes:()=>Te,numberToBytesBE:()=>Ln,numberToBytesLE:()=>Wn,numberToHexUnpadded:()=>We,numberToVarBytesBE:()=>br,utf8ToBytes:()=>_r,validateObject:()=>Fn});var Ut=wt(6895),Y=wt(4752);function ut(i,t,e,o,a,c,h){try{var p=i[c](h),b=p.value}catch(R){return void e(R)}p.done?t(b):Promise.resolve(b).then(o,a)}function x(i){return function(){var t=this,e=arguments;return new Promise(function(o,a){var c=i.apply(t,e);function h(b){ut(c,o,a,h,p,"next",b)}function p(b){ut(c,o,a,h,p,"throw",b)}h(void 0)})}}var f=wt(1571),E=wt(9326);let I=(()=>{class i{constructor(e){this.modalRef=e,this.showContent=!0}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-share-referrals"]],decls:40,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn"],[1,"custom-modal-content"],[1,"left-section"],["src","/assets/images/share-popup-icon.png","alt",""],[1,"right-section"],[1,"social-icons-list"],[1,"single-social"],[1,"icon"],[1,"ref-link"],[1,"bottom-text"]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"SHARE & REFERRALS"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"Another brick bites the dust!"),f.qZA()(),f.TgZ(11,"div",6)(12,"p"),f._uU(13,"We're grateful for your support to Metabricks!"),f.qZA(),f.TgZ(14,"p"),f._uU(15,"You could also share and refer the Metabricks to a friend. Earning 5% of the sales made from the link."),f.qZA()()(),f.TgZ(16,"div",7)(17,"div",8),f._UZ(18,"div",9),f.TgZ(19,"p"),f._uU(20,"Socials1"),f.qZA()(),f.TgZ(21,"div",8),f._UZ(22,"div",9),f.TgZ(23,"p"),f._uU(24,"Socials1"),f.qZA()(),f.TgZ(25,"div",8),f._UZ(26,"div",9),f.TgZ(27,"p"),f._uU(28,"Socials1"),f.qZA()(),f.TgZ(29,"div",8),f._UZ(30,"div",9),f.TgZ(31,"p"),f._uU(32,"Socials1"),f.qZA()()(),f.TgZ(33,"div",10)(34,"p"),f._uU(35,"Link "),f.TgZ(36,"span"),f._uU(37,"mek.gallery\\f78ds9afdsahu"),f.qZA()()(),f.TgZ(38,"p",11),f._uU(39," You could share and refer the Metabricks to a friend. Earning 5% of the sales made from the link. "),f.qZA()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:grid;grid-gap:50px;align-items:center;grid-template-columns:1fr 1fr}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]{margin:30px 0;padding:20px;display:flex;grid-gap:50px;justify-content:center}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]   .single-social[_ngcontent-%COMP%]{display:grid;grid-gap:10px}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]   .single-social[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-color:#b0ffec}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:10px;justify-content:center;height:40px;background-color:#20249a}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-style:normal;font-weight:400;font-family:MEK!important;color:#679bff!important}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b0ffec!important}.modal-body[_ngcontent-%COMP%]   p.bottom-text[_ngcontent-%COMP%]{margin:30px 0 0;color:#679bff!important;font-family:MEK!important;font-size:24px;font-style:normal;font-weight:400}"]})}return i})();var nt=wt(3733);function qt(i){if(!Number.isSafeInteger(i)||i<0)throw new Error(`positive integer expected, not ${i}`)}function ct(i,...t){if(!function Dt(i){return i instanceof Uint8Array||null!=i&&"object"==typeof i&&"Uint8Array"===i.constructor.name}(i))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(i.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${i.length}`)}function zt(i,t=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(t&&i.finished)throw new Error("Hash#digest() has already been called")}function at(i,t){ct(i);const e=t.outputLen;if(i.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const bt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,re=i=>new DataView(i.buffer,i.byteOffset,i.byteLength),Jt=(i,t)=>i<<32-t|i>>>t,xt=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],rt=i=>i<<24&4278190080|i<<8&16711680|i>>>8&65280|i>>>24&255;function mt(i){for(let t=0;t<i.length;t++)i[t]=rt(i[t])}function d(i){return"string"==typeof i&&(i=function T(i){if("string"!=typeof i)throw new Error("utf8ToBytes expected string, got "+typeof i);return new Uint8Array((new TextEncoder).encode(i))}(i)),ct(i),i}class k{clone(){return this._cloneInto()}}function V(i){const t=o=>i().update(d(o)).digest(),e=i();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>i(),t}function ae(i=32){if(bt&&"function"==typeof bt.getRandomValues)return bt.getRandomValues(new Uint8Array(i));throw new Error("crypto.getRandomValues must be defined")}const ne=(i,t,e)=>i&t^~i&e,Ae=(i,t,e)=>i&t^i&e^t&e;class fe extends k{constructor(t,e,o,a){super(),this.blockLen=t,this.outputLen=e,this.padOffset=o,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=re(this.buffer)}update(t){zt(this);const{view:e,buffer:o,blockLen:a}=this,c=(t=d(t)).length;for(let h=0;h<c;){const p=Math.min(a-this.pos,c-h);if(p!==a)o.set(t.subarray(h,h+p),this.pos),this.pos+=p,h+=p,this.pos===a&&(this.process(e,0),this.pos=0);else{const b=re(t);for(;a<=c-h;h+=a)this.process(b,h)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){zt(this),at(t,this),this.finished=!0;const{buffer:e,view:o,blockLen:a,isLE:c}=this;let{pos:h}=this;e[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>a-h&&(this.process(o,0),h=0);for(let K=h;K<a;K++)e[K]=0;(function oe(i,t,e,o){if("function"==typeof i.setBigUint64)return i.setBigUint64(t,e,o);const a=BigInt(32),c=BigInt(4294967295),h=Number(e>>a&c),p=Number(e&c),R=o?0:4;i.setUint32(t+(o?4:0),h,o),i.setUint32(t+R,p,o)})(o,a-8,BigInt(8*this.length),c),this.process(o,0);const p=re(t),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const R=b/4,L=this.get();if(R>L.length)throw new Error("_sha2: outputLen bigger than state");for(let K=0;K<R;K++)p.setUint32(4*K,L[K],c)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const o=t.slice(0,e);return this.destroy(),o}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:o,length:a,finished:c,destroyed:h,pos:p}=this;return t.length=a,t.pos=p,t.finished=c,t.destroyed=h,a%e&&t.buffer.set(o),t}}const P=BigInt(2**32-1),g=BigInt(32);function w(i,t=!1){return t?{h:Number(i&P),l:Number(i>>g&P)}:{h:0|Number(i>>g&P),l:0|Number(i&P)}}function O(i,t=!1){let e=new Uint32Array(i.length),o=new Uint32Array(i.length);for(let a=0;a<i.length;a++){const{h:c,l:h}=w(i[a],t);[e[a],o[a]]=[c,h]}return[e,o]}const n=(i,t,e)=>i<<e|t>>>32-e,r=(i,t,e)=>t<<e|i>>>32-e,u=(i,t,e)=>t<<e-32|i>>>64-e,y=(i,t,e)=>i<<e-32|t>>>64-e,ce={fromBig:w,split:O,toBig:(i,t)=>BigInt(i>>>0)<<g|BigInt(t>>>0),shrSH:(i,t,e)=>i>>>e,shrSL:(i,t,e)=>i<<32-e|t>>>e,rotrSH:(i,t,e)=>i>>>e|t<<32-e,rotrSL:(i,t,e)=>i<<32-e|t>>>e,rotrBH:(i,t,e)=>i<<64-e|t>>>e-32,rotrBL:(i,t,e)=>i>>>e-32|t<<64-e,rotr32H:(i,t)=>t,rotr32L:(i,t)=>i,rotlSH:n,rotlSL:r,rotlBH:u,rotlBL:y,add:function _(i,t,e,o){const a=(t>>>0)+(o>>>0);return{h:i+e+(a/2**32|0)|0,l:0|a}},add3L:(i,t,e)=>(i>>>0)+(t>>>0)+(e>>>0),add3H:(i,t,e,o)=>t+e+o+(i/2**32|0)|0,add4L:(i,t,e,o)=>(i>>>0)+(t>>>0)+(e>>>0)+(o>>>0),add4H:(i,t,e,o,a)=>t+e+o+a+(i/2**32|0)|0,add5H:(i,t,e,o,a,c)=>t+e+o+a+c+(i/2**32|0)|0,add5L:(i,t,e,o,a)=>(i>>>0)+(t>>>0)+(e>>>0)+(o>>>0)+(a>>>0)},[Ve,Ge]=(()=>ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(i=>BigInt(i))))(),An=new Uint32Array(80),ve=new Uint32Array(80);class je extends fe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:o,Bl:a,Ch:c,Cl:h,Dh:p,Dl:b,Eh:R,El:L,Fh:K,Fl:tt,Gh:st,Gl:J,Hh:q,Hl:H}=this;return[t,e,o,a,c,h,p,b,R,L,K,tt,st,J,q,H]}set(t,e,o,a,c,h,p,b,R,L,K,tt,st,J,q,H){this.Ah=0|t,this.Al=0|e,this.Bh=0|o,this.Bl=0|a,this.Ch=0|c,this.Cl=0|h,this.Dh=0|p,this.Dl=0|b,this.Eh=0|R,this.El=0|L,this.Fh=0|K,this.Fl=0|tt,this.Gh=0|st,this.Gl=0|J,this.Hh=0|q,this.Hl=0|H}process(t,e){for(let gt=0;gt<16;gt++,e+=4)An[gt]=t.getUint32(e),ve[gt]=t.getUint32(e+=4);for(let gt=16;gt<80;gt++){const Wt=0|An[gt-15],vt=0|ve[gt-15],$t=ce.rotrSH(Wt,vt,1)^ce.rotrSH(Wt,vt,8)^ce.shrSH(Wt,vt,7),Qt=ce.rotrSL(Wt,vt,1)^ce.rotrSL(Wt,vt,8)^ce.shrSL(Wt,vt,7),te=0|An[gt-2],Me=0|ve[gt-2],_e=ce.rotrSH(te,Me,19)^ce.rotrBH(te,Me,61)^ce.shrSH(te,Me,6),de=ce.rotrSL(te,Me,19)^ce.rotrBL(te,Me,61)^ce.shrSL(te,Me,6),un=ce.add4L(Qt,de,ve[gt-7],ve[gt-16]),sn=ce.add4H(un,$t,_e,An[gt-7],An[gt-16]);An[gt]=0|sn,ve[gt]=0|un}let{Ah:o,Al:a,Bh:c,Bl:h,Ch:p,Cl:b,Dh:R,Dl:L,Eh:K,El:tt,Fh:st,Fl:J,Gh:q,Gl:H,Hh:j,Hl:dt}=this;for(let gt=0;gt<80;gt++){const Wt=ce.rotrSH(K,tt,14)^ce.rotrSH(K,tt,18)^ce.rotrBH(K,tt,41),vt=ce.rotrSL(K,tt,14)^ce.rotrSL(K,tt,18)^ce.rotrBL(K,tt,41),$t=K&st^~K&q,te=ce.add5L(dt,vt,tt&J^~tt&H,Ge[gt],ve[gt]),Me=ce.add5H(te,j,Wt,$t,Ve[gt],An[gt]),_e=0|te,de=ce.rotrSH(o,a,28)^ce.rotrBH(o,a,34)^ce.rotrBH(o,a,39),un=ce.rotrSL(o,a,28)^ce.rotrBL(o,a,34)^ce.rotrBL(o,a,39),sn=o&c^o&p^c&p,vn=a&h^a&b^h&b;j=0|q,dt=0|H,q=0|st,H=0|J,st=0|K,J=0|tt,({h:K,l:tt}=ce.add(0|R,0|L,0|Me,0|_e)),R=0|p,L=0|b,p=0|c,b=0|h,c=0|o,h=0|a;const Tt=ce.add3L(_e,un,vn);o=ce.add3H(Tt,Me,de,sn),a=0|Tt}({h:o,l:a}=ce.add(0|this.Ah,0|this.Al,0|o,0|a)),({h:c,l:h}=ce.add(0|this.Bh,0|this.Bl,0|c,0|h)),({h:p,l:b}=ce.add(0|this.Ch,0|this.Cl,0|p,0|b)),({h:R,l:L}=ce.add(0|this.Dh,0|this.Dl,0|R,0|L)),({h:K,l:tt}=ce.add(0|this.Eh,0|this.El,0|K,0|tt)),({h:st,l:J}=ce.add(0|this.Fh,0|this.Fl,0|st,0|J)),({h:q,l:H}=ce.add(0|this.Gh,0|this.Gl,0|q,0|H)),({h:j,l:dt}=ce.add(0|this.Hh,0|this.Hl,0|j,0|dt)),this.set(o,a,c,h,p,b,R,L,K,tt,st,J,q,H,j,dt)}roundClean(){An.fill(0),ve.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qr=V(()=>new je),ze=BigInt(0),Oe=BigInt(1),zr=BigInt(2);function Te(i){return i instanceof Uint8Array||null!=i&&"object"==typeof i&&"Uint8Array"===i.constructor.name}function Ue(i){if(!Te(i))throw new Error("Uint8Array expected")}const Wr=Array.from({length:256},(i,t)=>t.toString(16).padStart(2,"0"));function Re(i){Ue(i);let t="";for(let e=0;e<i.length;e++)t+=Wr[i[e]];return t}function We(i){const t=i.toString(16);return 1&t.length?`0${t}`:t}function ur(i){if("string"!=typeof i)throw new Error("hex string expected, got "+typeof i);return BigInt(""===i?"0":`0x${i}`)}const Se={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ke(i){return i>=Se._0&&i<=Se._9?i-Se._0:i>=Se._A&&i<=Se._F?i-(Se._A-10):i>=Se._a&&i<=Se._f?i-(Se._a-10):void 0}function Cn(i){if("string"!=typeof i)throw new Error("hex string expected, got "+typeof i);const t=i.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const o=new Uint8Array(e);for(let a=0,c=0;a<e;a++,c+=2){const h=Ke(i.charCodeAt(c)),p=Ke(i.charCodeAt(c+1));if(void 0===h||void 0===p)throw new Error('hex string expected, got non-hex character "'+(i[c]+i[c+1])+'" at index '+c);o[a]=16*h+p}return o}function Tn(i){return ur(Re(i))}function Un(i){return Ue(i),ur(Re(Uint8Array.from(i).reverse()))}function Ln(i,t){return Cn(i.toString(16).padStart(2*t,"0"))}function Wn(i,t){return Ln(i,t).reverse()}function br(i){return Cn(We(i))}function $e(i,t,e){let o;if("string"==typeof t)try{o=Cn(t)}catch(c){throw new Error(`${i} must be valid hex string, got "${t}". Cause: ${c}`)}else{if(!Te(t))throw new Error(`${i} must be hex string or Uint8Array`);o=Uint8Array.from(t)}const a=o.length;if("number"==typeof e&&a!==e)throw new Error(`${i} expected ${e} bytes, got ${a}`);return o}function Rn(...i){let t=0;for(let o=0;o<i.length;o++){const a=i[o];Ue(a),t+=a.length}const e=new Uint8Array(t);for(let o=0,a=0;o<i.length;o++){const c=i[o];e.set(c,a),a+=c.length}return e}function xr(i,t){if(i.length!==t.length)return!1;let e=0;for(let o=0;o<i.length;o++)e|=i[o]^t[o];return 0===e}function _r(i){if("string"!=typeof i)throw new Error("utf8ToBytes expected string, got "+typeof i);return new Uint8Array((new TextEncoder).encode(i))}function kr(i){let t;for(t=0;i>ze;i>>=Oe,t+=1);return t}function Er(i,t){return i>>BigInt(t)&Oe}function Br(i,t,e){return i|(e?Oe:ze)<<BigInt(t)}const Qn=i=>(zr<<BigInt(i-1))-Oe,tr=i=>new Uint8Array(i),lr=i=>Uint8Array.from(i);function hr(i,t,e){if("number"!=typeof i||i<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof e)throw new Error("hmacFn must be a function");let o=tr(i),a=tr(i),c=0;const h=()=>{o.fill(1),a.fill(0),c=0},p=(...K)=>e(a,o,...K),b=(K=tr())=>{a=p(lr([0]),K),o=p(),0!==K.length&&(a=p(lr([1]),K),o=p())},R=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let K=0;const tt=[];for(;K<t;){o=p();const st=o.slice();tt.push(st),K+=o.length}return Rn(...tt)};return(K,tt)=>{let st;for(h(),b(K);!(st=tt(R()));)b();return h(),st}}const Sr={bigint:i=>"bigint"==typeof i,function:i=>"function"==typeof i,boolean:i=>"boolean"==typeof i,string:i=>"string"==typeof i,stringOrUint8Array:i=>"string"==typeof i||Te(i),isSafeInteger:i=>Number.isSafeInteger(i),array:i=>Array.isArray(i),field:(i,t)=>t.Fp.isValid(i),hash:i=>"function"==typeof i&&Number.isSafeInteger(i.outputLen)};function Fn(i,t,e={}){const o=(a,c,h)=>{const p=Sr[c];if("function"!=typeof p)throw new Error(`Invalid validator "${c}", expected function`);const b=i[a];if(!(h&&void 0===b||p(b,i)))throw new Error(`Invalid param ${String(a)}=${b} (${typeof b}), expected ${c}`)};for(const[a,c]of Object.entries(t))o(a,c,!1);for(const[a,c]of Object.entries(e))o(a,c,!0);return i}const hn=BigInt(0),Ce=BigInt(1),Vn=BigInt(2),Xs=BigInt(3),gi=BigInt(4),co=BigInt(5),uo=BigInt(8);function Ne(i,t){const e=i%t;return e>=hn?e:t+e}function ea(i,t,e){if(e<=hn||t<hn)throw new Error("Expected power/modulo > 0");if(e===Ce)return hn;let o=Ce;for(;t>hn;)t&Ce&&(o=o*i%e),i=i*i%e,t>>=Ce;return o}function Ye(i,t,e){let o=i;for(;t-- >hn;)o*=o,o%=e;return o}function Kr(i,t){if(i===hn||t<=hn)throw new Error(`invert: expected positive integers, got n=${i} mod=${t}`);let e=Ne(i,t),o=t,a=hn,c=Ce,h=Ce,p=hn;for(;e!==hn;){const R=o/e,L=o%e,K=a-h*R,tt=c-p*R;o=e,e=L,a=h,c=p,h=K,p=tt}if(o!==Ce)throw new Error("invert: does not exist");return Ne(a,t)}BigInt(9),BigInt(16);const ia=(i,t)=>(Ne(i,t)&Ce)===Ce,oa=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mi(i,t){const e=void 0!==t?t:i.toString(2).length;return{nBitLength:e,nByteLength:Math.ceil(e/8)}}function lo(i,t,e=!1,o={}){if(i<=hn)throw new Error(`Expected Field ORDER > 0, got ${i}`);const{nBitLength:a,nByteLength:c}=mi(i,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const h=function ra(i){if(i%gi===Xs){const t=(i+Ce)/gi;return function(o,a){const c=o.pow(a,t);if(!o.eql(o.sqr(c),a))throw new Error("Cannot find square root");return c}}if(i%uo===co){const t=(i-co)/uo;return function(o,a){const c=o.mul(a,Vn),h=o.pow(c,t),p=o.mul(a,h),b=o.mul(o.mul(p,Vn),h),R=o.mul(p,o.sub(b,o.ONE));if(!o.eql(o.sqr(R),a))throw new Error("Cannot find square root");return R}}return function na(i){const t=(i-Ce)/Vn;let e,o,a;for(e=i-Ce,o=0;e%Vn===hn;e/=Vn,o++);for(a=Vn;a<i&&ea(a,t,i)!==i-Ce;a++);if(1===o){const h=(i+Ce)/gi;return function(b,R){const L=b.pow(R,h);if(!b.eql(b.sqr(L),R))throw new Error("Cannot find square root");return L}}const c=(e+Ce)/Vn;return function(p,b){if(p.pow(b,t)===p.neg(p.ONE))throw new Error("Cannot find square root");let R=o,L=p.pow(p.mul(p.ONE,a),e),K=p.pow(b,c),tt=p.pow(b,e);for(;!p.eql(tt,p.ONE);){if(p.eql(tt,p.ZERO))return p.ZERO;let st=1;for(let q=p.sqr(tt);st<R&&!p.eql(q,p.ONE);st++)q=p.sqr(q);const J=p.pow(L,Ce<<BigInt(R-st-1));L=p.sqr(J),K=p.mul(K,J),tt=p.mul(tt,L),R=st}return K}}(i)}(i),p=Object.freeze({ORDER:i,BITS:a,BYTES:c,MASK:Qn(a),ZERO:hn,ONE:Ce,create:b=>Ne(b,i),isValid:b=>{if("bigint"!=typeof b)throw new Error("Invalid field element: expected bigint, got "+typeof b);return hn<=b&&b<i},is0:b=>b===hn,isOdd:b=>(b&Ce)===Ce,neg:b=>Ne(-b,i),eql:(b,R)=>b===R,sqr:b=>Ne(b*b,i),add:(b,R)=>Ne(b+R,i),sub:(b,R)=>Ne(b-R,i),mul:(b,R)=>Ne(b*R,i),pow:(b,R)=>function aa(i,t,e){if(e<hn)throw new Error("Expected power > 0");if(e===hn)return i.ONE;if(e===Ce)return t;let o=i.ONE,a=t;for(;e>hn;)e&Ce&&(o=i.mul(o,a)),a=i.sqr(a),e>>=Ce;return o}(p,b,R),div:(b,R)=>Ne(b*Kr(R,i),i),sqrN:b=>b*b,addN:(b,R)=>b+R,subN:(b,R)=>b-R,mulN:(b,R)=>b*R,inv:b=>Kr(b,i),sqrt:o.sqrt||(b=>h(p,b)),invertBatch:b=>function ca(i,t){const e=new Array(t.length),o=t.reduce((c,h,p)=>i.is0(h)?c:(e[p]=c,i.mul(c,h)),i.ONE),a=i.inv(o);return t.reduceRight((c,h,p)=>i.is0(h)?c:(e[p]=i.mul(c,e[p]),i.mul(c,h)),a),e}(p,b),cmov:(b,R,L)=>L?R:b,toBytes:b=>e?Wn(b,c):Ln(b,c),fromBytes:b=>{if(b.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${b.length}`);return e?Un(b):Tn(b)}});return Object.freeze(p)}function ho(i){if("bigint"!=typeof i)throw new Error("field order must be bigint");const t=i.toString(2).length;return Math.ceil(t/8)}function fo(i){const t=ho(i);return t+Math.ceil(t/2)}const la=BigInt(0),wi=BigInt(1);function po(i,t){const e=(a,c)=>{const h=c.negate();return a?h:c},o=a=>({windows:Math.ceil(t/a)+1,windowSize:2**(a-1)});return{constTimeNegate:e,unsafeLadder(a,c){let h=i.ZERO,p=a;for(;c>la;)c&wi&&(h=h.add(p)),p=p.double(),c>>=wi;return h},precomputeWindow(a,c){const{windows:h,windowSize:p}=o(c),b=[];let R=a,L=R;for(let K=0;K<h;K++){L=R,b.push(L);for(let tt=1;tt<p;tt++)L=L.add(R),b.push(L);R=L.double()}return b},wNAF(a,c,h){const{windows:p,windowSize:b}=o(a);let R=i.ZERO,L=i.BASE;const K=BigInt(2**a-1),tt=2**a,st=BigInt(a);for(let J=0;J<p;J++){const q=J*b;let H=Number(h&K);h>>=st,H>b&&(H-=tt,h+=wi);const j=q,dt=q+Math.abs(H)-1,Wt=H<0;0===H?L=L.add(e(J%2!=0,c[j])):R=R.add(e(Wt,c[dt]))}return{p:R,f:L}},wNAFCached(a,c,h,p){const b=a._WINDOW_SIZE||1;let R=c.get(a);return R||(R=this.precomputeWindow(a,b),1!==b&&c.set(a,p(R))),this.wNAF(b,R,h)}}}function bi(i){return function sa(i){Fn(i,oa.reduce((o,a)=>(o[a]="function",o),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(i.Fp),Fn(i,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mi(i.n,i.nBitLength),...i,p:i.Fp.ORDER})}const Mn=BigInt(0),En=BigInt(1),$r=BigInt(2),ha=BigInt(8),fa={zip215:!0};const xi=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),yo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),On=(BigInt(0),BigInt(1)),_i=BigInt(2),go=(BigInt(3),BigInt(5)),mo=BigInt(8);function ma(i){return i[0]&=248,i[31]&=127,i[31]|=64,i}function ki(i,t){const e=xi,o=Ne(t*t*t,e),c=function ga(i){const t=BigInt(10),e=BigInt(20),o=BigInt(40),a=BigInt(80),c=xi,p=i*i%c*i%c,b=Ye(p,_i,c)*p%c,R=Ye(b,On,c)*i%c,L=Ye(R,go,c)*R%c,K=Ye(L,t,c)*L%c,tt=Ye(K,e,c)*K%c,st=Ye(tt,o,c)*tt%c,J=Ye(st,a,c)*st%c,q=Ye(J,a,c)*st%c,H=Ye(q,t,c)*L%c;return{pow_p_5_8:Ye(H,_i,c)*i%c,b2:p}}(i*Ne(o*o*t,e)).pow_p_5_8;let h=Ne(i*o*c,e);const p=Ne(t*h*h,e),b=h,R=Ne(h*yo,e),L=p===i,K=p===Ne(-i,e),tt=p===Ne(-i*yo,e);return L&&(h=b),(K||tt)&&(h=R),ia(h,e)&&(h=Ne(-h,e)),{isValid:L||K,value:h}}const Vt=(()=>lo(xi,void 0,!0))(),Ei=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mo,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:qr,randomBytes:ae,adjustScalarBytes:ma,uvRatio:ki}))(),an=(()=>function pa(i){const t=function da(i){const t=bi(i);return Fn(i,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(i),{Fp:e,n:o,prehash:a,hash:c,randomBytes:h,nByteLength:p,h:b}=t,R=$r<<BigInt(8*p)-En,L=e.create,K=t.uvRatio||((Ct,pt)=>{try{return{isValid:!0,value:e.sqrt(Ct*e.inv(pt))}}catch{return{isValid:!1,value:Mn}}}),tt=t.adjustScalarBytes||(Ct=>Ct),st=t.domain||((Ct,pt,Zt)=>{if(pt.length||Zt)throw new Error("Contexts/pre-hash are not supported");return Ct}),J=Ct=>"bigint"==typeof Ct&&Mn<Ct,q=(Ct,pt)=>J(Ct)&&J(pt)&&Ct<pt,H=Ct=>Ct===Mn||q(Ct,R);function j(Ct,pt){if(q(Ct,pt))return Ct;throw new Error(`Expected valid scalar < ${pt}, got ${typeof Ct} ${Ct}`)}function dt(Ct){return Ct===Mn?Ct:j(Ct,o)}const gt=new Map;function Wt(Ct){if(!(Ct instanceof vt))throw new Error("ExtendedPoint expected")}class vt{constructor(pt,Zt,ee,se){if(this.ex=pt,this.ey=Zt,this.ez=ee,this.et=se,!H(pt))throw new Error("x required");if(!H(Zt))throw new Error("y required");if(!H(ee))throw new Error("z required");if(!H(se))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(pt){if(pt instanceof vt)throw new Error("extended point not allowed");const{x:Zt,y:ee}=pt||{};if(!H(Zt)||!H(ee))throw new Error("invalid affine point");return new vt(Zt,ee,En,L(Zt*ee))}static normalizeZ(pt){const Zt=e.invertBatch(pt.map(ee=>ee.ez));return pt.map((ee,se)=>ee.toAffine(Zt[se])).map(vt.fromAffine)}_setWindowSize(pt){this._WINDOW_SIZE=pt,gt.delete(this)}assertValidity(){const{a:pt,d:Zt}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:ee,ey:se,ez:ye,et:ge}=this,Ee=L(ee*ee),be=L(se*se),ke=L(ye*ye),ln=L(ke*ke),Qe=L(Ee*pt);if(L(ke*L(Qe+be))!==L(ln+L(Zt*L(Ee*be))))throw new Error("bad point: equation left != right (1)");if(L(ee*se)!==L(ye*ge))throw new Error("bad point: equation left != right (2)")}equals(pt){Wt(pt);const{ex:Zt,ey:ee,ez:se}=this,{ex:ye,ey:ge,ez:Ee}=pt,be=L(Zt*Ee),ke=L(ye*se),ln=L(ee*Ee),Qe=L(ge*se);return be===ke&&ln===Qe}is0(){return this.equals(vt.ZERO)}negate(){return new vt(L(-this.ex),this.ey,this.ez,L(-this.et))}double(){const{a:pt}=t,{ex:Zt,ey:ee,ez:se}=this,ye=L(Zt*Zt),ge=L(ee*ee),Ee=L($r*L(se*se)),be=L(pt*ye),ke=Zt+ee,ln=L(L(ke*ke)-ye-ge),Qe=be+ge,gn=Qe-Ee,mn=be-ge,dn=L(ln*gn),wn=L(Qe*mn),Hn=L(ln*mn),cr=L(gn*Qe);return new vt(dn,wn,cr,Hn)}add(pt){Wt(pt);const{a:Zt,d:ee}=t,{ex:se,ey:ye,ez:ge,et:Ee}=this,{ex:be,ey:ke,ez:ln,et:Qe}=pt;if(Zt===BigInt(-1)){const Zs=L((ye-se)*(ke+be)),Hs=L((ye+se)*(ke-be)),ao=L(Hs-Zs);if(ao===Mn)return this.double();const Vs=L(ge*$r*Qe),Gs=L(Ee*$r*ln),js=Gs+Vs,Ys=Hs+Zs,Js=Gs-Vs,dh=L(js*ao),ph=L(Ys*Js),yh=L(js*Js),gh=L(ao*Ys);return new vt(dh,ph,gh,yh)}const gn=L(se*be),mn=L(ye*ke),dn=L(Ee*ee*Qe),wn=L(ge*ln),Hn=L((se+ye)*(be+ke)-gn-mn),cr=wn-dn,Dr=wn+dn,$s=L(mn-Zt*gn),uh=L(Hn*cr),lh=L(Dr*$s),hh=L(Hn*$s),fh=L(cr*Dr);return new vt(uh,lh,fh,hh)}subtract(pt){return this.add(pt.negate())}wNAF(pt){return te.wNAFCached(this,gt,pt,vt.normalizeZ)}multiply(pt){const{p:Zt,f:ee}=this.wNAF(j(pt,o));return vt.normalizeZ([Zt,ee])[0]}multiplyUnsafe(pt){let Zt=dt(pt);return Zt===Mn?Qt:this.equals(Qt)||Zt===En?this:this.equals($t)?this.wNAF(Zt).p:te.unsafeLadder(this,Zt)}isSmallOrder(){return this.multiplyUnsafe(b).is0()}isTorsionFree(){return te.unsafeLadder(this,o).is0()}toAffine(pt){const{ex:Zt,ey:ee,ez:se}=this,ye=this.is0();null==pt&&(pt=ye?ha:e.inv(se));const ge=L(Zt*pt),Ee=L(ee*pt),be=L(se*pt);if(ye)return{x:Mn,y:En};if(be!==En)throw new Error("invZ was invalid");return{x:ge,y:Ee}}clearCofactor(){const{h:pt}=t;return pt===En?this:this.multiplyUnsafe(pt)}static fromHex(pt,Zt=!1){const{d:ee,a:se}=t,ye=e.BYTES,ge=(pt=$e("pointHex",pt,ye)).slice(),Ee=pt[ye-1];ge[ye-1]=-129&Ee;const be=Un(ge);be===Mn||j(be,Zt?R:e.ORDER);const ke=L(be*be),ln=L(ke-En),Qe=L(ee*ke-se);let{isValid:gn,value:mn}=K(ln,Qe);if(!gn)throw new Error("Point.fromHex: invalid y coordinate");const dn=(mn&En)===En,wn=0!=(128&Ee);if(!Zt&&mn===Mn&&wn)throw new Error("Point.fromHex: x=0 and x_0=1");return wn!==dn&&(mn=L(-mn)),vt.fromAffine({x:mn,y:be})}static fromPrivateKey(pt){return de(pt).point}toRawBytes(){const{x:pt,y:Zt}=this.toAffine(),ee=Wn(Zt,e.BYTES);return ee[ee.length-1]|=pt&En?128:0,ee}toHex(){return Re(this.toRawBytes())}}vt.BASE=new vt(t.Gx,t.Gy,En,L(t.Gx*t.Gy)),vt.ZERO=new vt(Mn,En,En,Mn);const{BASE:$t,ZERO:Qt}=vt,te=po(vt,8*p);function Me(Ct){return Ne(Ct,o)}function _e(Ct){return Me(Un(Ct))}function de(Ct){const pt=p;Ct=$e("private key",Ct,pt);const Zt=$e("hashed private key",c(Ct),2*pt),ee=tt(Zt.slice(0,pt)),se=Zt.slice(pt,2*pt),ye=_e(ee),ge=$t.multiply(ye),Ee=ge.toRawBytes();return{head:ee,prefix:se,scalar:ye,point:ge,pointBytes:Ee}}function sn(Ct=new Uint8Array,...pt){const Zt=Rn(...pt);return _e(c(st(Zt,$e("context",Ct),!!a)))}const Tt=fa;return $t._setWindowSize(8),{CURVE:t,getPublicKey:function un(Ct){return de(Ct).pointBytes},sign:function vn(Ct,pt,Zt={}){Ct=$e("message",Ct),a&&(Ct=a(Ct));const{prefix:ee,scalar:se,pointBytes:ye}=de(pt),ge=sn(Zt.context,ee,Ct),Ee=$t.multiply(ge).toRawBytes(),ke=Me(ge+sn(Zt.context,Ee,ye,Ct)*se);return dt(ke),$e("result",Rn(Ee,Wn(ke,e.BYTES)),2*p)},verify:function Gt(Ct,pt,Zt,ee=Tt){const{context:se,zip215:ye}=ee,ge=e.BYTES;Ct=$e("signature",Ct,2*ge),pt=$e("message",pt),a&&(pt=a(pt));const Ee=Un(Ct.slice(ge,2*ge));let be,ke,ln;try{be=vt.fromHex(Zt,ye),ke=vt.fromHex(Ct.slice(0,ge),ye),ln=$t.multiplyUnsafe(Ee)}catch{return!1}if(!ye&&be.isSmallOrder())return!1;const Qe=sn(se,ke.toRawBytes(),be.toRawBytes(),pt);return ke.add(be.multiplyUnsafe(Qe)).subtract(ln).clearCofactor().equals(vt.ZERO)},ExtendedPoint:vt,utils:{getExtendedPublicKey:de,randomPrivateKey:()=>h(e.BYTES),precompute:(Ct=8,pt=vt.BASE)=>(pt._setWindowSize(Ct),pt.multiply(BigInt(3)),pt)}}}(Ei))();var Ia=wt(8538),_o=wt.n(Ia),va=wt(129),pn=wt.n(va);const Aa=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jn=new Uint32Array(64);class Ta extends fe{constructor(){super(64,32,8,!1),this.A=0|Gn[0],this.B=0|Gn[1],this.C=0|Gn[2],this.D=0|Gn[3],this.E=0|Gn[4],this.F=0|Gn[5],this.G=0|Gn[6],this.H=0|Gn[7]}get(){const{A:t,B:e,C:o,D:a,E:c,F:h,G:p,H:b}=this;return[t,e,o,a,c,h,p,b]}set(t,e,o,a,c,h,p,b){this.A=0|t,this.B=0|e,this.C=0|o,this.D=0|a,this.E=0|c,this.F=0|h,this.G=0|p,this.H=0|b}process(t,e){for(let K=0;K<16;K++,e+=4)jn[K]=t.getUint32(e,!1);for(let K=16;K<64;K++){const tt=jn[K-15],st=jn[K-2],J=Jt(tt,7)^Jt(tt,18)^tt>>>3,q=Jt(st,17)^Jt(st,19)^st>>>10;jn[K]=q+jn[K-7]+J+jn[K-16]|0}let{A:o,B:a,C:c,D:h,E:p,F:b,G:R,H:L}=this;for(let K=0;K<64;K++){const st=L+(Jt(p,6)^Jt(p,11)^Jt(p,25))+ne(p,b,R)+Aa[K]+jn[K]|0,q=(Jt(o,2)^Jt(o,13)^Jt(o,22))+Ae(o,a,c)|0;L=R,R=b,b=p,p=h+st|0,h=c,c=a,a=o,o=st+q|0}o=o+this.A|0,a=a+this.B|0,c=c+this.C|0,h=h+this.D|0,p=p+this.E|0,b=b+this.F|0,R=R+this.G|0,L=L+this.H|0,this.set(o,a,c,h,p,b,R,L)}roundClean(){jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const vi=V(()=>new Ta);var Ai=wt(1531),z=wt(1141),Ti=wt(3841);class Ra extends TypeError{constructor(t,e){let o;const{message:a,explanation:c,...h}=t,{path:p}=t,b=0===p.length?a:`At path: ${p.join(".")} -- ${a}`;super(c??b),null!=c&&(this.cause=b),Object.assign(this,h),this.name=this.constructor.name,this.failures=()=>o??(o=[t,...e()])}}function fr(i){return"object"==typeof i&&null!=i}function dr(i){return fr(i)&&!Array.isArray(i)}function fn(i){return"symbol"==typeof i?i.toString():"string"==typeof i?JSON.stringify(i):`${i}`}function Ca(i,t,e,o){if(!0===i)return;!1===i?i={}:"string"==typeof i&&(i={message:i});const{path:a,branch:c}=t,{type:h}=e,{refinement:p,message:b=`Expected a value of type \`${h}\`${p?` with refinement \`${p}\``:""}, but received: \`${fn(o)}\``}=i;return{value:o,type:h,refinement:p,key:a[a.length-1],path:a,branch:c,...i,message:b}}function*Ri(i,t,e,o){(function Ma(i){return fr(i)&&"function"==typeof i[Symbol.iterator]})(i)||(i=[i]);for(const a of i){const c=Ca(a,t,e,o);c&&(yield c)}}function*Mi(i,t,e={}){const{path:o=[],branch:a=[i],coerce:c=!1,mask:h=!1}=e,p={path:o,branch:a,mask:h};c&&(i=t.coercer(i,p));let b="valid";for(const R of t.validator(i,p))R.explanation=e.message,b="not_valid",yield[R,void 0];for(let[R,L,K]of t.entries(i,p)){const tt=Mi(L,K,{path:void 0===R?o:[...o,R],branch:void 0===R?a:[...a,L],coerce:c,mask:h,message:e.message});for(const st of tt)st[0]?(b=null!=st[0].refinement?"not_refined":"not_valid",yield[st[0],void 0]):c&&(L=st[1],void 0===R?i=L:i instanceof Map?i.set(R,L):i instanceof Set?i.add(L):fr(i)&&(void 0!==L||R in i)&&(i[R]=L))}if("not_valid"!==b)for(const R of t.refiner(i,p))R.explanation=e.message,b="not_refined",yield[R,void 0];"valid"===b&&(yield[void 0,i])}class cn{constructor(t){const{type:e,schema:o,validator:a,refiner:c,coercer:h=(b=>b),entries:p=function*(){}}=t;this.type=e,this.schema=o,this.entries=p,this.coercer=h,this.validator=a?(b,R)=>Ri(a(b,R),R,this,b):()=>[],this.refiner=c?(b,R)=>Ri(c(b,R),R,this,b):()=>[]}assert(t,e){return function Ua(i,t,e){const o=Ir(i,t,{message:e});if(o[0])throw o[0]}(t,this,e)}create(t,e){return It(t,this,e)}is(t){return Eo(t,this)}mask(t,e){return function La(i,t,e){const o=Ir(i,t,{coerce:!0,mask:!0,message:e});if(o[0])throw o[0];return o[1]}(t,this,e)}validate(t,e={}){return Ir(t,this,e)}}function It(i,t,e){const o=Ir(i,t,{coerce:!0,message:e});if(o[0])throw o[0];return o[1]}function Eo(i,t){return!Ir(i,t)[0]}function Ir(i,t,e={}){const o=Mi(i,t,e),a=function Pa(i){const{done:t,value:e}=i.next();return t?void 0:e}(o);return a[0]?[new Ra(a[0],function*(){for(const h of o)h[0]&&(yield h[0])}),void 0]:[void 0,a[1]]}function Bn(i,t){return new cn({type:i,schema:null,validator:t})}function Ot(i){return new cn({type:"array",schema:i,*entries(t){if(i&&Array.isArray(t))for(const[e,o]of t.entries())yield[e,o,i]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${fn(t)}`})}function Nn(){return Bn("boolean",i=>"boolean"==typeof i)}function Pi(i){return Bn("instance",t=>t instanceof i||`Expected a \`${i.name}\` instance, but received: ${fn(t)}`)}function Ze(i){const t=fn(i),e=typeof i;return new cn({type:"literal",schema:"string"===e||"number"===e||"boolean"===e?i:null,validator:o=>o===i||`Expected the literal \`${t}\`, but received: ${fn(o)}`})}function Nt(i){return new cn({...i,validator:(t,e)=>null===t||i.validator(t,e),refiner:(t,e)=>null===t||i.refiner(t,e)})}function G(){return Bn("number",i=>"number"==typeof i&&!isNaN(i)||`Expected a number, but received: ${fn(i)}`)}function ie(i){return new cn({...i,validator:(t,e)=>void 0===t||i.validator(t,e),refiner:(t,e)=>void 0===t||i.refiner(t,e)})}function So(i,t){return new cn({type:"record",schema:null,*entries(e){if(fr(e))for(const o in e){const a=e[o];yield[o,o,i],yield[o,a,t]}},validator:e=>dr(e)||`Expected an object, but received: ${fn(e)}`,coercer:e=>dr(e)?{...e}:e})}function Et(){return Bn("string",i=>"string"==typeof i||`Expected a string, but received: ${fn(i)}`)}function Ci(i){const t=function Bo(){return Bn("never",()=>!1)}();return new cn({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const o=Math.max(i.length,e.length);for(let a=0;a<o;a++)yield[a,e[a],i[a]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${fn(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function ht(i){const t=Object.keys(i);return new cn({type:"type",schema:i,*entries(e){if(fr(e))for(const o of t)yield[o,e[o],i[o]]},validator:e=>dr(e)||`Expected an object, but received: ${fn(e)}`,coercer:e=>dr(e)?{...e}:e})}function bn(i){const t=i.map(e=>e.type).join(" | ");return new cn({type:"union",schema:null,coercer(e,o){for(const a of i){const[c,h]=a.validate(e,{coerce:!0,mask:o.mask});if(!c)return h}return e},validator(e,o){const a=[];for(const c of i){const[...h]=Mi(e,c,o),[p]=h;if(!p[0])return[];for(const[b]of h)b&&a.push(b)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${fn(e)}`,...a]}})}function er(){return Bn("unknown",()=>!0)}function nr(i,t,e){return new cn({...i,coercer:(o,a)=>Eo(o,t)?i.coercer(e(o,a),a):i.coercer(o,a)})}var Oa=wt(3678),Na=wt.n(Oa),Da=wt(4091),vo=wt(2985),qa=class extends vo{socket;constructor(i,t,e){super(),this.socket=new window.WebSocket(i,e),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=o=>this.emit("message",o.data),this.socket.onerror=o=>this.emit("error",o),this.socket.onclose=o=>{this.emit("close",o.code,o.reason)}}send(i,t,e){const o=e||t;try{this.socket.send(i),o()}catch(a){o(a)}}close(i,t){this.socket.close(i,t)}addEventListener(i,t,e){this.socket.addEventListener(i,t,e)}};var Wa=class extends vo{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(i,t="ws://localhost:8080",{autoconnect:e=!0,reconnect:o=!0,reconnect_interval:a=1e3,max_reconnects:c=5,...h}={},p,b){super(),this.webSocketFactory=i,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=e,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=a,this.max_reconnects=c,this.rest_options=h,this.current_reconnects=0,this.generate_request_id=p||(()=>++this.rpc_id),this.dataPack=b||new class{encode(i){return JSON.stringify(i)}decode(i){return JSON.parse(i)}},this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(i,t,e,o){return!o&&"object"==typeof e&&(o=e,e=null),new Promise((a,c)=>{if(!this.ready)return c(new Error("socket not ready"));const h=this.generate_request_id(i,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:i,params:t||void 0,id:h}),o,b=>{if(b)return c(b);this.queue[h]={promise:[a,c]},e&&(this.queue[h].timeout=setTimeout(()=>{delete this.queue[h],c(new Error("reply timeout"))},e))})})}login(i){var t=this;return x(function*(){const e=yield t.call("rpc.login",i);if(!e)throw new Error("authentication failed");return e})()}listMethods(){var i=this;return x(function*(){return yield i.call("__listMethods")})()}notify(i,t){return new Promise((e,o)=>{if(!this.ready)return o(new Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:i,params:t}),c=>{if(c)return o(c);e()})})}subscribe(i){var t=this;return x(function*(){"string"==typeof i&&(i=[i]);const e=yield t.call("rpc.on",i);if("string"==typeof i&&"ok"!==e[i])throw new Error("Failed subscribing to an event '"+i+"' with: "+e[i]);return e})()}unsubscribe(i){var t=this;return x(function*(){"string"==typeof i&&(i=[i]);const e=yield t.call("rpc.off",i);if("string"==typeof i&&"ok"!==e[i])throw new Error("Failed unsubscribing from an event with: "+e);return e})()}close(i,t){this.socket.close(i||1e3,t)}setAutoReconnect(i){this.reconnect=i}setReconnectInterval(i){this.reconnect_interval=i}setMaxReconnects(i){this.max_reconnects=i}_connect(i,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(i,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=Da.lW.from(e).toString());try{e=this.dataPack.decode(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const o=[e.notification];if(e.params.constructor===Object)o.push(e.params);else for(let a=0;a<e.params.length;a++)o.push(e.params[a]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:e,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",e,o),0),this.ready=!1,this.socket=void 0,1e3!==e&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(i,t),this.reconnect_interval)))})}};const To=[],Ro=[],Mo=[],Ka=BigInt(0),vr=BigInt(1),$a=BigInt(2),Za=BigInt(7),Ha=BigInt(256),Va=BigInt(113);for(let i=0,t=vr,e=1,o=0;i<24;i++){[e,o]=[o,(2*e+3*o)%5],To.push(2*(5*o+e)),Ro.push((i+1)*(i+2)/2%64);let a=Ka;for(let c=0;c<7;c++)t=(t<<vr^(t>>Za)*Va)%Ha,t&$a&&(a^=vr<<(vr<<BigInt(c))-vr);Mo.push(a)}const[Ga,ja]=O(Mo,!0),Po=(i,t,e)=>e>32?u(i,t,e):n(i,t,e),Co=(i,t,e)=>e>32?y(i,t,e):r(i,t,e);class Hr extends k{constructor(t,e,o,a=!1,c=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=o,this.enableXOF=a,this.rounds=c,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qt(o),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}keccak(){xt||mt(this.state32),function Ya(i,t=24){const e=new Uint32Array(10);for(let o=24-t;o<24;o++){for(let h=0;h<10;h++)e[h]=i[h]^i[h+10]^i[h+20]^i[h+30]^i[h+40];for(let h=0;h<10;h+=2){const p=(h+8)%10,b=(h+2)%10,R=e[b],L=e[b+1],K=Po(R,L,1)^e[p],tt=Co(R,L,1)^e[p+1];for(let st=0;st<50;st+=10)i[h+st]^=K,i[h+st+1]^=tt}let a=i[2],c=i[3];for(let h=0;h<24;h++){const p=Ro[h],b=Po(a,c,p),R=Co(a,c,p),L=To[h];a=i[L],c=i[L+1],i[L]=b,i[L+1]=R}for(let h=0;h<50;h+=10){for(let p=0;p<10;p++)e[p]=i[h+p];for(let p=0;p<10;p++)i[h+p]^=~e[(p+2)%10]&e[(p+4)%10]}i[0]^=Ga[o],i[1]^=ja[o]}e.fill(0)}(this.state32,this.rounds),xt||mt(this.state32),this.posOut=0,this.pos=0}update(t){zt(this);const{blockLen:e,state:o}=this,a=(t=d(t)).length;for(let c=0;c<a;){const h=Math.min(e-this.pos,a-c);for(let p=0;p<h;p++)o[this.pos++]^=t[c++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:o,blockLen:a}=this;t[o]^=e,128&e&&o===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){zt(this,!1),ct(t),this.finish();const e=this.state,{blockLen:o}=this;for(let a=0,c=t.length;a<c;){this.posOut>=o&&this.keccak();const h=Math.min(o-this.posOut,c-a);t.set(e.subarray(this.posOut,this.posOut+h),a),this.posOut+=h,a+=h}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return qt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(at(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:o,outputLen:a,rounds:c,enableXOF:h}=this;return t||(t=new Hr(e,o,a,h,c)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=c,t.suffix=o,t.outputLen=a,t.enableXOF=h,t.destroyed=this.destroyed,t}}const Uo=((i,t,e)=>V(()=>new Hr(136,1,32)))();class Lo extends k{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function Q(i){if("function"!=typeof i||"function"!=typeof i.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");qt(i.outputLen),qt(i.blockLen)}(t);const o=d(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,c=new Uint8Array(a);c.set(o.length>a?t.create().update(o).digest():o);for(let h=0;h<c.length;h++)c[h]^=54;this.iHash.update(c),this.oHash=t.create();for(let h=0;h<c.length;h++)c[h]^=106;this.oHash.update(c),c.fill(0)}update(t){return zt(this),this.iHash.update(t),this}digestInto(t){zt(this),ct(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:o,finished:a,destroyed:c,blockLen:h,outputLen:p}=this;return t.finished=a,t.destroyed=c,t.blockLen=h,t.outputLen=p,t.oHash=e._cloneInto(t.oHash),t.iHash=o._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fo=(i,t,e)=>new Lo(i,t).update(e).digest();Fo.create=(i,t)=>new Lo(i,t);const{bytesToNumberBE:Qa,hexToBytes:tc}=D,rr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(i){const{Err:t}=rr;if(i.length<2||2!==i[0])throw new t("Invalid signature integer tag");const e=i[1],o=i.subarray(2,e+2);if(!e||o.length!==e)throw new t("Invalid signature integer: wrong length");if(128&o[0])throw new t("Invalid signature integer: negative");if(0===o[0]&&!(128&o[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Qa(o),l:i.subarray(e+2)}},toSig(i){const{Err:t}=rr,e="string"==typeof i?tc(i):i;Ue(e);let o=e.length;if(o<2||48!=e[0])throw new t("Invalid signature tag");if(e[1]!==o-2)throw new t("Invalid signature: incorrect length");const{d:a,l:c}=rr._parseInt(e.subarray(2)),{d:h,l:p}=rr._parseInt(c);if(p.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:h}},hexFromSig(i){const t=R=>8&Number.parseInt(R[0],16)?"00"+R:R,e=R=>{const L=R.toString(16);return 1&L.length?`0${L}`:L},o=t(e(i.s)),a=t(e(i.r)),c=o.length/2,h=a.length/2,p=e(c),b=e(h);return`30${e(h+c+4)}02${b}${a}02${p}${o}`}},Pn=BigInt(0),Je=BigInt(1),Vr=(BigInt(2),BigInt(3));function rc(i){const t=function nc(i){const t=bi(i);return Fn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(i),{Fp:e,n:o}=t,a=e.BYTES+1,c=2*e.BYTES+1;function p(Tt){return Ne(Tt,o)}function b(Tt){return Kr(Tt,o)}const{ProjectivePoint:R,normPrivateKeyToScalar:L,weierstrassEquation:K,isWithinCurveOrder:tt}=function ec(i){const t=function Xa(i){const t=bi(i);Fn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:o,a}=t;if(e){if(!o.eql(a,o.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof e||"bigint"!=typeof e.beta||"function"!=typeof e.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(i),{Fp:e}=t,o=t.toBytes||((J,q,H)=>{const j=q.toAffine();return Rn(Uint8Array.from([4]),e.toBytes(j.x),e.toBytes(j.y))}),a=t.fromBytes||(J=>{const q=J.subarray(1);return{x:e.fromBytes(q.subarray(0,e.BYTES)),y:e.fromBytes(q.subarray(e.BYTES,2*e.BYTES))}});function c(J){const{a:q,b:H}=t,j=e.sqr(J),dt=e.mul(j,J);return e.add(e.add(dt,e.mul(J,q)),H)}if(!e.eql(e.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function h(J){return"bigint"==typeof J&&Pn<J&&J<t.n}function p(J){if(!h(J))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function b(J){const{allowedPrivateKeyLengths:q,nByteLength:H,wrapPrivateKey:j,n:dt}=t;if(q&&"bigint"!=typeof J){if(Te(J)&&(J=Re(J)),"string"!=typeof J||!q.includes(J.length))throw new Error("Invalid key");J=J.padStart(2*H,"0")}let gt;try{gt="bigint"==typeof J?J:Tn($e("private key",J,H))}catch{throw new Error(`private key must be ${H} bytes, hex or bigint, not ${typeof J}`)}return j&&(gt=Ne(gt,dt)),p(gt),gt}const R=new Map;function L(J){if(!(J instanceof K))throw new Error("ProjectivePoint expected")}class K{constructor(q,H,j){if(this.px=q,this.py=H,this.pz=j,null==q||!e.isValid(q))throw new Error("x required");if(null==H||!e.isValid(H))throw new Error("y required");if(null==j||!e.isValid(j))throw new Error("z required")}static fromAffine(q){const{x:H,y:j}=q||{};if(!q||!e.isValid(H)||!e.isValid(j))throw new Error("invalid affine point");if(q instanceof K)throw new Error("projective point not allowed");const dt=gt=>e.eql(gt,e.ZERO);return dt(H)&&dt(j)?K.ZERO:new K(H,j,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(q){const H=e.invertBatch(q.map(j=>j.pz));return q.map((j,dt)=>j.toAffine(H[dt])).map(K.fromAffine)}static fromHex(q){const H=K.fromAffine(a($e("pointHex",q)));return H.assertValidity(),H}static fromPrivateKey(q){return K.BASE.multiply(b(q))}_setWindowSize(q){this._WINDOW_SIZE=q,R.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:q,y:H}=this.toAffine();if(!e.isValid(q)||!e.isValid(H))throw new Error("bad point: x or y not FE");const j=e.sqr(H),dt=c(q);if(!e.eql(j,dt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:q}=this.toAffine();if(e.isOdd)return!e.isOdd(q);throw new Error("Field doesn't support isOdd")}equals(q){L(q);const{px:H,py:j,pz:dt}=this,{px:gt,py:Wt,pz:vt}=q,$t=e.eql(e.mul(H,vt),e.mul(gt,dt)),Qt=e.eql(e.mul(j,vt),e.mul(Wt,dt));return $t&&Qt}negate(){return new K(this.px,e.neg(this.py),this.pz)}double(){const{a:q,b:H}=t,j=e.mul(H,Vr),{px:dt,py:gt,pz:Wt}=this;let vt=e.ZERO,$t=e.ZERO,Qt=e.ZERO,te=e.mul(dt,dt),Me=e.mul(gt,gt),_e=e.mul(Wt,Wt),de=e.mul(dt,gt);return de=e.add(de,de),Qt=e.mul(dt,Wt),Qt=e.add(Qt,Qt),vt=e.mul(q,Qt),$t=e.mul(j,_e),$t=e.add(vt,$t),vt=e.sub(Me,$t),$t=e.add(Me,$t),$t=e.mul(vt,$t),vt=e.mul(de,vt),Qt=e.mul(j,Qt),_e=e.mul(q,_e),de=e.sub(te,_e),de=e.mul(q,de),de=e.add(de,Qt),Qt=e.add(te,te),te=e.add(Qt,te),te=e.add(te,_e),te=e.mul(te,de),$t=e.add($t,te),_e=e.mul(gt,Wt),_e=e.add(_e,_e),te=e.mul(_e,de),vt=e.sub(vt,te),Qt=e.mul(_e,Me),Qt=e.add(Qt,Qt),Qt=e.add(Qt,Qt),new K(vt,$t,Qt)}add(q){L(q);const{px:H,py:j,pz:dt}=this,{px:gt,py:Wt,pz:vt}=q;let $t=e.ZERO,Qt=e.ZERO,te=e.ZERO;const Me=t.a,_e=e.mul(t.b,Vr);let de=e.mul(H,gt),un=e.mul(j,Wt),sn=e.mul(dt,vt),vn=e.add(H,j),Tt=e.add(gt,Wt);vn=e.mul(vn,Tt),Tt=e.add(de,un),vn=e.sub(vn,Tt),Tt=e.add(H,dt);let Gt=e.add(gt,vt);return Tt=e.mul(Tt,Gt),Gt=e.add(de,sn),Tt=e.sub(Tt,Gt),Gt=e.add(j,dt),$t=e.add(Wt,vt),Gt=e.mul(Gt,$t),$t=e.add(un,sn),Gt=e.sub(Gt,$t),te=e.mul(Me,Tt),$t=e.mul(_e,sn),te=e.add($t,te),$t=e.sub(un,te),te=e.add(un,te),Qt=e.mul($t,te),un=e.add(de,de),un=e.add(un,de),sn=e.mul(Me,sn),Tt=e.mul(_e,Tt),un=e.add(un,sn),sn=e.sub(de,sn),sn=e.mul(Me,sn),Tt=e.add(Tt,sn),de=e.mul(un,Tt),Qt=e.add(Qt,de),de=e.mul(Gt,Tt),$t=e.mul(vn,$t),$t=e.sub($t,de),de=e.mul(vn,un),te=e.mul(Gt,te),te=e.add(te,de),new K($t,Qt,te)}subtract(q){return this.add(q.negate())}is0(){return this.equals(K.ZERO)}wNAF(q){return st.wNAFCached(this,R,q,H=>{const j=e.invertBatch(H.map(dt=>dt.pz));return H.map((dt,gt)=>dt.toAffine(j[gt])).map(K.fromAffine)})}multiplyUnsafe(q){const H=K.ZERO;if(q===Pn)return H;if(p(q),q===Je)return this;const{endo:j}=t;if(!j)return st.unsafeLadder(this,q);let{k1neg:dt,k1:gt,k2neg:Wt,k2:vt}=j.splitScalar(q),$t=H,Qt=H,te=this;for(;gt>Pn||vt>Pn;)gt&Je&&($t=$t.add(te)),vt&Je&&(Qt=Qt.add(te)),te=te.double(),gt>>=Je,vt>>=Je;return dt&&($t=$t.negate()),Wt&&(Qt=Qt.negate()),Qt=new K(e.mul(Qt.px,j.beta),Qt.py,Qt.pz),$t.add(Qt)}multiply(q){p(q);let j,dt,H=q;const{endo:gt}=t;if(gt){const{k1neg:Wt,k1:vt,k2neg:$t,k2:Qt}=gt.splitScalar(H);let{p:te,f:Me}=this.wNAF(vt),{p:_e,f:de}=this.wNAF(Qt);te=st.constTimeNegate(Wt,te),_e=st.constTimeNegate($t,_e),_e=new K(e.mul(_e.px,gt.beta),_e.py,_e.pz),j=te.add(_e),dt=Me.add(de)}else{const{p:Wt,f:vt}=this.wNAF(H);j=Wt,dt=vt}return K.normalizeZ([j,dt])[0]}multiplyAndAddUnsafe(q,H,j){const dt=K.BASE,gt=(vt,$t)=>$t!==Pn&&$t!==Je&&vt.equals(dt)?vt.multiply($t):vt.multiplyUnsafe($t),Wt=gt(this,H).add(gt(q,j));return Wt.is0()?void 0:Wt}toAffine(q){const{px:H,py:j,pz:dt}=this,gt=this.is0();null==q&&(q=gt?e.ONE:e.inv(dt));const Wt=e.mul(H,q),vt=e.mul(j,q),$t=e.mul(dt,q);if(gt)return{x:e.ZERO,y:e.ZERO};if(!e.eql($t,e.ONE))throw new Error("invZ was invalid");return{x:Wt,y:vt}}isTorsionFree(){const{h:q,isTorsionFree:H}=t;if(q===Je)return!0;if(H)return H(K,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:q,clearCofactor:H}=t;return q===Je?this:H?H(K,this):this.multiplyUnsafe(t.h)}toRawBytes(q=!0){return this.assertValidity(),o(K,this,q)}toHex(q=!0){return Re(this.toRawBytes(q))}}K.BASE=new K(t.Gx,t.Gy,e.ONE),K.ZERO=new K(e.ZERO,e.ONE,e.ZERO);const tt=t.nBitLength,st=po(K,t.endo?Math.ceil(tt/2):tt);return{CURVE:t,ProjectivePoint:K,normPrivateKeyToScalar:b,weierstrassEquation:c,isWithinCurveOrder:h}}({...t,toBytes(Tt,Gt,pe){const Ct=Gt.toAffine(),pt=e.toBytes(Ct.x),Zt=Rn;return pe?Zt(Uint8Array.from([Gt.hasEvenY()?2:3]),pt):Zt(Uint8Array.from([4]),pt,e.toBytes(Ct.y))},fromBytes(Tt){const Gt=Tt.length,pe=Tt[0],Ct=Tt.subarray(1);if(Gt!==a||2!==pe&&3!==pe){if(Gt===c&&4===pe)return{x:e.fromBytes(Ct.subarray(0,e.BYTES)),y:e.fromBytes(Ct.subarray(e.BYTES,2*e.BYTES))};throw new Error(`Point of length ${Gt} was invalid. Expected ${a} compressed bytes or ${c} uncompressed bytes`)}{const pt=Tn(Ct);if(!function h(Tt){return Pn<Tt&&Tt<e.ORDER}(pt))throw new Error("Point is not on curve");const Zt=K(pt);let ee;try{ee=e.sqrt(Zt)}catch(ge){const Ee=ge instanceof Error?": "+ge.message:"";throw new Error("Point is not on curve"+Ee)}return 1==(1&pe)!=((ee&Je)===Je)&&(ee=e.neg(ee)),{x:pt,y:ee}}}}),st=Tt=>Re(Ln(Tt,t.nByteLength));function J(Tt){return Tt>o>>Je}const H=(Tt,Gt,pe)=>Tn(Tt.slice(Gt,pe));class j{constructor(Gt,pe,Ct){this.r=Gt,this.s=pe,this.recovery=Ct,this.assertValidity()}static fromCompact(Gt){const pe=t.nByteLength;return Gt=$e("compactSignature",Gt,2*pe),new j(H(Gt,0,pe),H(Gt,pe,2*pe))}static fromDER(Gt){const{r:pe,s:Ct}=rr.toSig($e("DER",Gt));return new j(pe,Ct)}assertValidity(){if(!tt(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!tt(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Gt){return new j(this.r,this.s,Gt)}recoverPublicKey(Gt){const{r:pe,s:Ct,recovery:pt}=this,Zt=Qt($e("msgHash",Gt));if(null==pt||![0,1,2,3].includes(pt))throw new Error("recovery id invalid");const ee=2===pt||3===pt?pe+t.n:pe;if(ee>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const ye=R.fromHex((1&pt?"03":"02")+st(ee)),ge=b(ee),Ee=p(-Zt*ge),be=p(Ct*ge),ke=R.BASE.multiplyAndAddUnsafe(ye,Ee,be);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return J(this.s)}normalizeS(){return this.hasHighS()?new j(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return Cn(this.toDERHex())}toDERHex(){return rr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Cn(this.toCompactHex())}toCompactHex(){return st(this.r)+st(this.s)}}const dt={isValidPrivateKey(Tt){try{return L(Tt),!0}catch{return!1}},normPrivateKeyToScalar:L,randomPrivateKey:()=>{const Tt=fo(t.n);return function ua(i,t,e=!1){const o=i.length,a=ho(t),c=fo(t);if(o<16||o<c||o>1024)throw new Error(`expected ${c}-1024 bytes of input, got ${o}`);const p=Ne(e?Tn(i):Un(i),t-Ce)+Ce;return e?Wn(p,a):Ln(p,a)}(t.randomBytes(Tt),t.n)},precompute:(Tt=8,Gt=R.BASE)=>(Gt._setWindowSize(Tt),Gt.multiply(BigInt(3)),Gt)};function Wt(Tt){const Gt=Te(Tt),pe="string"==typeof Tt,Ct=(Gt||pe)&&Tt.length;return Gt?Ct===a||Ct===c:pe?Ct===2*a||Ct===2*c:Tt instanceof R}const $t=t.bits2int||function(Tt){const Gt=Tn(Tt),pe=8*Tt.length-t.nBitLength;return pe>0?Gt>>BigInt(pe):Gt},Qt=t.bits2int_modN||function(Tt){return p($t(Tt))},te=Qn(t.nBitLength);function Me(Tt){if("bigint"!=typeof Tt)throw new Error("bigint expected");if(!(Pn<=Tt&&Tt<te))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ln(Tt,t.nByteLength)}const de={lowS:t.lowS,prehash:!1},un={lowS:t.lowS,prehash:!1};return R.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function gt(Tt,Gt=!0){return R.fromPrivateKey(Tt).toRawBytes(Gt)},getSharedSecret:function vt(Tt,Gt,pe=!0){if(Wt(Tt))throw new Error("first arg must be private key");if(!Wt(Gt))throw new Error("second arg must be public key");return R.fromHex(Gt).multiply(L(Tt)).toRawBytes(pe)},sign:function sn(Tt,Gt,pe=de){const{seed:Ct,k2sig:pt}=function _e(Tt,Gt,pe=de){if(["recovered","canonical"].some(Qe=>Qe in pe))throw new Error("sign() legacy options not supported");const{hash:Ct,randomBytes:pt}=t;let{lowS:Zt,prehash:ee,extraEntropy:se}=pe;null==Zt&&(Zt=!0),Tt=$e("msgHash",Tt),ee&&(Tt=$e("prehashed msgHash",Ct(Tt)));const ye=Qt(Tt),ge=L(Gt),Ee=[Me(ge),Me(ye)];if(null!=se&&!1!==se){const Qe=!0===se?pt(e.BYTES):se;Ee.push($e("extraEntropy",Qe))}const be=Rn(...Ee),ke=ye;return{seed:be,k2sig:function ln(Qe){const gn=$t(Qe);if(!tt(gn))return;const mn=b(gn),dn=R.BASE.multiply(gn).toAffine(),wn=p(dn.x);if(wn===Pn)return;const Hn=p(mn*p(ke+wn*ge));if(Hn===Pn)return;let cr=(dn.x===wn?0:2)|Number(dn.y&Je),Dr=Hn;return Zt&&J(Hn)&&(Dr=function q(Tt){return J(Tt)?p(-Tt):Tt}(Hn),cr^=1),new j(wn,Dr,cr)}}}(Tt,Gt,pe);return hr(t.hash.outputLen,t.nByteLength,t.hmac)(Ct,pt)},verify:function vn(Tt,Gt,pe,Ct=un){const pt=Tt;if(Gt=$e("msgHash",Gt),pe=$e("publicKey",pe),"strict"in Ct)throw new Error("options.strict was renamed to lowS");const{lowS:Zt,prehash:ee}=Ct;let se,ye;try{if("string"==typeof pt||Te(pt))try{se=j.fromDER(pt)}catch(dn){if(!(dn instanceof rr.Err))throw dn;se=j.fromCompact(pt)}else{if("object"!=typeof pt||"bigint"!=typeof pt.r||"bigint"!=typeof pt.s)throw new Error("PARSE");{const{r:dn,s:wn}=pt;se=new j(dn,wn)}}ye=R.fromHex(pe)}catch(dn){if("PARSE"===dn.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Zt&&se.hasHighS())return!1;ee&&(Gt=t.hash(Gt));const{r:ge,s:Ee}=se,be=Qt(Gt),ke=b(Ee),ln=p(be*ke),Qe=p(ge*ke),gn=R.BASE.multiplyAndAddUnsafe(ye,ln,Qe)?.toAffine();return!!gn&&p(gn.x)===ge},ProjectivePoint:R,Signature:j,utils:dt}}function oc(i){return{hash:i,hmac:(t,...e)=>Fo(i,t,function B(...i){let t=0;for(let o=0;o<i.length;o++){const a=i[o];ct(a),t+=a.length}const e=new Uint8Array(t);for(let o=0,a=0;o<i.length;o++){const c=i[o];e.set(c,a),a+=c.length}return e}(...e)),randomBytes:ae}}BigInt(4);const Gr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),jr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),No=BigInt(1),Yr=BigInt(2),Do=(i,t)=>(i+t/Yr)/t;const Ui=lo(Gr,void 0,void 0,{sqrt:function qo(i){const t=Gr,e=BigInt(3),o=BigInt(6),a=BigInt(11),c=BigInt(22),h=BigInt(23),p=BigInt(44),b=BigInt(88),R=i*i*i%t,L=R*R*i%t,K=Ye(L,e,t)*L%t,tt=Ye(K,e,t)*L%t,st=Ye(tt,Yr,t)*R%t,J=Ye(st,a,t)*st%t,q=Ye(J,c,t)*J%t,H=Ye(q,p,t)*q%t,j=Ye(H,b,t)*H%t,dt=Ye(j,p,t)*q%t,gt=Ye(dt,e,t)*L%t,Wt=Ye(gt,h,t)*J%t,vt=Ye(Wt,o,t)*R%t,$t=Ye(vt,Yr,t);if(!Ui.eql(Ui.sqr($t),i))throw new Error("Cannot find square root");return $t}}),Ar=function sc(i,t){const e=o=>rc({...i,...oc(o)});return Object.freeze({...e(t),create:e})}({a:BigInt(0),b:BigInt(7),Fp:Ui,n:jr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:i=>{const t=jr,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-No*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),c=e,h=BigInt("0x100000000000000000000000000000000"),p=Do(c*i,t),b=Do(-o*i,t);let R=Ne(i-p*e-b*a,t),L=Ne(-p*o-b*c,t);const K=R>h,tt=L>h;if(K&&(R=t-R),tt&&(L=t-L),R>h||L>h)throw new Error("splitScalar: Endomorphism failed, k="+i);return{k1neg:K,k1:R,k2neg:tt,k2:L}}}},vi);BigInt(0);const Zo=()=>{const i=an.utils.randomPrivateKey(),t=Xr(i),e=new Uint8Array(64);return e.set(i),e.set(t,32),{publicKey:t,secretKey:e}},Xr=an.getPublicKey;function Ho(i){try{return an.ExtendedPoint.fromHex(i),!0}catch{return!1}}const qi=(i,t)=>an.sign(i,t.slice(0,32)),fc=an.verify,le=i=>nt.lW.isBuffer(i)?i:i instanceof Uint8Array?nt.lW.from(i.buffer,i.byteOffset,i.byteLength):nt.lW.from(i);class dc{constructor(t){Object.assign(this,t)}encode(){return nt.lW.from((0,Ai.serialize)(Qr,this))}static decode(t){return(0,Ai.deserialize)(Qr,this,t)}static decodeUnchecked(t){return(0,Ai.deserializeUnchecked)(Qr,this,t)}}const Qr=new Map;let Go=1;class St extends dc{constructor(t){if(super({}),this._bn=void 0,function yc(i){return void 0!==i._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=pn().decode(t);if(32!=e.length)throw new Error("Invalid public key input");this._bn=new(_o())(e)}else this._bn=new(_o())(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const t=new St(Go);return Go+=1,new St(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return pn().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(nt.lW);if(32===t.length)return t;const e=nt.lW.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static createWithSeed(t,e,o){return x(function*(){const a=nt.lW.concat([t.toBuffer(),nt.lW.from(e),o.toBuffer()]),c=vi(a);return new St(c)})()}static createProgramAddressSync(t,e){let o=nt.lW.alloc(0);t.forEach(function(c){if(c.length>32)throw new TypeError("Max seed length exceeded");o=nt.lW.concat([o,le(c)])}),o=nt.lW.concat([o,e.toBuffer(),nt.lW.from("ProgramDerivedAddress")]);const a=vi(o);if(Ho(a))throw new Error("Invalid seeds, address must fall off the curve");return new St(a)}static createProgramAddress(t,e){var o=this;return x(function*(){return o.createProgramAddressSync(t,e)})()}static findProgramAddressSync(t,e){let a,o=255;for(;0!=o;){try{const c=t.concat(nt.lW.from([o]));a=this.createProgramAddressSync(c,e)}catch(c){if(c instanceof TypeError)throw c;o--;continue}return[a,o]}throw new Error("Unable to find a viable program address nonce")}static findProgramAddress(t,e){var o=this;return x(function*(){return o.findProgramAddressSync(t,e)})()}static isOnCurve(t){return Ho(new St(t).toBytes())}}St.default=new St("11111111111111111111111111111111"),Qr.set(St,{kind:"struct",fields:[["_bn","u256"]]}),new St("BPFLoader1111111111111111111111111111111111");const ir=1232;class jo extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(jo.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Yo extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Yo.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Rr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Rr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ei{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const o=new Map;this.keySegments().flat().forEach((c,h)=>{o.set(c.toBase58(),h)});const a=c=>{const h=o.get(c.toBase58());if(void 0===h)throw new Error("Encountered an unknown instruction account key during compilation");return h};return t.map(c=>({programIdIndex:a(c.programId),accountKeyIndexes:c.keys.map(h=>a(h.pubkey)),data:c.data}))}}const me=(i="publicKey")=>z.Ik(32,i),or=(i="string")=>{const t=z.n_([z.Jq("length"),z.Jq("lengthPadding"),z.Ik(z.cv(z.Jq(),-8),"chars")],i),e=t.decode.bind(t),o=t.encode.bind(t),a=t;return a.decode=(c,h)=>e(c,h).chars.toString(),a.encode=(c,h,p)=>{const b={chars:nt.lW.from(c,"utf8")};return o(b,h,p)},a.alloc=c=>z.Jq().span+z.Jq().span+nt.lW.from(c,"utf8").length,a};function Jo(i,t){const e=a=>{if(a.span>=0)return a.span;if("function"==typeof a.alloc)return a.alloc(t[a.property]);if("count"in a&&"elementLayout"in a){const c=t[a.property];if(Array.isArray(c))return c.length*e(a.elementLayout)}else if("fields"in a)return Jo({layout:a},t[a.property]);return 0};let o=0;return i.layout.fields.forEach(a=>{o+=e(a)}),o}function xn(i){let t=0,e=0;for(;;){let o=i.shift();if(t|=(127&o)<<7*e,e+=1,!(128&o))break}return t}function Sn(i,t){let e=t;for(;;){let o=127&e;if(e>>=7,0==e){i.push(o);break}o|=128,i.push(o)}}function xe(i,t){if(!i)throw new Error(t||"Assertion failed")}class ni{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const o=new Map,a=h=>{const p=h.toBase58();let b=o.get(p);return void 0===b&&(b={isSigner:!1,isWritable:!1,isInvoked:!1},o.set(p,b)),b},c=a(e);c.isSigner=!0,c.isWritable=!0;for(const h of t){a(h.programId).isInvoked=!0;for(const p of h.keys){const b=a(p.pubkey);b.isSigner||=p.isSigner,b.isWritable||=p.isWritable}}return new ni(e,o)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];xe(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,b])=>b.isSigner&&b.isWritable),o=t.filter(([,b])=>b.isSigner&&!b.isWritable),a=t.filter(([,b])=>!b.isSigner&&b.isWritable),c=t.filter(([,b])=>!b.isSigner&&!b.isWritable),h={numRequiredSignatures:e.length+o.length,numReadonlySignedAccounts:o.length,numReadonlyUnsignedAccounts:c.length};{xe(e.length>0,"Expected at least one writable signer key");const[b]=e[0];xe(b===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[h,[...e.map(([b])=>new St(b)),...o.map(([b])=>new St(b)),...a.map(([b])=>new St(b)),...c.map(([b])=>new St(b))]]}extractTableLookup(t){const[e,o]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[a,c]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(0!==e.length||0!==a.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:a},{writable:o,readonly:c}]}drainKeysFoundInLookupTable(t,e){const o=new Array,a=new Array;for(const[c,h]of this.keyMetaMap.entries())if(e(h)){const p=new St(c),b=t.findIndex(R=>R.equals(p));b>=0&&(xe(b<256,"Max lookup table index exceeded"),o.push(b),a.push(p),this.keyMetaMap.delete(c))}return[o,a]}}const Xo="Reached end of buffer unexpectedly";function Dn(i){if(0===i.length)throw new Error(Xo);return i.shift()}function _n(i,...t){const[e]=t;if(2===t.length?e+(t[1]??0)>i.length:e>=i.length)throw new Error(Xo);return i.splice(...t)}class qn{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new St(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:pn().decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ei(this.staticAccountKeys)}static compile(t){const e=ni.compile(t.instructions,t.payerKey),[o,a]=e.getMessageComponents(),h=new ei(a).compileInstructions(t.instructions).map(p=>({programIdIndex:p.programIdIndex,accounts:p.accountKeyIndexes,data:pn().encode(p.data)}));return new qn({header:o,accountKeys:a,recentBlockhash:t.recentBlockhash,instructions:h})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Sn(e,t);const o=this.instructions.map(K=>{const{accounts:tt,programIdIndex:st}=K,J=Array.from(pn().decode(K.data));let q=[];Sn(q,tt.length);let H=[];return Sn(H,J.length),{programIdIndex:st,keyIndicesCount:nt.lW.from(q),keyIndices:tt,dataLength:nt.lW.from(H),data:J}});let a=[];Sn(a,o.length);let c=nt.lW.alloc(ir);nt.lW.from(a).copy(c);let h=a.length;o.forEach(K=>{const st=z.n_([z.u8("programIdIndex"),z.Ik(K.keyIndicesCount.length,"keyIndicesCount"),z.A9(z.u8("keyIndex"),K.keyIndices.length,"keyIndices"),z.Ik(K.dataLength.length,"dataLength"),z.A9(z.u8("userdatum"),K.data.length,"data")]).encode(K,c,h);h+=st}),c=c.slice(0,h);const p=z.n_([z.Ik(1,"numRequiredSignatures"),z.Ik(1,"numReadonlySignedAccounts"),z.Ik(1,"numReadonlyUnsignedAccounts"),z.Ik(e.length,"keyCount"),z.A9(me("key"),t,"keys"),me("recentBlockhash")]),b={numRequiredSignatures:nt.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:nt.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:nt.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:nt.lW.from(e),keys:this.accountKeys.map(K=>le(K.toBytes())),recentBlockhash:pn().decode(this.recentBlockhash)};let R=nt.lW.alloc(2048);const L=p.encode(b,R);return c.copy(R,L),R.slice(0,L+c.length)}static from(t){let e=[...t];const o=Dn(e);if(o!==(127&o))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=Dn(e),c=Dn(e),h=xn(e);let p=[];for(let tt=0;tt<h;tt++){const st=_n(e,0,32);p.push(new St(nt.lW.from(st)))}const b=_n(e,0,32),R=xn(e);let L=[];for(let tt=0;tt<R;tt++){const st=Dn(e),q=_n(e,0,xn(e)),j=_n(e,0,xn(e)),dt=pn().encode(nt.lW.from(j));L.push({programIdIndex:st,accounts:q,data:dt})}const K={header:{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c},recentBlockhash:pn().encode(nt.lW.from(b)),accountKeys:p,instructions:L};return new qn(K)}}class yr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ei(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,o=this.staticAccountKeys.length;return t>=o?t-o<this.addressTableLookups.reduce((h,p)=>h+p.writableIndexes.length,0):t>=this.header.numRequiredSignatures?t-e<o-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const o of this.addressTableLookups){const a=t.find(c=>c.key.equals(o.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${o.accountKey.toBase58()}`);for(const c of o.writableIndexes){if(!(c<a.state.addresses.length))throw new Error(`Failed to find address for index ${c} in address lookup table ${o.accountKey.toBase58()}`);e.writable.push(a.state.addresses[c])}for(const c of o.readonlyIndexes){if(!(c<a.state.addresses.length))throw new Error(`Failed to find address for index ${c} in address lookup table ${o.accountKey.toBase58()}`);e.readonly.push(a.state.addresses[c])}}return e}static compile(t){const e=ni.compile(t.instructions,t.payerKey),o=new Array,a={writable:new Array,readonly:new Array},c=t.addressLookupTableAccounts||[];for(const L of c){const K=e.extractTableLookup(L);if(void 0!==K){const[tt,{writable:st,readonly:J}]=K;o.push(tt),a.writable.push(...st),a.readonly.push(...J)}}const[h,p]=e.getMessageComponents(),R=new ei(p,a).compileInstructions(t.instructions);return new yr({header:h,staticAccountKeys:p,recentBlockhash:t.recentBlockhash,compiledInstructions:R,addressTableLookups:o})}serialize(){const t=Array();Sn(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),o=Array();Sn(o,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),c=Array();Sn(c,this.addressTableLookups.length);const h=z.n_([z.u8("prefix"),z.n_([z.u8("numRequiredSignatures"),z.u8("numReadonlySignedAccounts"),z.u8("numReadonlyUnsignedAccounts")],"header"),z.Ik(t.length,"staticAccountKeysLength"),z.A9(me(),this.staticAccountKeys.length,"staticAccountKeys"),me("recentBlockhash"),z.Ik(o.length,"instructionsLength"),z.Ik(e.length,"serializedInstructions"),z.Ik(c.length,"addressTableLookupsLength"),z.Ik(a.length,"serializedAddressTableLookups")]),p=new Uint8Array(ir),R=h.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(L=>L.toBytes()),recentBlockhash:pn().decode(this.recentBlockhash),instructionsLength:new Uint8Array(o),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(c),serializedAddressTableLookups:a},p);return p.slice(0,R)}serializeInstructions(){let t=0;const e=new Uint8Array(ir);for(const o of this.compiledInstructions){const a=Array();Sn(a,o.accountKeyIndexes.length);const c=Array();Sn(c,o.data.length),t+=z.n_([z.u8("programIdIndex"),z.Ik(a.length,"encodedAccountKeyIndexesLength"),z.A9(z.u8(),o.accountKeyIndexes.length,"accountKeyIndexes"),z.Ik(c.length,"encodedDataLength"),z.Ik(o.data.length,"data")]).encode({programIdIndex:o.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:o.accountKeyIndexes,encodedDataLength:new Uint8Array(c),data:o.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(ir);for(const o of this.addressTableLookups){const a=Array();Sn(a,o.writableIndexes.length);const c=Array();Sn(c,o.readonlyIndexes.length),t+=z.n_([me("accountKey"),z.Ik(a.length,"encodedWritableIndexesLength"),z.A9(z.u8(),o.writableIndexes.length,"writableIndexes"),z.Ik(c.length,"encodedReadonlyIndexesLength"),z.A9(z.u8(),o.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:o.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:o.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(c),readonlyIndexes:o.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const o=Dn(e),a=127&o;xe(o!==a,"Expected versioned message but received legacy message"),xe(0===a,`Expected versioned message with version 0 but found version ${a}`);const h={numRequiredSignatures:Dn(e),numReadonlySignedAccounts:Dn(e),numReadonlyUnsignedAccounts:Dn(e)},p=[],b=xn(e);for(let J=0;J<b;J++)p.push(new St(_n(e,0,32)));const R=pn().encode(_n(e,0,32)),L=xn(e),K=[];for(let J=0;J<L;J++){const q=Dn(e),j=_n(e,0,xn(e)),dt=xn(e),gt=new Uint8Array(_n(e,0,dt));K.push({programIdIndex:q,accountKeyIndexes:j,data:gt})}const tt=xn(e),st=[];for(let J=0;J<tt;J++){const q=new St(_n(e,0,32)),j=_n(e,0,xn(e)),gt=_n(e,0,xn(e));st.push({accountKey:q,writableIndexes:j,readonlyIndexes:gt})}return new yr({header:h,staticAccountKeys:p,recentBlockhash:R,compiledInstructions:K,addressTableLookups:st})}}let Jn=function(i){return i[i.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",i[i.PROCESSED=1]="PROCESSED",i[i.TIMED_OUT=2]="TIMED_OUT",i[i.NONCE_INVALID=3]="NONCE_INVALID",i}({});const _c=nt.lW.alloc(64).fill(0);class Le{constructor(t){this.keys=void 0,this.programId=void 0,this.data=nt.lW.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:o})=>({pubkey:t.toJSON(),isSigner:e,isWritable:o})),programId:this.programId.toJSON(),data:[...this.data]}}}class De{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:o}=t;this.minNonceContextSlot=e,this.nonceInfo=o}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:o}=t;this.recentBlockhash=e,this.lastValidBlockHeight=o}else{const{recentBlockhash:e,nonceInfo:o}=t;o&&(this.nonceInfo=o),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):this.instructions.push("data"in e&&"programId"in e&&"keys"in e?e:new Le(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,o;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)o=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");o=this.signatures[0].publicKey}for(let q=0;q<e.length;q++)if(void 0===e[q].programId)throw new Error(`Transaction instruction index ${q} has undefined program id`);const a=[],c=[];e.forEach(q=>{q.keys.forEach(j=>{c.push({...j})});const H=q.programId.toString();a.includes(H)||a.push(H)}),a.forEach(q=>{c.push({pubkey:new St(q),isSigner:!1,isWritable:!1})});const h=[];c.forEach(q=>{const H=q.pubkey.toString(),j=h.findIndex(dt=>dt.pubkey.toString()===H);j>-1?(h[j].isWritable=h[j].isWritable||q.isWritable,h[j].isSigner=h[j].isSigner||q.isSigner):h.push(q)}),h.sort(function(q,H){return q.isSigner!==H.isSigner?q.isSigner?-1:1:q.isWritable!==H.isWritable?q.isWritable?-1:1:q.pubkey.toBase58().localeCompare(H.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const p=h.findIndex(q=>q.pubkey.equals(o));if(p>-1){const[q]=h.splice(p,1);q.isSigner=!0,q.isWritable=!0,h.unshift(q)}else h.unshift({pubkey:o,isSigner:!0,isWritable:!0});for(const q of this.signatures){const H=h.findIndex(j=>j.pubkey.equals(q.publicKey));if(!(H>-1))throw new Error(`unknown signer: ${q.publicKey.toString()}`);h[H].isSigner||(h[H].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let b=0,R=0,L=0;const K=[],tt=[];h.forEach(({pubkey:q,isSigner:H,isWritable:j})=>{H?(K.push(q.toString()),b+=1,j||(R+=1)):(tt.push(q.toString()),j||(L+=1))});const st=K.concat(tt),J=e.map(q=>{const{data:H,programId:j}=q;return{programIdIndex:st.indexOf(j.toString()),accounts:q.keys.map(dt=>st.indexOf(dt.pubkey.toString())),data:pn().encode(H)}});return J.forEach(q=>{xe(q.programIdIndex>=0),q.accounts.forEach(H=>xe(H>=0))}),new qn({header:{numRequiredSignatures:b,numReadonlySignedAccounts:R,numReadonlyUnsignedAccounts:L},accountKeys:st,recentBlockhash:t,instructions:J})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((a,c)=>e[c].equals(a.publicKey))||(this.signatures=e.map(o=>({signature:null,publicKey:o}))),t}serializeMessage(){return this._compile().serialize()}getEstimatedFee(t){var e=this;return x(function*(){return(yield t.getFeeForMessage(e.compileMessage())).value})()}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter(o=>{const a=o.toString();return!e.has(a)&&(e.add(a),!0)}).map(o=>({signature:null,publicKey:o}))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,o=[];for(const c of t){const h=c.publicKey.toString();e.has(h)||(e.add(h),o.push(c))}this.signatures=o.map(c=>({signature:null,publicKey:c.publicKey}));const a=this._compile();this._partialSign(a,...o)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,o=[];for(const c of t){const h=c.publicKey.toString();e.has(h)||(e.add(h),o.push(c))}const a=this._compile();this._partialSign(a,...o)}_partialSign(t,...e){const o=t.serialize();e.forEach(a=>{const c=qi(o,a.secretKey);this._addSignature(a.publicKey,le(c))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){xe(64===e.length);const o=this.signatures.findIndex(a=>t.equals(a.publicKey));if(o<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[o].signature=nt.lW.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const o={};for(const{signature:a,publicKey:c}of this.signatures)null===a?e&&(o.missing||=[]).push(c):fc(a,t,c.toBytes())||(o.invalid||=[]).push(c);return o.invalid||o.missing?o:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:o}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),a=this.serializeMessage();if(o){const c=this._getMessageSignednessErrors(a,e);if(c){let h="Signature verification failed.";throw c.invalid&&(h+=`\nInvalid signature for public key${1===c.invalid.length?"":"(s)"} [\`${c.invalid.map(p=>p.toBase58()).join("`, `")}\`].`),c.missing&&(h+=`\nMissing signature for public key${1===c.missing.length?"":"(s)"} [\`${c.missing.map(p=>p.toBase58()).join("`, `")}\`].`),new Error(h)}}return this._serialize(a)}_serialize(t){const{signatures:e}=this,o=[];Sn(o,e.length);const c=nt.lW.alloc(o.length+64*e.length+t.length);return xe(e.length<256),nt.lW.from(o).copy(c,0),e.forEach(({signature:h},p)=>{null!==h&&(xe(64===h.length,"signature has invalid length"),nt.lW.from(h).copy(c,o.length+64*p))}),t.copy(c,o.length+64*e.length),xe(c.length<=ir,`Transaction too large: ${c.length} > 1232`),c}get keys(){return xe(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return xe(1===this.instructions.length),this.instructions[0].programId}get data(){return xe(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const o=xn(e);let a=[];for(let c=0;c<o;c++){const h=_n(e,0,64);a.push(pn().encode(nt.lW.from(h)))}return De.populate(qn.from(e),a)}static populate(t,e=[]){const o=new De;return o.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(o.feePayer=t.accountKeys[0]),e.forEach((a,c)=>{const h={signature:a==pn().encode(_c)?null:pn().decode(a),publicKey:t.accountKeys[c]};o.signatures.push(h)}),t.instructions.forEach(a=>{const c=a.accounts.map(h=>{const p=t.accountKeys[h];return{pubkey:p,isSigner:o.signatures.some(b=>b.publicKey.toString()===p.toString())||t.isAccountSigner(h),isWritable:t.isAccountWritable(h)}});o.instructions.push(new Le({keys:c,programId:t.accountKeys[a.programIdIndex],data:pn().decode(a.data)}))}),o._message=t,o._json=o.toJSON(),o}}const $n=new St("SysvarC1ock11111111111111111111111111111111"),Wi=(new St("SysvarEpochSchedu1e111111111111111111111111"),new St("Sysvar1nstructions1111111111111111111111111"),new St("SysvarRecentB1ockHashes11111111111111111111")),ri=new St("SysvarRent111111111111111111111111111111111"),Ki=(new St("SysvarRewards111111111111111111111111111111"),new St("SysvarS1otHashes111111111111111111111111111"),new St("SysvarS1otHistory11111111111111111111111111"),new St("SysvarStakeHistory1111111111111111111111111"));class ii extends Error{constructor({action:t,signature:e,transactionMessage:o,logs:a}){const c=a?`Logs: \n${JSON.stringify(a.slice(-10),null,2)}. `:"",h="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let p;switch(t){case"send":p=`Transaction ${e} resulted in an error. \n${o}. `+c+h;break;case"simulate":p=`Simulation failed. \nMessage: ${o}. \n`+c+h;break;default:p=`Unknown action '${t}'`}super(p),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=o,this.transactionLogs=a||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}getLogs(t){var e=this;return x(function*(){return Array.isArray(e.transactionLogs)||(e.transactionLogs=new Promise((o,a)=>{t.getTransaction(e.signature).then(c=>{if(c&&c.meta&&c.meta.logMessages){const h=c.meta.logMessages;e.transactionLogs=h,o(h)}else a(new Error("Log messages not found"))}).catch(a)})),yield e.transactionLogs})()}}class Xt extends Error{constructor({code:t,message:e,data:o},a){super(null!=a?`${a}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=o,this.name="SolanaJSONRPCError"}}function gr(i){return new Promise(t=>setTimeout(t,i))}function we(i,t){const e=i.layout.span>=0?i.layout.span:Jo(i,t),o=nt.lW.alloc(e),a=Object.assign({instruction:i.index},t);return i.layout.encode(a,o),o}const Ec=z._O("lamportsPerSignature"),ns=z.n_([z.Jq("version"),z.Jq("state"),me("authorizedPubkey"),me("nonce"),z.n_([Ec],"feeCalculator")]),rs=ns.span;class Zi{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=ns.decode(le(t),0);return new Zi({authorizedPubkey:new St(e.authorizedPubkey),nonce:new St(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const mr=t=>{const e=(0,z.Ik)(8,t),{encode:o,decode:a}={decode:(i=e).decode.bind(i),encode:i.encode.bind(i)},c=e;var i;return c.decode=(h,p)=>{const b=a(h,p);return(0,Ti.oU)(nt.lW.from(b))},c.encode=(h,p,b)=>{const R=(0,Ti.k$)(h,8);return o(R,p,b)},c},qe=Object.freeze({Create:{index:0,layout:z.n_([z.Jq("instruction"),z.gM("lamports"),z.gM("space"),me("programId")])},Assign:{index:1,layout:z.n_([z.Jq("instruction"),me("programId")])},Transfer:{index:2,layout:z.n_([z.Jq("instruction"),mr("lamports")])},CreateWithSeed:{index:3,layout:z.n_([z.Jq("instruction"),me("base"),or("seed"),z.gM("lamports"),z.gM("space"),me("programId")])},AdvanceNonceAccount:{index:4,layout:z.n_([z.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:z.n_([z.Jq("instruction"),z.gM("lamports")])},InitializeNonceAccount:{index:6,layout:z.n_([z.Jq("instruction"),me("authorized")])},AuthorizeNonceAccount:{index:7,layout:z.n_([z.Jq("instruction"),me("authorized")])},Allocate:{index:8,layout:z.n_([z.Jq("instruction"),z.gM("space")])},AllocateWithSeed:{index:9,layout:z.n_([z.Jq("instruction"),me("base"),or("seed"),z.gM("space"),me("programId")])},AssignWithSeed:{index:10,layout:z.n_([z.Jq("instruction"),me("base"),or("seed"),me("programId")])},TransferWithSeed:{index:11,layout:z.n_([z.Jq("instruction"),mr("lamports"),or("seed"),me("programId")])},UpgradeNonceAccount:{index:12,layout:z.n_([z.Jq("instruction")])}});class kn{constructor(){}static createAccount(t){const o=we(qe.Create,{lamports:t.lamports,space:t.space,programId:le(t.programId.toBuffer())});return new Le({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:o})}static transfer(t){let e,o;return"basePubkey"in t?(e=we(qe.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:le(t.programId.toBuffer())}),o=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=we(qe.Transfer,{lamports:BigInt(t.lamports)}),o=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new Le({keys:o,programId:this.programId,data:e})}static assign(t){let e,o;return"basePubkey"in t?(e=we(qe.AssignWithSeed,{base:le(t.basePubkey.toBuffer()),seed:t.seed,programId:le(t.programId.toBuffer())}),o=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=we(qe.Assign,{programId:le(t.programId.toBuffer())}),o=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Le({keys:o,programId:this.programId,data:e})}static createAccountWithSeed(t){const o=we(qe.CreateWithSeed,{base:le(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:le(t.programId.toBuffer())});let a=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&a.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Le({keys:a,programId:this.programId,data:o})}static createNonceAccount(t){const e=new De;return e.add("basePubkey"in t&&"seed"in t?kn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:rs,programId:this.programId}):kn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:rs,programId:this.programId})),e.add(this.nonceInitialize({noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey})),e}static nonceInitialize(t){const o=we(qe.InitializeNonceAccount,{authorized:le(t.authorizedPubkey.toBuffer())});return new Le({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wi,isSigner:!1,isWritable:!1},{pubkey:ri,isSigner:!1,isWritable:!1}],programId:this.programId,data:o})}static nonceAdvance(t){const o=we(qe.AdvanceNonceAccount);return new Le({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wi,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static nonceWithdraw(t){const o=we(qe.WithdrawNonceAccount,{lamports:t.lamports});return new Le({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Wi,isSigner:!1,isWritable:!1},{pubkey:ri,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static nonceAuthorize(t){const o=we(qe.AuthorizeNonceAccount,{authorized:le(t.newAuthorizedPubkey.toBuffer())});return new Le({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static allocate(t){let e,o;return"basePubkey"in t?(e=we(qe.AllocateWithSeed,{base:le(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:le(t.programId.toBuffer())}),o=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=we(qe.Allocate,{space:t.space}),o=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Le({keys:o,programId:this.programId,data:e})}}function Sc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}kn.programId=new St("11111111111111111111111111111111"),new St("BPFLoader2111111111111111111111111111111111");var Ic=Object.prototype.toString,vc=Object.keys||function(i){var t=[];for(var e in i)t.push(e);return t};function Mr(i,t){var e,o,a,c,h,p,b;if(!0===i)return"true";if(!1===i)return"false";switch(typeof i){case"object":if(null===i)return null;if(i.toJSON&&"function"==typeof i.toJSON)return Mr(i.toJSON(),t);if("[object Array]"===(b=Ic.call(i))){for(a="[",o=i.length-1,e=0;e<o;e++)a+=Mr(i[e],!0)+",";return o>-1&&(a+=Mr(i[e],!0)),a+"]"}if("[object Object]"===b){for(o=(c=vc(i).sort()).length,a="",e=0;e<o;)void 0!==(p=Mr(i[h=c[e]],!1))&&(a&&(a+=","),a+=JSON.stringify(h)+":"+p),e++;return"{"+a+"}"}return JSON.stringify(i);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}var os=Sc(function(i){var t=Mr(i,!1);if(void 0!==t)return""+t});function Hi(i){let t=0;for(;i>1;)i/=2,t++;return t}class Rc{constructor(t,e,o,a,c){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=o,this.firstNormalEpoch=a,this.firstNormalSlot=c}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Hi(function Tc(i){return 0===i?1:(i--,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i|=i>>16,1+(i|=i>>32))}(t+32+1))-Hi(32)-1;return[e,t-(this.getSlotsInEpoch(e)-32)]}{const e=t-this.firstNormalSlot,o=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+o,e%this.slotsPerEpoch]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Hi(32)):this.slotsPerEpoch}}var Mc=globalThis.fetch;class Pc extends Wa{constructor(t,e,o){super(c=>{const h=function Ao(i,t){return new qa(i,t)}(c,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in h?h.socket:h,h},t,e,o),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class as{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function Cc(i,t){let e;try{e=i.layout.decode(t)}catch(o){throw new Error("invalid instruction; "+o)}if(e.typeIndex!==i.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${i.index}`);return e}(Uc,t),o=t.length-56;xe(o>=0,"lookup table is invalid"),xe(o%32==0,"lookup table is invalid");const a=o/32,{addresses:c}=z.n_([z.A9(me(),a,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new St(e.authority[0]):void 0,addresses:c.map(h=>new St(h))}}}const Uc={index:1,layout:z.n_([z.Jq("typeIndex"),mr("deactivationSlot"),z._O("lastExtendedSlot"),z.u8("lastExtendedStartIndex"),z.u8(),z.A9(me(),z.cv(z.u8(),-1),"authority")])},Lc=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,He=nr(Pi(St),Et(),i=>new St(i)),cs=Ci([Et(),Ze("base64")]),Vi=nr(Pi(nt.lW),cs,i=>nt.lW.from(i[0],"base64"));function Fe(i){let t,e;if("string"==typeof i)t=i;else if(i){const{commitment:o,...a}=i;t=o,e=a}return{commitment:t,config:e}}function us(i){return i.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function ls(i){return bn([ht({jsonrpc:Ze("2.0"),id:Et(),result:i}),ht({jsonrpc:Ze("2.0"),id:Et(),error:ht({code:er(),message:Et(),data:ie(Bn("any",()=>!0))})})])}const Dc=ls(er());function he(i){return nr(ls(i),Dc,t=>"error"in t?t:{...t,result:It(t.result,i)})}function Xe(i){return he(ht({context:ht({slot:G()}),value:i}))}function oi(i){return ht({context:ht({slot:G()}),value:i})}function Gi(i,t){return 0===i?new yr({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new St(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pn().decode(e.data)})),addressTableLookups:t.addressTableLookups}):new qn(t)}const qc=ht({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()}),zc=he(Ot(Nt(ht({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G(),commission:ie(Nt(G()))})))),Wc=Ot(ht({slot:G(),prioritizationFee:G()})),Kc=ht({total:G(),validator:G(),foundation:G(),epoch:G()}),$c=ht({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:ie(G()),transactionCount:ie(G())}),Zc=ht({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:Nn(),firstNormalEpoch:G(),firstNormalSlot:G()}),Hc=So(Et(),Ot(G())),sr=Nt(bn([ht({}),Et()])),Vc=ht({err:sr}),Gc=Ze("receivedSignature"),jc=ht({"solana-core":Et(),"feature-set":ie(G())}),Yc=ht({program:Et(),programId:He,parsed:er()}),Jc=ht({programId:He,accounts:Ot(He),data:Et()}),hs=Xe(ht({err:Nt(bn([ht({}),Et()])),logs:Nt(Ot(Et())),accounts:ie(Nt(Ot(Nt(ht({executable:Nn(),owner:Et(),lamports:G(),data:Ot(Et()),rentEpoch:ie(G())}))))),unitsConsumed:ie(G()),returnData:ie(Nt(ht({programId:Et(),data:Ci([Et(),Ze("base64")])}))),innerInstructions:ie(Nt(Ot(ht({index:G(),instructions:Ot(bn([Yc,Jc]))}))))})),Xc=Xe(ht({byIdentity:So(Et(),Ot(G())),range:ht({firstSlot:G(),lastSlot:G()})})),nu=he(qc),ru=he(Kc),iu=he(Wc),ou=he($c),su=he(Zc),au=he(Hc),cu=he(G()),uu=Xe(ht({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:Ot(He)})),ji=ht({amount:Et(),uiAmount:Nt(G()),decimals:G(),uiAmountString:ie(Et())}),lu=Xe(Ot(ht({address:He,amount:Et(),uiAmount:Nt(G()),decimals:G(),uiAmountString:ie(Et())}))),hu=Xe(Ot(ht({pubkey:He,account:ht({executable:Nn(),owner:He,lamports:G(),data:Vi,rentEpoch:G()})}))),Yi=ht({program:Et(),parsed:er(),space:G()}),fu=Xe(Ot(ht({pubkey:He,account:ht({executable:Nn(),owner:He,lamports:G(),data:Yi,rentEpoch:G()})}))),du=Xe(Ot(ht({lamports:G(),address:He}))),Cr=ht({executable:Nn(),owner:He,lamports:G(),data:Vi,rentEpoch:G()}),pu=ht({pubkey:He,account:Cr}),yu=nr(bn([Pi(nt.lW),Yi]),bn([cs,Yi]),i=>Array.isArray(i)?It(i,Vi):i),Ji=ht({executable:Nn(),owner:He,lamports:G(),data:yu,rentEpoch:G()}),gu=ht({pubkey:He,account:Ji}),mu=ht({state:bn([Ze("active"),Ze("inactive"),Ze("activating"),Ze("deactivating")]),active:G(),inactive:G()}),wu=he(Ot(ht({signature:Et(),slot:G(),err:sr,memo:Nt(Et()),blockTime:ie(Nt(G()))}))),bu=he(Ot(ht({signature:Et(),slot:G(),err:sr,memo:Nt(Et()),blockTime:ie(Nt(G()))}))),xu=ht({subscription:G(),result:oi(Cr)}),_u=ht({pubkey:He,account:Cr}),ku=ht({subscription:G(),result:oi(_u)}),Eu=ht({parent:G(),slot:G(),root:G()}),Bu=ht({subscription:G(),result:Eu}),Su=bn([ht({type:bn([Ze("firstShredReceived"),Ze("completed"),Ze("optimisticConfirmation"),Ze("root")]),slot:G(),timestamp:G()}),ht({type:Ze("createdBank"),parent:G(),slot:G(),timestamp:G()}),ht({type:Ze("frozen"),slot:G(),timestamp:G(),stats:ht({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),ht({type:Ze("dead"),slot:G(),timestamp:G(),err:Et()})]),Iu=ht({subscription:G(),result:Su}),vu=ht({subscription:G(),result:oi(bn([Vc,Gc]))}),Au=ht({subscription:G(),result:G()}),Tu=ht({pubkey:Et(),gossip:Nt(Et()),tpu:Nt(Et()),rpc:Nt(Et()),version:Nt(Et())}),fs=ht({votePubkey:Et(),nodePubkey:Et(),activatedStake:G(),epochVoteAccount:Nn(),epochCredits:Ot(Ci([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:Nt(G())}),Ru=he(ht({current:Ot(fs),delinquent:Ot(fs)})),Mu=bn([Ze("processed"),Ze("confirmed"),Ze("finalized")]),Pu=ht({slot:G(),confirmations:Nt(G()),err:sr,confirmationStatus:ie(Mu)}),Cu=Xe(Ot(Nt(Pu))),Uu=he(G()),ds=ht({accountKey:He,writableIndexes:Ot(G()),readonlyIndexes:Ot(G())}),Xi=ht({signatures:Ot(Et()),message:ht({accountKeys:Ot(Et()),header:ht({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:Ot(ht({accounts:Ot(G()),data:Et(),programIdIndex:G()})),recentBlockhash:Et(),addressTableLookups:ie(Ot(ds))})}),ps=ht({pubkey:He,signer:Nn(),writable:Nn(),source:ie(bn([Ze("transaction"),Ze("lookupTable")]))}),ys=ht({accountKeys:Ot(ps),signatures:Ot(Et())}),gs=ht({parsed:er(),program:Et(),programId:He}),ms=ht({accounts:Ot(He),data:Et(),programId:He}),ws=nr(bn([ms,gs]),bn([ht({parsed:er(),program:Et(),programId:Et()}),ht({accounts:Ot(Et()),data:Et(),programId:Et()})]),i=>It(i,"accounts"in i?ms:gs)),bs=ht({signatures:Ot(Et()),message:ht({accountKeys:Ot(ps),instructions:Ot(ws),recentBlockhash:Et(),addressTableLookups:ie(Nt(Ot(ds)))})}),si=ht({accountIndex:G(),mint:Et(),owner:ie(Et()),uiTokenAmount:ji}),xs=ht({writable:Ot(He),readonly:Ot(He)}),ai=ht({err:sr,fee:G(),innerInstructions:ie(Nt(Ot(ht({index:G(),instructions:Ot(ht({accounts:Ot(G()),data:Et(),programIdIndex:G()}))})))),preBalances:Ot(G()),postBalances:Ot(G()),logMessages:ie(Nt(Ot(Et()))),preTokenBalances:ie(Nt(Ot(si))),postTokenBalances:ie(Nt(Ot(si))),loadedAddresses:ie(xs),computeUnitsConsumed:ie(G())}),Qi=ht({err:sr,fee:G(),innerInstructions:ie(Nt(Ot(ht({index:G(),instructions:Ot(ws)})))),preBalances:Ot(G()),postBalances:Ot(G()),logMessages:ie(Nt(Ot(Et()))),preTokenBalances:ie(Nt(Ot(si))),postTokenBalances:ie(Nt(Ot(si))),loadedAddresses:ie(xs),computeUnitsConsumed:ie(G())}),wr=bn([Ze(0),Ze("legacy")]),ar=ht({pubkey:Et(),lamports:G(),postBalance:Nt(G()),rewardType:Nt(Et()),commission:ie(Nt(G()))}),Ou=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ot(ht({transaction:Xi,meta:Nt(ai),version:ie(wr)})),rewards:ie(Ot(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Nu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),rewards:ie(Ot(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Du=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ot(ht({transaction:ys,meta:Nt(ai),version:ie(wr)})),rewards:ie(Ot(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),qu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ot(ht({transaction:bs,meta:Nt(Qi),version:ie(wr)})),rewards:ie(Ot(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),zu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ot(ht({transaction:ys,meta:Nt(Qi),version:ie(wr)})),rewards:ie(Ot(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Wu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),rewards:ie(Ot(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Ku=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ot(ht({transaction:Xi,meta:Nt(ai)})),rewards:ie(Ot(ar)),blockTime:Nt(G())}))),_s=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),signatures:Ot(Et()),blockTime:Nt(G())}))),to=he(Nt(ht({slot:G(),meta:Nt(ai),blockTime:ie(Nt(G())),transaction:Xi,version:ie(wr)}))),ci=he(Nt(ht({slot:G(),transaction:bs,meta:Nt(Qi),blockTime:ie(Nt(G())),version:ie(wr)}))),$u=Xe(ht({blockhash:Et(),feeCalculator:ht({lamportsPerSignature:G()})})),Zu=Xe(ht({blockhash:Et(),lastValidBlockHeight:G()})),Hu=Xe(Nn()),Gu=he(Ot(ht({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()}))),ju=Xe(Nt(ht({feeCalculator:ht({lamportsPerSignature:G()})}))),Yu=he(Et()),Ju=he(Et()),Xu=ht({err:sr,logs:Ot(Et()),signature:Et()}),Qu=ht({result:oi(Xu),subscription:G()}),tl={"solana-client":"js/0.0.0-development"};class ks{constructor(t,e){var o=this;let a,c,h,p,b,R;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const L={};return function(){var K=x(function*(tt){const{commitment:st,config:J}=Fe(tt),q=o._buildArgs([],st,void 0,J),H=os(q);return L[H]=L[H]??x(function*(){try{const dt=It(yield o._rpcRequest("getBlockHeight",q),he(G()));if("error"in dt)throw new Xt(dt.error,"failed to get block height information");return dt.result}finally{delete L[H]}})(),yield L[H]});return function(tt){return K.apply(this,arguments)}}()})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,a=e.wsEndpoint,c=e.httpHeaders,h=e.fetch,p=e.fetchMiddleware,b=e.disableRetryOnRateLimit,R=e.httpAgent),this._rpcEndpoint=function Nc(i){if(!1===/^https?:/.test(i))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return i}(t),this._rpcWsEndpoint=a||function Fc(i){const t=i.match(Lc);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${i}\``);const[e,o,a,c]=t,h=i.startsWith("https:")?"wss:":"ws:",p=null==a?null:parseInt(a.slice(1),10);return`${h}//${o}${null==p?"":`:${p+1}`}${c}`}(t),this._rpcClient=function Qc(i,t,e,o,a,c){const h=e||Mc;let b;return null!=c&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),o&&(b=function(){var L=x(function*(K,tt){const st=yield new Promise((J,q)=>{try{o(K,tt,(H,j)=>J([H,j]))}catch(H){q(H)}});return yield h(...st)});return function(tt,st){return L.apply(this,arguments)}}()),new(Na())(function(){var L=x(function*(K,tt){const st={method:"POST",body:K,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},tl)};try{let q,J=5,H=500;for(;q=b?yield b(i,st):yield h(i,st),429===q.status&&!0!==a&&(J-=1,0!==J);)console.error(`Server responded with ${q.status} ${q.statusText}.  Retrying after ${H}ms delay...`),yield gr(H),H*=2;const j=yield q.text();q.ok?tt(null,j):tt(new Error(`${q.status} ${q.statusText}: ${j}`))}catch(J){J instanceof Error&&tt(J)}});return function(K,tt){return L.apply(this,arguments)}}(),{})}(t,c,h,p,b,R),this._rpcRequest=function tu(i){return(t,e)=>new Promise((o,a)=>{i.request(t,e,(c,h)=>{c?a(c):o(h)})})}(this._rpcClient),this._rpcBatchRequest=function eu(i){return t=>new Promise((e,o)=>{0===t.length&&e([]);const a=t.map(c=>i.request(c.methodName,c.args));i.request(a,(c,h)=>{c?o(c):e(h)})})}(this._rpcClient),this._rpcWebSocket=new Pc(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}getBalanceAndContext(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgs([t.toBase58()],a,void 0,c),b=It(yield o._rpcRequest("getBalance",h),Xe(G()));if("error"in b)throw new Xt(b.error,`failed to get balance for ${t.toBase58()}`);return b.result})()}getBalance(t,e){var o=this;return x(function*(){return yield o.getBalanceAndContext(t,e).then(a=>a.value).catch(a=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+a)})})()}getBlockTime(t){var e=this;return x(function*(){const a=It(yield e._rpcRequest("getBlockTime",[t]),he(Nt(G())));if("error"in a)throw new Xt(a.error,`failed to get block time for slot ${t}`);return a.result})()}getMinimumLedgerSlot(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("minimumLedgerSlot",[]),he(G()));if("error"in o)throw new Xt(o.error,"failed to get minimum ledger slot");return o.result})()}getFirstAvailableBlock(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("getFirstAvailableBlock",[]),cu);if("error"in o)throw new Xt(o.error,"failed to get first available block");return o.result})()}getSupply(t){var e=this;return x(function*(){let o={};o="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||e.commitment}:{commitment:e.commitment};const c=It(yield e._rpcRequest("getSupply",[o]),uu);if("error"in c)throw new Xt(c.error,"failed to get supply");return c.result})()}getTokenSupply(t,e){var o=this;return x(function*(){const a=o._buildArgs([t.toBase58()],e),h=It(yield o._rpcRequest("getTokenSupply",a),Xe(ji));if("error"in h)throw new Xt(h.error,"failed to get token supply");return h.result})()}getTokenAccountBalance(t,e){var o=this;return x(function*(){const a=o._buildArgs([t.toBase58()],e),h=It(yield o._rpcRequest("getTokenAccountBalance",a),Xe(ji));if("error"in h)throw new Xt(h.error,"failed to get token account balance");return h.result})()}getTokenAccountsByOwner(t,e,o){var a=this;return x(function*(){const{commitment:c,config:h}=Fe(o);let p=[t.toBase58()];p.push("mint"in e?{mint:e.mint.toBase58()}:{programId:e.programId.toBase58()});const b=a._buildArgs(p,c,"base64",h),L=It(yield a._rpcRequest("getTokenAccountsByOwner",b),hu);if("error"in L)throw new Xt(L.error,`failed to get token accounts owned by account ${t.toBase58()}`);return L.result})()}getParsedTokenAccountsByOwner(t,e,o){var a=this;return x(function*(){let c=[t.toBase58()];c.push("mint"in e?{mint:e.mint.toBase58()}:{programId:e.programId.toBase58()});const h=a._buildArgs(c,o,"jsonParsed"),b=It(yield a._rpcRequest("getTokenAccountsByOwner",h),fu);if("error"in b)throw new Xt(b.error,`failed to get token accounts owned by account ${t.toBase58()}`);return b.result})()}getLargestAccounts(t){var e=this;return x(function*(){const o={...t,commitment:t&&t.commitment||e.commitment},a=o.filter||o.commitment?[o]:[],h=It(yield e._rpcRequest("getLargestAccounts",a),du);if("error"in h)throw new Xt(h.error,"failed to get largest accounts");return h.result})()}getTokenLargestAccounts(t,e){var o=this;return x(function*(){const a=o._buildArgs([t.toBase58()],e),h=It(yield o._rpcRequest("getTokenLargestAccounts",a),lu);if("error"in h)throw new Xt(h.error,"failed to get token largest accounts");return h.result})()}getAccountInfoAndContext(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgs([t.toBase58()],a,"base64",c),b=It(yield o._rpcRequest("getAccountInfo",h),Xe(Nt(Cr)));if("error"in b)throw new Xt(b.error,`failed to get info about account ${t.toBase58()}`);return b.result})()}getParsedAccountInfo(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgs([t.toBase58()],a,"jsonParsed",c),b=It(yield o._rpcRequest("getAccountInfo",h),Xe(Nt(Ji)));if("error"in b)throw new Xt(b.error,`failed to get info about account ${t.toBase58()}`);return b.result})()}getAccountInfo(t,e){var o=this;return x(function*(){try{return(yield o.getAccountInfoAndContext(t,e)).value}catch(a){throw new Error("failed to get info about account "+t.toBase58()+": "+a)}})()}getMultipleParsedAccounts(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=t.map(L=>L.toBase58()),p=o._buildArgs([h],a,"jsonParsed",c),R=It(yield o._rpcRequest("getMultipleAccounts",p),Xe(Ot(Nt(Ji))));if("error"in R)throw new Xt(R.error,`failed to get info for accounts ${h}`);return R.result})()}getMultipleAccountsInfoAndContext(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=t.map(L=>L.toBase58()),p=o._buildArgs([h],a,"base64",c),R=It(yield o._rpcRequest("getMultipleAccounts",p),Xe(Ot(Nt(Cr))));if("error"in R)throw new Xt(R.error,`failed to get info for accounts ${h}`);return R.result})()}getMultipleAccountsInfo(t,e){var o=this;return x(function*(){return(yield o.getMultipleAccountsInfoAndContext(t,e)).value})()}getStakeActivation(t,e,o){var a=this;return x(function*(){const{commitment:c,config:h}=Fe(e),p=a._buildArgs([t.toBase58()],c,void 0,{...h,epoch:o??h?.epoch}),R=It(yield a._rpcRequest("getStakeActivation",p),he(mu));if("error"in R)throw new Xt(R.error,`failed to get Stake Activation ${t.toBase58()}`);return R.result})()}getProgramAccounts(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),{encoding:h,...p}=c||{},b=o._buildArgs([t.toBase58()],a,h||"base64",{...p,...p.filters?{filters:us(p.filters)}:null}),R=yield o._rpcRequest("getProgramAccounts",b),L=Ot(pu),K=It(R,!0===p.withContext?Xe(L):he(L));if("error"in K)throw new Xt(K.error,`failed to get accounts owned by program ${t.toBase58()}`);return K.result})()}getParsedProgramAccounts(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgs([t.toBase58()],a,"jsonParsed",c),b=It(yield o._rpcRequest("getProgramAccounts",h),he(Ot(gu)));if("error"in b)throw new Xt(b.error,`failed to get accounts owned by program ${t.toBase58()}`);return b.result})()}confirmTransaction(t,e){var o=this;return x(function*(){let a,c;if("string"==typeof t)a=t;else{const h=t;if(h.abortSignal?.aborted)return Promise.reject(h.abortSignal.reason);a=h.signature}try{c=pn().decode(a)}catch{throw new Error("signature must be base58 encoded: "+a)}return xe(64===c.length,"signature has invalid length"),"string"==typeof t?yield o.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||o.commitment,signature:a}):"lastValidBlockHeight"in t?yield o.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||o.commitment,strategy:t}):yield o.confirmTransactionUsingDurableNonceStrategy({commitment:e||o.commitment,strategy:t})})()}getCancellationPromise(t){return new Promise((e,o)=>{null!=t&&(t.aborted?o(t.reason):t.addEventListener("abort",()=>{o(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){var o=this;let a,c,h=!1;return{abortConfirmation:()=>{c&&(c(),c=void 0),null!=a&&(this.removeSignatureListener(a),a=void 0)},confirmationPromise:new Promise((R,L)=>{try{a=this.onSignature(e,(tt,st)=>{a=void 0,R({__type:Jn.PROCESSED,response:{context:st,value:tt}})},t);const K=new Promise(tt=>{null==a?tt():c=this._onSubscriptionStateChange(a,st=>{"subscribed"===st&&tt()})});x(function*(){if(yield K,h)return;const tt=yield o.getSignatureStatus(e);if(h||null==tt)return;const{context:st,value:J}=tt;if(null!=J)if(J?.err)L(J.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===J.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===J.confirmationStatus||"confirmed"===J.confirmationStatus)return}h=!0,R({__type:Jn.PROCESSED,response:{context:st,value:J}})}})()}catch(K){L(K)}})}}confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:o,signature:a}}){var c=this;return x(function*(){let h=!1;const p=new Promise(tt=>{const st=function(){var J=x(function*(){try{return yield c.getBlockHeight(t)}catch{return-1}});return function(){return J.apply(this,arguments)}}();x(function*(){let J=yield st();if(!h){for(;J<=o;)if(yield gr(1e3),h||(J=yield st(),h))return;tt({__type:Jn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:b,confirmationPromise:R}=c.getTransactionConfirmationPromise({commitment:t,signature:a}),L=c.getCancellationPromise(e);let K;try{const tt=yield Promise.race([L,R,p]);if(tt.__type!==Jn.PROCESSED)throw new jo(a);K=tt.response}finally{h=!0,b()}return K})()}confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:o,nonceAccountPubkey:a,nonceValue:c,signature:h}}){var p=this;return x(function*(){let b=!1;const R=new Promise(J=>{let q=c,H=null;const j=function(){var dt=x(function*(){try{const{context:gt,value:Wt}=yield p.getNonceAndContext(a,{commitment:t,minContextSlot:o});return H=gt.slot,Wt?.nonce}catch{return q}});return function(){return dt.apply(this,arguments)}}();x(function*(){if(q=yield j(),!b)for(;;){if(c!==q)return void J({__type:Jn.NONCE_INVALID,slotInWhichNonceDidAdvance:H});if(yield gr(2e3),b||(q=yield j(),b))return}})()}),{abortConfirmation:L,confirmationPromise:K}=p.getTransactionConfirmationPromise({commitment:t,signature:h}),tt=p.getCancellationPromise(e);let st;try{const J=yield Promise.race([tt,K,R]);if(J.__type===Jn.PROCESSED)st=J.response;else{let q;for(;;){const H=yield p.getSignatureStatus(h);if(null==H)break;if(!(H.context.slot<(J.slotInWhichNonceDidAdvance??o))){q=H;break}yield gr(400)}if(!q?.value)throw new Rr(h);{const H=t||"finalized",{confirmationStatus:j}=q.value;switch(H){case"processed":case"recent":if("processed"!==j&&"confirmed"!==j&&"finalized"!==j)throw new Rr(h);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==j&&"finalized"!==j)throw new Rr(h);break;case"finalized":case"max":case"root":if("finalized"!==j)throw new Rr(h)}st={context:q.context,value:{err:q.value.err}}}}}finally{b=!0,L()}return st})()}confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){var o=this;return x(function*(){let a;const c=new Promise(R=>{let L=o._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":L=o._confirmTransactionInitialTimeout||3e4}a=setTimeout(()=>R({__type:Jn.TIMED_OUT,timeoutMs:L}),L)}),{abortConfirmation:h,confirmationPromise:p}=o.getTransactionConfirmationPromise({commitment:t,signature:e});let b;try{const R=yield Promise.race([p,c]);if(R.__type!==Jn.PROCESSED)throw new Yo(e,R.timeoutMs/1e3);b=R.response}finally{clearTimeout(a),h()}return b})()}getClusterNodes(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("getClusterNodes",[]),he(Ot(Tu)));if("error"in o)throw new Xt(o.error,"failed to get cluster nodes");return o.result})()}getVoteAccounts(t){var e=this;return x(function*(){const o=e._buildArgs([],t),c=It(yield e._rpcRequest("getVoteAccounts",o),Ru);if("error"in c)throw new Xt(c.error,"failed to get vote accounts");return c.result})()}getSlot(t){var e=this;return x(function*(){const{commitment:o,config:a}=Fe(t),c=e._buildArgs([],o,void 0,a),p=It(yield e._rpcRequest("getSlot",c),he(G()));if("error"in p)throw new Xt(p.error,"failed to get slot");return p.result})()}getSlotLeader(t){var e=this;return x(function*(){const{commitment:o,config:a}=Fe(t),c=e._buildArgs([],o,void 0,a),p=It(yield e._rpcRequest("getSlotLeader",c),he(Et()));if("error"in p)throw new Xt(p.error,"failed to get slot leader");return p.result})()}getSlotLeaders(t,e){var o=this;return x(function*(){const a=[t,e],h=It(yield o._rpcRequest("getSlotLeaders",a),he(Ot(He)));if("error"in h)throw new Xt(h.error,"failed to get slot leaders");return h.result})()}getSignatureStatus(t,e){var o=this;return x(function*(){const{context:a,value:c}=yield o.getSignatureStatuses([t],e);return xe(1===c.length),{context:a,value:c[0]}})()}getSignatureStatuses(t,e){var o=this;return x(function*(){const a=[t];e&&a.push(e);const h=It(yield o._rpcRequest("getSignatureStatuses",a),Cu);if("error"in h)throw new Xt(h.error,"failed to get signature status");return h.result})()}getTransactionCount(t){var e=this;return x(function*(){const{commitment:o,config:a}=Fe(t),c=e._buildArgs([],o,void 0,a),p=It(yield e._rpcRequest("getTransactionCount",c),he(G()));if("error"in p)throw new Xt(p.error,"failed to get transaction count");return p.result})()}getTotalSupply(t){var e=this;return x(function*(){return(yield e.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total})()}getInflationGovernor(t){var e=this;return x(function*(){const o=e._buildArgs([],t),c=It(yield e._rpcRequest("getInflationGovernor",o),nu);if("error"in c)throw new Xt(c.error,"failed to get inflation");return c.result})()}getInflationReward(t,e,o){var a=this;return x(function*(){const{commitment:c,config:h}=Fe(o),p=a._buildArgs([t.map(L=>L.toBase58())],c,void 0,{...h,epoch:e??h?.epoch}),R=It(yield a._rpcRequest("getInflationReward",p),zc);if("error"in R)throw new Xt(R.error,"failed to get inflation reward");return R.result})()}getInflationRate(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("getInflationRate",[]),ru);if("error"in o)throw new Xt(o.error,"failed to get inflation rate");return o.result})()}getEpochInfo(t){var e=this;return x(function*(){const{commitment:o,config:a}=Fe(t),c=e._buildArgs([],o,void 0,a),p=It(yield e._rpcRequest("getEpochInfo",c),ou);if("error"in p)throw new Xt(p.error,"failed to get epoch info");return p.result})()}getEpochSchedule(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("getEpochSchedule",[]),su);if("error"in o)throw new Xt(o.error,"failed to get epoch schedule");const a=o.result;return new Rc(a.slotsPerEpoch,a.leaderScheduleSlotOffset,a.warmup,a.firstNormalEpoch,a.firstNormalSlot)})()}getLeaderSchedule(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("getLeaderSchedule",[]),au);if("error"in o)throw new Xt(o.error,"failed to get leader schedule");return o.result})()}getMinimumBalanceForRentExemption(t,e){var o=this;return x(function*(){const a=o._buildArgs([t],e),h=It(yield o._rpcRequest("getMinimumBalanceForRentExemption",a),Uu);return"error"in h?(console.warn("Unable to fetch minimum balance for rent exemption"),0):h.result})()}getRecentBlockhashAndContext(t){var e=this;return x(function*(){const o=e._buildArgs([],t),c=It(yield e._rpcRequest("getRecentBlockhash",o),$u);if("error"in c)throw new Xt(c.error,"failed to get recent blockhash");return c.result})()}getRecentPerformanceSamples(t){var e=this;return x(function*(){const a=It(yield e._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Gu);if("error"in a)throw new Xt(a.error,"failed to get recent performance samples");return a.result})()}getFeeCalculatorForBlockhash(t,e){var o=this;return x(function*(){const a=o._buildArgs([t],e),h=It(yield o._rpcRequest("getFeeCalculatorForBlockhash",a),ju);if("error"in h)throw new Xt(h.error,"failed to get fee calculator");const{context:p,value:b}=h.result;return{context:p,value:null!==b?b.feeCalculator:null}})()}getFeeForMessage(t,e){var o=this;return x(function*(){const a=le(t.serialize()).toString("base64"),c=o._buildArgs([a],e),p=It(yield o._rpcRequest("getFeeForMessage",c),Xe(Nt(G())));if("error"in p)throw new Xt(p.error,"failed to get fee for message");if(null===p.result)throw new Error("invalid blockhash");return p.result})()}getRecentPrioritizationFees(t){var e=this;return x(function*(){const o=t?.lockedWritableAccounts?.map(p=>p.toBase58()),a=o?.length?[o]:[],h=It(yield e._rpcRequest("getRecentPrioritizationFees",a),iu);if("error"in h)throw new Xt(h.error,"failed to get recent prioritization fees");return h.result})()}getRecentBlockhash(t){var e=this;return x(function*(){try{return(yield e.getRecentBlockhashAndContext(t)).value}catch(o){throw new Error("failed to get recent blockhash: "+o)}})()}getLatestBlockhash(t){var e=this;return x(function*(){try{return(yield e.getLatestBlockhashAndContext(t)).value}catch(o){throw new Error("failed to get recent blockhash: "+o)}})()}getLatestBlockhashAndContext(t){var e=this;return x(function*(){const{commitment:o,config:a}=Fe(t),c=e._buildArgs([],o,void 0,a),p=It(yield e._rpcRequest("getLatestBlockhash",c),Zu);if("error"in p)throw new Xt(p.error,"failed to get latest blockhash");return p.result})()}isBlockhashValid(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgs([t],a,void 0,c),b=It(yield o._rpcRequest("isBlockhashValid",h),Hu);if("error"in b)throw new Xt(b.error,"failed to determine if the blockhash `"+t+"`is valid");return b.result})()}getVersion(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("getVersion",[]),he(jc));if("error"in o)throw new Xt(o.error,"failed to get version");return o.result})()}getGenesisHash(){var t=this;return x(function*(){const o=It(yield t._rpcRequest("getGenesisHash",[]),he(Et()));if("error"in o)throw new Xt(o.error,"failed to get genesis hash");return o.result})()}getBlock(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgsAtLeastConfirmed([t],a,void 0,c),p=yield o._rpcRequest("getBlock",h);try{switch(c?.transactionDetails){case"accounts":{const b=It(p,Du);if("error"in b)throw b.error;return b.result}case"none":{const b=It(p,Nu);if("error"in b)throw b.error;return b.result}default:{const b=It(p,Ou);if("error"in b)throw b.error;const{result:R}=b;return R?{...R,transactions:R.transactions.map(({transaction:L,meta:K,version:tt})=>({meta:K,transaction:{...L,message:Gi(tt,L.message)},version:tt}))}:null}}}catch(b){throw new Xt(b,"failed to get confirmed block")}})()}getParsedBlock(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgsAtLeastConfirmed([t],a,"jsonParsed",c),p=yield o._rpcRequest("getBlock",h);try{switch(c?.transactionDetails){case"accounts":{const b=It(p,zu);if("error"in b)throw b.error;return b.result}case"none":{const b=It(p,Wu);if("error"in b)throw b.error;return b.result}default:{const b=It(p,qu);if("error"in b)throw b.error;return b.result}}}catch(b){throw new Xt(b,"failed to get block")}})()}getBlockProduction(t){var e=this;return x(function*(){let o,a;if("string"==typeof t)a=t;else if(t){const{commitment:b,...R}=t;a=b,o=R}const c=e._buildArgs([],a,"base64",o),p=It(yield e._rpcRequest("getBlockProduction",c),Xc);if("error"in p)throw new Xt(p.error,"failed to get block production information");return p.result})()}getTransaction(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgsAtLeastConfirmed([t],a,void 0,c),b=It(yield o._rpcRequest("getTransaction",h),to);if("error"in b)throw new Xt(b.error,"failed to get transaction");const R=b.result;return R&&{...R,transaction:{...R.transaction,message:Gi(R.version,R.transaction.message)}}})()}getParsedTransaction(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=o._buildArgsAtLeastConfirmed([t],a,"jsonParsed",c),b=It(yield o._rpcRequest("getTransaction",h),ci);if("error"in b)throw new Xt(b.error,"failed to get transaction");return b.result})()}getParsedTransactions(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=t.map(R=>({methodName:"getTransaction",args:o._buildArgsAtLeastConfirmed([R],a,"jsonParsed",c)}));return(yield o._rpcBatchRequest(h)).map(R=>{const L=It(R,ci);if("error"in L)throw new Xt(L.error,"failed to get transactions");return L.result})})()}getTransactions(t,e){var o=this;return x(function*(){const{commitment:a,config:c}=Fe(e),h=t.map(R=>({methodName:"getTransaction",args:o._buildArgsAtLeastConfirmed([R],a,void 0,c)}));return(yield o._rpcBatchRequest(h)).map(R=>{const L=It(R,to);if("error"in L)throw new Xt(L.error,"failed to get transactions");const K=L.result;return K&&{...K,transaction:{...K.transaction,message:Gi(K.version,K.transaction.message)}}})})()}getConfirmedBlock(t,e){var o=this;return x(function*(){const a=o._buildArgsAtLeastConfirmed([t],e),h=It(yield o._rpcRequest("getConfirmedBlock",a),Ku);if("error"in h)throw new Xt(h.error,"failed to get confirmed block");const p=h.result;if(!p)throw new Error("Confirmed block "+t+" not found");const b={...p,transactions:p.transactions.map(({transaction:R,meta:L})=>{const K=new qn(R.message);return{meta:L,transaction:{...R,message:K}}})};return{...b,transactions:b.transactions.map(({transaction:R,meta:L})=>({meta:L,transaction:De.populate(R.message,R.signatures)}))}})()}getBlocks(t,e,o){var a=this;return x(function*(){const c=a._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],o),p=It(yield a._rpcRequest("getBlocks",c),he(Ot(G())));if("error"in p)throw new Xt(p.error,"failed to get blocks");return p.result})()}getBlockSignatures(t,e){var o=this;return x(function*(){const a=o._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),h=It(yield o._rpcRequest("getBlock",a),_s);if("error"in h)throw new Xt(h.error,"failed to get block");const p=h.result;if(!p)throw new Error("Block "+t+" not found");return p})()}getConfirmedBlockSignatures(t,e){var o=this;return x(function*(){const a=o._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),h=It(yield o._rpcRequest("getConfirmedBlock",a),_s);if("error"in h)throw new Xt(h.error,"failed to get confirmed block");const p=h.result;if(!p)throw new Error("Confirmed block "+t+" not found");return p})()}getConfirmedTransaction(t,e){var o=this;return x(function*(){const a=o._buildArgsAtLeastConfirmed([t],e),h=It(yield o._rpcRequest("getConfirmedTransaction",a),to);if("error"in h)throw new Xt(h.error,"failed to get transaction");const p=h.result;if(!p)return p;const b=new qn(p.transaction.message),R=p.transaction.signatures;return{...p,transaction:De.populate(b,R)}})()}getParsedConfirmedTransaction(t,e){var o=this;return x(function*(){const a=o._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),h=It(yield o._rpcRequest("getConfirmedTransaction",a),ci);if("error"in h)throw new Xt(h.error,"failed to get confirmed transaction");return h.result})()}getParsedConfirmedTransactions(t,e){var o=this;return x(function*(){const a=t.map(p=>({methodName:"getConfirmedTransaction",args:o._buildArgsAtLeastConfirmed([p],e,"jsonParsed")}));return(yield o._rpcBatchRequest(a)).map(p=>{const b=It(p,ci);if("error"in b)throw new Xt(b.error,"failed to get confirmed transactions");return b.result})})()}getConfirmedSignaturesForAddress(t,e,o){var a=this;return x(function*(){let c={},h=yield a.getFirstAvailableBlock();for(;!("until"in c||(e--,e<=0||e<h));)try{const R=yield a.getConfirmedBlockSignatures(e,"finalized");R.signatures.length>0&&(c.until=R.signatures[R.signatures.length-1].toString())}catch(R){if(R instanceof Error&&R.message.includes("skipped"))continue;throw R}let p=yield a.getSlot("finalized");for(;!("before"in c||(o++,o>p));)try{const R=yield a.getConfirmedBlockSignatures(o);R.signatures.length>0&&(c.before=R.signatures[R.signatures.length-1].toString())}catch(R){if(R instanceof Error&&R.message.includes("skipped"))continue;throw R}return(yield a.getConfirmedSignaturesForAddress2(t,c)).map(R=>R.signature)})()}getConfirmedSignaturesForAddress2(t,e,o){var a=this;return x(function*(){const c=a._buildArgsAtLeastConfirmed([t.toBase58()],o,void 0,e),p=It(yield a._rpcRequest("getConfirmedSignaturesForAddress2",c),wu);if("error"in p)throw new Xt(p.error,"failed to get confirmed signatures for address");return p.result})()}getSignaturesForAddress(t,e,o){var a=this;return x(function*(){const c=a._buildArgsAtLeastConfirmed([t.toBase58()],o,void 0,e),p=It(yield a._rpcRequest("getSignaturesForAddress",c),bu);if("error"in p)throw new Xt(p.error,"failed to get signatures for address");return p.result})()}getAddressLookupTable(t,e){var o=this;return x(function*(){const{context:a,value:c}=yield o.getAccountInfoAndContext(t,e);let h=null;return null!==c&&(h=new as({key:t,state:as.deserialize(c.data)})),{context:a,value:h}})()}getNonceAndContext(t,e){var o=this;return x(function*(){const{context:a,value:c}=yield o.getAccountInfoAndContext(t,e);let h=null;return null!==c&&(h=Zi.fromAccountData(c.data)),{context:a,value:h}})()}getNonce(t,e){var o=this;return x(function*(){return yield o.getNonceAndContext(t,e).then(a=>a.value).catch(a=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+a)})})()}requestAirdrop(t,e){var o=this;return x(function*(){const c=It(yield o._rpcRequest("requestAirdrop",[t.toBase58(),e]),Yu);if("error"in c)throw new Xt(c.error,`airdrop to ${t.toBase58()} failed`);return c.result})()}_blockhashWithExpiryBlockHeight(t){var e=this;return x(function*(){if(!t){for(;e._pollingBlockhash;)yield gr(100);const a=Date.now()-e._blockhashInfo.lastFetch>=3e4;if(null!==e._blockhashInfo.latestBlockhash&&!a)return e._blockhashInfo.latestBlockhash}return yield e._pollNewBlockhash()})()}_pollNewBlockhash(){var t=this;return x(function*(){t._pollingBlockhash=!0;try{const e=Date.now(),o=t._blockhashInfo.latestBlockhash,a=o?o.blockhash:null;for(let c=0;c<50;c++){const h=yield t.getLatestBlockhash("finalized");if(a!==h.blockhash)return t._blockhashInfo={latestBlockhash:h,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},h;yield gr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{t._pollingBlockhash=!1}})()}getStakeMinimumDelegation(t){var e=this;return x(function*(){const{commitment:o,config:a}=Fe(t),c=e._buildArgs([],o,"base64",a),p=It(yield e._rpcRequest("getStakeMinimumDelegation",c),Xe(G()));if("error"in p)throw new Xt(p.error,"failed to get stake minimum delegation");return p.result})()}simulateTransaction(t,e,o){var a=this;return x(function*(){if("message"in t){const H=t.serialize(),j=nt.lW.from(H).toString("base64");if(Array.isArray(e)||void 0!==o)throw new Error("Invalid arguments");const dt=e||{};dt.encoding="base64","commitment"in dt||(dt.commitment=a.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(dt.innerInstructions=e.innerInstructions);const gt=[j,dt],vt=It(yield a._rpcRequest("simulateTransaction",gt),hs);if("error"in vt)throw new Error("failed to simulate transaction: "+vt.error.message);return vt.result}let c;if(t instanceof De){let q=t;c=new De,c.feePayer=q.feePayer,c.instructions=t.instructions,c.nonceInfo=q.nonceInfo,c.signatures=q.signatures}else c=De.populate(t),c._message=c._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const h=e;if(c.nonceInfo&&h)c.sign(...h);else{let q=a._disableBlockhashCaching;for(;;){const H=yield a._blockhashWithExpiryBlockHeight(q);if(c.lastValidBlockHeight=H.lastValidBlockHeight,c.recentBlockhash=H.blockhash,!h)break;if(c.sign(...h),!c.signature)throw new Error("!signature");const j=c.signature.toString("base64");if(!a._blockhashInfo.simulatedSignatures.includes(j)&&!a._blockhashInfo.transactionSignatures.includes(j)){a._blockhashInfo.simulatedSignatures.push(j);break}q=!0}}const p=c._compile(),b=p.serialize(),L=c._serialize(b).toString("base64"),K={encoding:"base64",commitment:a.commitment};if(o){const q=(Array.isArray(o)?o:p.nonProgramIds()).map(H=>H.toBase58());K.accounts={encoding:"base64",addresses:q}}h&&(K.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(K.innerInstructions=e.innerInstructions);const tt=[L,K],J=It(yield a._rpcRequest("simulateTransaction",tt),hs);if("error"in J){let q;if("data"in J.error&&(q=J.error.data.logs,q&&Array.isArray(q))){const H="\n    ",j=H+q.join(H);console.error(J.error.message,j)}throw new ii({action:"simulate",signature:"",transactionMessage:J.error.message,logs:q})}return J.result})()}sendTransaction(t,e,o){var a=this;return x(function*(){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const p=t.serialize();return yield a.sendRawTransaction(p,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const c=e;if(t.nonceInfo)t.sign(...c);else{let p=a._disableBlockhashCaching;for(;;){const b=yield a._blockhashWithExpiryBlockHeight(p);if(t.lastValidBlockHeight=b.lastValidBlockHeight,t.recentBlockhash=b.blockhash,t.sign(...c),!t.signature)throw new Error("!signature");const R=t.signature.toString("base64");if(!a._blockhashInfo.transactionSignatures.includes(R)){a._blockhashInfo.transactionSignatures.push(R);break}p=!0}}const h=t.serialize();return yield a.sendRawTransaction(h,o)})()}sendRawTransaction(t,e){var o=this;return x(function*(){const a=le(t).toString("base64");return yield o.sendEncodedTransaction(a,e)})()}sendEncodedTransaction(t,e){var o=this;return x(function*(){const a={encoding:"base64"},c=e&&e.skipPreflight,h=!0===c?"processed":e&&e.preflightCommitment||o.commitment;e&&null!=e.maxRetries&&(a.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(a.minContextSlot=e.minContextSlot),c&&(a.skipPreflight=c),h&&(a.preflightCommitment=h);const p=[t,a],R=It(yield o._rpcRequest("sendTransaction",p),Ju);if("error"in R){let L;throw"data"in R.error&&(L=R.error.data.logs),new ii({action:c?"send":"simulate",signature:"",transactionMessage:R.error.message,logs:L})}return R.result})()}_wsOnOpen(){var t=this;this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{x(function*(){try{yield t._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,o])=>{this._setSubscription(e,{...o,state:"pending"})})):this._updateSubscriptions()}_setSubscription(t,e){const o=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,o!==e.state){const a=this._subscriptionStateChangeCallbacksByHash[t];a&&a.forEach(c=>{try{c(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){const o=this._subscriptionHashByClientSubscriptionId[t];if(null==o)return()=>{};const a=this._subscriptionStateChangeCallbacksByHash[o]||=new Set;return a.add(e),()=>{a.delete(e),0===a.size&&delete this._subscriptionStateChangeCallbacksByHash[o]}}_updateSubscriptions(){var t=this;return x(function*(){if(0===Object.keys(t._subscriptionsByHash).length)return void(t._rpcWebSocketConnected&&(t._rpcWebSocketConnected=!1,t._rpcWebSocketIdleTimeout=setTimeout(()=>{t._rpcWebSocketIdleTimeout=null;try{t._rpcWebSocket.close()}catch(a){a instanceof Error&&console.log(`Error when closing socket connection: ${a.message}`)}},500)));if(null!==t._rpcWebSocketIdleTimeout&&(clearTimeout(t._rpcWebSocketIdleTimeout),t._rpcWebSocketIdleTimeout=null,t._rpcWebSocketConnected=!0),!t._rpcWebSocketConnected)return void t._rpcWebSocket.connect();const e=t._rpcWebSocketGeneration,o=()=>e===t._rpcWebSocketGeneration;yield Promise.all(Object.keys(t._subscriptionsByHash).map(function(){var a=x(function*(c){const h=t._subscriptionsByHash[c];if(void 0!==h)switch(h.state){case"pending":case"unsubscribed":if(0===h.callbacks.size)return delete t._subscriptionsByHash[c],"unsubscribed"===h.state&&delete t._subscriptionCallbacksByServerSubscriptionId[h.serverSubscriptionId],void(yield t._updateSubscriptions());yield x(function*(){const{args:p,method:b}=h;try{t._setSubscription(c,{...h,state:"subscribing"});const R=yield t._rpcWebSocket.call(b,p);t._setSubscription(c,{...h,serverSubscriptionId:R,state:"subscribed"}),t._subscriptionCallbacksByServerSubscriptionId[R]=h.callbacks,yield t._updateSubscriptions()}catch(R){if(R instanceof Error&&console.error(`${b} error for argument`,p,R.message),!o())return;t._setSubscription(c,{...h,state:"pending"}),yield t._updateSubscriptions()}})();break;case"subscribed":0===h.callbacks.size&&(yield x(function*(){const{serverSubscriptionId:p,unsubscribeMethod:b}=h;if(t._subscriptionsAutoDisposedByRpc.has(p))t._subscriptionsAutoDisposedByRpc.delete(p);else{t._setSubscription(c,{...h,state:"unsubscribing"}),t._setSubscription(c,{...h,state:"unsubscribing"});try{yield t._rpcWebSocket.call(b,[p])}catch(R){if(R instanceof Error&&console.error(`${b} error:`,R.message),!o())return;return t._setSubscription(c,{...h,state:"subscribed"}),void(yield t._updateSubscriptions())}}t._setSubscription(c,{...h,state:"unsubscribed"}),yield t._updateSubscriptions()})())}});return function(c){return a.apply(this,arguments)}}()))})()}_handleServerNotification(t,e){const o=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==o&&o.forEach(a=>{try{a(...e)}catch(c){console.error(c)}})}_wsOnAccountNotification(t){const{result:e,subscription:o}=It(t,xu);this._handleServerNotification(o,[e.value,e.context])}_makeSubscription(t,e){var o=this;const a=this._nextClientSubscriptionId++,c=os([t.method,e]),h=this._subscriptionsByHash[c];return void 0===h?this._subscriptionsByHash[c]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:h.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[a]=c,this._subscriptionDisposeFunctionsByClientSubscriptionId[a]=x(function*(){delete o._subscriptionDisposeFunctionsByClientSubscriptionId[a],delete o._subscriptionHashByClientSubscriptionId[a];const p=o._subscriptionsByHash[c];xe(void 0!==p,`Could not find a \`Subscription\` when tearing down client subscription #${a}`),p.callbacks.delete(t.callback),yield o._updateSubscriptions()}),this._updateSubscriptions(),a}onAccountChange(t,e,o){const{commitment:a,config:c}=Fe(o),h=this._buildArgs([t.toBase58()],a||this._commitment||"finalized","base64",c);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},h)}removeAccountChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"account change")})()}_wsOnProgramAccountNotification(t){const{result:e,subscription:o}=It(t,ku);this._handleServerNotification(o,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,o,a){const{commitment:c,config:h}=Fe(o),p=this._buildArgs([t.toBase58()],c||this._commitment||"finalized","base64",h||(a?{filters:us(a)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},p)}removeProgramAccountChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"program account change")})()}onLogs(t,e,o){const a=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],o||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},a)}removeOnLogsListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"logs")})()}_wsOnLogsNotification(t){const{result:e,subscription:o}=It(t,Qu);this._handleServerNotification(o,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:o}=It(t,Bu);this._handleServerNotification(o,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}removeSlotChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"slot change")})()}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:o}=It(t,Iu);this._handleServerNotification(o,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}removeSlotUpdateListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"slot update")})()}_unsubscribeClientSubscription(t,e){var o=this;return x(function*(){const a=o._subscriptionDisposeFunctionsByClientSubscriptionId[t];a?yield a():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)})()}_buildArgs(t,e,o,a){const c=e||this._commitment;if(c||o||a){let h={};o&&(h.encoding=o),c&&(h.commitment=c),a&&(h=Object.assign(h,a)),t.push(h)}return t}_buildArgsAtLeastConfirmed(t,e,o,a){const c=e||this._commitment;if(c&&!["confirmed","finalized"].includes(c))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,o,a)}_wsOnSignatureNotification(t){const{result:e,subscription:o}=It(t,vu);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(o),this._handleServerNotification(o,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,o){const a=this._buildArgs([t],o||this._commitment||"finalized"),c=this._makeSubscription({callback:(h,p)=>{if("status"===h.type){e(h.result,p);try{this.removeSignatureListener(c)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}onSignatureWithOptions(t,e,o){const{commitment:a,...c}={...o,commitment:o&&o.commitment||this._commitment||"finalized"},h=this._buildArgs([t],a,void 0,c),p=this._makeSubscription({callback:(b,R)=>{e(b,R);try{this.removeSignatureListener(p)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},h);return p}removeSignatureListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"signature result")})()}_wsOnRootNotification(t){const{result:e,subscription:o}=It(t,Au);this._handleServerNotification(o,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}removeRootChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"root change")})()}}class Ur{constructor(t){this._keypair=void 0,this._keypair=t??Zo()}static generate(){return new Ur(Zo())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const o=t.slice(32,64);if(!e||!e.skipValidation){const a=t.slice(0,32),c=Xr(a);for(let h=0;h<32;h++)if(o[h]!==c[h])throw new Error("provided secretKey is invalid")}return new Ur({publicKey:o,secretKey:t})}static fromSeed(t){const e=Xr(t),o=new Uint8Array(64);return o.set(t),o.set(e,32),new Ur({publicKey:e,secretKey:o})}get publicKey(){return new St(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:z.n_([z.Jq("instruction"),mr("recentSlot"),z.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:z.n_([z.Jq("instruction")])},ExtendLookupTable:{index:2,layout:z.n_([z.Jq("instruction"),mr(),z.A9(me(),z.cv(z.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:z.n_([z.Jq("instruction")])},CloseLookupTable:{index:4,layout:z.n_([z.Jq("instruction")])}});new St("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:z.n_([z.u8("instruction"),z.Jq("units"),z.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:z.n_([z.u8("instruction"),z.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:z.n_([z.u8("instruction"),z.Jq("units")])},SetComputeUnitPrice:{index:3,layout:z.n_([z.u8("instruction"),mr("microLamports")])}});new St("ComputeBudget111111111111111111111111111111");const As=z.n_([z.u8("numSignatures"),z.u8("padding"),z.KB("signatureOffset"),z.KB("signatureInstructionIndex"),z.KB("publicKeyOffset"),z.KB("publicKeyInstructionIndex"),z.KB("messageDataOffset"),z.KB("messageDataSize"),z.KB("messageInstructionIndex")]);class eo{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:o,signature:a,instructionIndex:c}=t;xe(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),xe(64===a.length,`Signature must be 64 bytes but received ${a.length} bytes`);const h=As.span,p=h+e.length,b=p+a.length,L=nt.lW.alloc(b+o.length),K=c??65535;return As.encode({numSignatures:1,padding:0,signatureOffset:p,signatureInstructionIndex:K,publicKeyOffset:h,publicKeyInstructionIndex:K,messageDataOffset:b,messageDataSize:o.length,messageInstructionIndex:K},L),L.fill(e,h),L.fill(a,p),L.fill(o,b),new Le({keys:[],programId:eo.programId,data:L})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:o,instructionIndex:a}=t;xe(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const c=Ur.fromSecretKey(e),h=c.publicKey.toBytes(),p=qi(o,c.secretKey);return this.createInstructionWithPublicKey({publicKey:h,message:o,signature:p,instructionIndex:a})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}eo.programId=new St("Ed25519SigVerify111111111111111111111111111");const nl=Ar.getPublicKey,ro=z.n_([z.u8("numSignatures"),z.KB("signatureOffset"),z.u8("signatureInstructionIndex"),z.KB("ethAddressOffset"),z.u8("ethAddressInstructionIndex"),z.KB("messageDataOffset"),z.KB("messageDataSize"),z.u8("messageInstructionIndex"),z.Ik(20,"ethAddress"),z.Ik(64,"signature"),z.u8("recoveryId")]);class Lr{constructor(){}static publicKeyToEthAddress(t){xe(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return nt.lW.from(Uo(le(t))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:o,signature:a,recoveryId:c,instructionIndex:h}=t;return Lr.createInstructionWithEthAddress({ethAddress:Lr.publicKeyToEthAddress(e),message:o,signature:a,recoveryId:c,instructionIndex:h})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:o,signature:a,recoveryId:c,instructionIndex:h=0}=t;let p;p="string"==typeof e?e.startsWith("0x")?nt.lW.from(e.substr(2),"hex"):nt.lW.from(e,"hex"):e,xe(20===p.length,`Address must be 20 bytes but received ${p.length} bytes`);const L=12+p.length,K=L+a.length+1,st=nt.lW.alloc(ro.span+o.length);return ro.encode({numSignatures:1,signatureOffset:L,signatureInstructionIndex:h,ethAddressOffset:12,ethAddressInstructionIndex:h,messageDataOffset:K,messageDataSize:o.length,messageInstructionIndex:h,signature:le(a),ethAddress:le(p),recoveryId:c},st),st.fill(le(o),ro.span),new Le({keys:[],programId:Lr.programId,data:st})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:o,instructionIndex:a}=t;xe(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const c=le(e),h=nl(c,!1).slice(1),p=nt.lW.from(Uo(le(o))),[b,R]=((i,t)=>{const e=Ar.sign(i,t);return[e.toCompactRawBytes(),e.recovery]})(p,c);return this.createInstructionWithPublicKey({publicKey:h,message:o,signature:b,recoveryId:R,instructionIndex:a})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Lr.programId=new St("KeccakSecp256k11111111111111111111111111111");const il=new St("StakeConfig11111111111111111111111111111111");class ui{constructor(t,e,o){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=o}}ui.default=new ui(0,0,St.default);const yn=Object.freeze({Initialize:{index:0,layout:z.n_([z.Jq("instruction"),((i="authorized")=>z.n_([me("staker"),me("withdrawer")],i))(),((i="lockup")=>z.n_([z.gM("unixTimestamp"),z.gM("epoch"),me("custodian")],i))()])},Authorize:{index:1,layout:z.n_([z.Jq("instruction"),me("newAuthorized"),z.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:z.n_([z.Jq("instruction")])},Split:{index:3,layout:z.n_([z.Jq("instruction"),z.gM("lamports")])},Withdraw:{index:4,layout:z.n_([z.Jq("instruction"),z.gM("lamports")])},Deactivate:{index:5,layout:z.n_([z.Jq("instruction")])},Merge:{index:7,layout:z.n_([z.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:z.n_([z.Jq("instruction"),me("newAuthorized"),z.Jq("stakeAuthorizationType"),or("authoritySeed"),me("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class io{constructor(){}static initialize(t){const{stakePubkey:e,authorized:o,lockup:a}=t,c=a||ui.default,p=we(yn.Initialize,{authorized:{staker:le(o.staker.toBuffer()),withdrawer:le(o.withdrawer.toBuffer())},lockup:{unixTimestamp:c.unixTimestamp,epoch:c.epoch,custodian:le(c.custodian.toBuffer())}});return new Le({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ri,isSigner:!1,isWritable:!1}],programId:this.programId,data:p})}static createAccountWithSeed(t){const e=new De;e.add(kn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:a,lockup:c}=t;return e.add(this.initialize({stakePubkey:o,authorized:a,lockup:c}))}static createAccount(t){const e=new De;e.add(kn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:a,lockup:c}=t;return e.add(this.initialize({stakePubkey:o,authorized:a,lockup:c}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:o,votePubkey:a}=t,h=we(yn.Delegate);return(new De).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Ki,isSigner:!1,isWritable:!1},{pubkey:il,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static authorize(t){const{stakePubkey:e,authorizedPubkey:o,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:h}=t,b=we(yn.Authorize,{newAuthorized:le(a.toBuffer()),stakeAuthorizationType:c.index}),R=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return h&&R.push({pubkey:h,isSigner:!0,isWritable:!1}),(new De).add({keys:R,programId:this.programId,data:b})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:o,authoritySeed:a,authorityOwner:c,newAuthorizedPubkey:h,stakeAuthorizationType:p,custodianPubkey:b}=t,L=we(yn.AuthorizeWithSeed,{newAuthorized:le(h.toBuffer()),stakeAuthorizationType:p.index,authoritySeed:a,authorityOwner:le(c.toBuffer())}),K=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1}];return b&&K.push({pubkey:b,isSigner:!0,isWritable:!1}),(new De).add({keys:K,programId:this.programId,data:L})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:o,splitStakePubkey:a,lamports:c}=t,p=we(yn.Split,{lamports:c});return new Le({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:p})}static split(t,e){const o=new De;return o.add(kn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),o.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:o,authorizedPubkey:a,splitStakePubkey:c,basePubkey:h,seed:p,lamports:b}=t,R=new De;return R.add(kn.allocate({accountPubkey:c,basePubkey:h,seed:p,space:this.space,programId:this.programId})),e&&e>0&&R.add(kn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:c,lamports:e})),R.add(this.splitInstruction({stakePubkey:o,authorizedPubkey:a,splitStakePubkey:c,lamports:b}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:o,authorizedPubkey:a}=t,h=we(yn.Merge);return(new De).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Ki,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:o,toPubkey:a,lamports:c,custodianPubkey:h}=t,b=we(yn.Withdraw,{lamports:c}),R=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Ki,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return h&&R.push({pubkey:h,isSigner:!0,isWritable:!1}),(new De).add({keys:R,programId:this.programId,data:b})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:o}=t,c=we(yn.Deactivate);return(new De).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}}io.programId=new St("Stake11111111111111111111111111111111111111"),io.space=200;const zn=Object.freeze({InitializeAccount:{index:0,layout:z.n_([z.Jq("instruction"),((i="voteInit")=>z.n_([me("nodePubkey"),me("authorizedVoter"),me("authorizedWithdrawer"),z.u8("commission")],i))()])},Authorize:{index:1,layout:z.n_([z.Jq("instruction"),me("newAuthorized"),z.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:z.n_([z.Jq("instruction"),z.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:z.n_([z.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:z.n_([z.Jq("instruction"),((i="voteAuthorizeWithSeedArgs")=>z.n_([z.Jq("voteAuthorizationType"),me("currentAuthorityDerivedKeyOwnerPubkey"),or("currentAuthorityDerivedKeySeed"),me("newAuthorized")],i))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Fr{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:o,voteInit:a}=t,h=we(zn.InitializeAccount,{voteInit:{nodePubkey:le(a.nodePubkey.toBuffer()),authorizedVoter:le(a.authorizedVoter.toBuffer()),authorizedWithdrawer:le(a.authorizedWithdrawer.toBuffer()),commission:a.commission}});return new Le({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ri,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static createAccount(t){const e=new De;return e.add(kn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:o,newAuthorizedPubkey:a,voteAuthorizationType:c}=t,p=we(zn.Authorize,{newAuthorized:le(a.toBuffer()),voteAuthorizationType:c.index}),b=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return(new De).add({keys:b,programId:this.programId,data:p})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:o,currentAuthorityDerivedKeySeed:a,newAuthorizedPubkey:c,voteAuthorizationType:h,votePubkey:p}=t,R=we(zn.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:le(o.toBuffer()),currentAuthorityDerivedKeySeed:a,newAuthorized:le(c.toBuffer()),voteAuthorizationType:h.index}}),L=[{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new De).add({keys:L,programId:this.programId,data:R})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:o,lamports:a,toPubkey:c}=t,p=we(zn.Withdraw,{lamports:a}),b=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return(new De).add({keys:b,programId:this.programId,data:p})}static safeWithdraw(t,e,o){if(t.lamports>e-o)throw new Error("Withdraw will leave vote account with insufficient funds.");return Fr.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:o,nodePubkey:a}=t,h=we(zn.UpdateValidatorIdentity),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return(new De).add({keys:p,programId:this.programId,data:h})}}Fr.programId=new St("Vote111111111111111111111111111111111111111"),Fr.space=3762,new St("Va1idator1nfo111111111111111111111111111111"),ht({name:Et(),website:ie(Et()),details:ie(Et()),iconUrl:ie(Et()),keybaseUsername:ie(Et())}),new St("Vote111111111111111111111111111111111111111"),z.n_([me("nodePubkey"),me("authorizedWithdrawer"),z.u8("commission"),z._O(),z.A9(z.n_([z._O("slot"),z.Jq("confirmationCount")]),z.cv(z.Jq(),-8),"votes"),z.u8("rootSlotValid"),z._O("rootSlot"),z._O(),z.A9(z.n_([z._O("epoch"),me("authorizedVoter")]),z.cv(z.Jq(),-8),"authorizedVoters"),z.n_([z.A9(z.n_([me("authorizedPubkey"),z._O("epochOfLastAuthorizedSwitch"),z._O("targetEpoch")]),32,"buf"),z._O("idx"),z.u8("isEmpty")],"priorVoters"),z._O(),z.A9(z.n_([z._O("epoch"),z._O("credits"),z._O("prevCredits")]),z.cv(z.Jq(),-8),"epochCredits"),z.n_([z._O("slot"),z._O("timestamp")],"lastTimestamp")]);var Nr,Os="https://js.stripe.com",dl="".concat(Os,"/").concat("basil","/stripe.js"),pl=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,yl=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Ns="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",gl=function(t){return pl.test(t)||yl.test(t)},Ds=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",o=document.createElement("script");o.src="".concat(dl).concat(e);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(o),o},Or=null,li=null,hi=null,kl=function(t,e,o){if(null===t)return null;var c=e[0].match(/^pk_test/),h=function(t){return 3===t?"v3":t}(t.version),p="basil";c&&h!==p&&console.warn("Stripe.js@".concat(h," was loaded on the page, but @stripe/stripe-js@").concat("7.5.0"," expected Stripe.js@").concat(p,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var b=t.apply(void 0,e);return function(t,e){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.5.0",startTime:e})}(b,o),b},qs=!1,zs=function(){return Nr||(Nr=(t=null,null!==Or?Or:(Or=new Promise(function(e,o){if(typeof window>"u"||typeof document>"u")e(null);else if(window.Stripe&&t&&console.warn(Ns),window.Stripe)e(window.Stripe);else try{var a=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Os,'"]')),e=0;e<t.length;e++){var o=t[e];if(gl(o.src))return o}return null}();if(a&&t)console.warn(Ns);else if(a){if(a&&null!==hi&&null!==li){var c;a.removeEventListener("load",hi),a.removeEventListener("error",li),null===(c=a.parentNode)||void 0===c||c.removeChild(a),a=Ds(t)}}else a=Ds(t);hi=function(t,e){return function(){window.Stripe?t(window.Stripe):e(new Error("Stripe.js not available"))}}(e,o),li=function(t){return function(e){t(new Error("Failed to load Stripe.js",{cause:e}))}}(o),a.addEventListener("load",hi),a.addEventListener("error",li)}catch(h){return void o(h)}})).catch(function(e){return Or=null,Promise.reject(e)})).catch(function(t){return Nr=null,Promise.reject(t)}));var t};Promise.resolve().then(function(){return zs()}).catch(function(i){qs||console.warn(i)});var fi=wt(529);let di=(()=>{class i{constructor(e){this.http=e,this.apiUrl="http://localhost:3001",this.connection=new ks("https://api.devnet.solana.com","confirmed")}connectWallet(){return x(function*(){console.log("Attempting to connect to wallet...");try{if(window.solana&&window.solana.isPhantom){console.log("Phantom wallet found, attempting to connect...");const e=yield window.solana.connect();return console.log("Wallet connected:",e.publicKey.toString()),e}console.log("Phantom wallet not found."),alert("Phantom wallet not found. Please install it from https://phantom.app/")}catch(e){console.error("Failed to connect wallet:",e)}})()}checkWalletConnected(){return x(function*(){return window.solana&&window.solana.isPhantom&&window.solana.isConnected&&window.solana.publicKey?window.solana.publicKey:null})()}disconnectWallet(){return x(function*(){console.log("Attempting to disconnect wallet...");try{window.solana&&window.solana.disconnect&&(yield window.solana.disconnect(),console.log("Wallet disconnected"))}catch(e){console.error("Failed to disconnect wallet:",e)}})()}mintNFTbackend(e){return this.http.post(`${this.apiUrl}/mint-nft`,e)}getMintedBricks(){return this.http.get(`${this.apiUrl}/minted-bricks`)}static#t=this.\u0275fac=function(o){return new(o||i)(f.LFG(fi.eN))};static#e=this.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Bl=wt(7579);let so=(()=>{class i{constructor(){this.mintedSubject=new Bl.x,this.minted$=this.mintedSubject.asObservable()}notifyMinted(){this.mintedSubject.next()}static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Sl(i,t){if(1&i){const e=f.EpF();f.TgZ(0,"button",6),f.NdJ("click",function(){f.CHM(e);const a=f.oxw();return f.KtG(a.mintBrick())}),f._uU(1,"Mint with Phantom"),f.qZA()}}function Il(i,t){if(1&i){const e=f.EpF();f.TgZ(0,"button",6),f.NdJ("click",function(){f.CHM(e);const a=f.oxw();return f.KtG(a.mintWithStripe())}),f._uU(1,"Mint with Stripe"),f.qZA()}}window.Buffer=window.Buffer||wt(3172).Buffer;let Rl=(()=>{class i{constructor(e,o,a){this.walletService=e,this.brickEvents=o,this.modalRef=a,this.selectedPayment=null}goBack(){this.modalRef.hide()}selectPayment(e){this.selectedPayment=e}mintWithStripe(){var e=this;return x(function*(){if(!e.brick||!e.brick.metadataUri)return void alert("Brick data is missing.");const o=window.solana?.publicKey?.toString();if(o)try{const c=yield(yield fetch("http://localhost:3001/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:o,metadataUri:e.brick.metadataUri})})).json();if(!c.id)throw new Error("Failed to create Stripe session");const h=yield function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];qs=!0;var a=Date.now();return zs().then(function(c){return kl(c,e,a)})}("pk_test_REPLACE_ME");if(!h)throw new Error("Stripe.js failed to load");yield h.redirectToCheckout({sessionId:c.id})}catch(a){console.error("Stripe payment error:",a),alert("Stripe payment failed: "+(a.message||a))}else alert("Please connect your wallet first.")})()}mintBrick(){var e=this;return x(function*(){if(e.brick&&e.brick.metadataUri&&window.solana?.publicKey)try{const o=window.solana,a=new ks("https://api.devnet.solana.com"),c=new St(o.publicKey.toString()),h=new St("FXD4ebDGGDG3L345MD2DYRQ4rxhuswJFZ1o3EASsQxhS"),p=(new De).add(kn.transfer({fromPubkey:c,toPubkey:h,lamports:Math.round(1e8)}));p.feePayer=c;const{blockhash:b}=yield a.getLatestBlockhash();p.recentBlockhash=b;const R=yield o.signTransaction(p),L=yield a.sendRawTransaction(R.serialize());yield a.confirmTransaction(L,"confirmed"),alert("Payment successful! Transaction: "+L),e.walletService.mintNFTbackend({walletAddress:o.publicKey.toString(),metadataUri:e.brick.metadataUri}).subscribe({next:K=>{console.log("Minting successful",K),alert("Brick minted successfully!"),e.brickEvents.notifyMinted()},error:K=>{console.error("Error minting brick:",K),alert("Failed to mint brick. Please try again.")}})}catch(o){console.error("Payment or minting error:",o),alert("Payment failed or cancelled: "+(o.message||o))}else alert("Brick data or wallet is incomplete.")})()}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(di),f.Y36(so),f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-mint"]],decls:19,vars:6,consts:[[1,"modal-body","mint-modal"],[1,"custom-modal-header"],[1,"back-btn",2,"position","absolute","top","24px","left","24px","cursor","pointer","font-size","1.2rem","z-index","10",3,"click"],[1,"custom-modal-content"],[1,"main-question"],[1,"payment-method-choice"],[1,"button",3,"click"],[1,"buttons-list"],["class","button",3,"click",4,"ngIf"],[1,"button"]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return a.goBack()}),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"MINT"),f.qZA()(),f.TgZ(6,"div",3)(7,"h2",4),f._uU(8,"Monster. You sure you want to destroy this innocent brick?"),f.qZA(),f.TgZ(9,"div",5)(10,"button",6),f.NdJ("click",function(){return a.selectPayment("phantom")}),f._uU(11,"Pay with Phantom"),f.qZA(),f.TgZ(12,"button",6),f.NdJ("click",function(){return a.selectPayment("stripe")}),f._uU(13,"Pay with Stripe"),f.qZA()()(),f.TgZ(14,"div",7),f.YNc(15,Sl,2,0,"button",8),f.YNc(16,Il,2,0,"button",8),f.TgZ(17,"button",9),f._uU(18,"No"),f.qZA()()()),2&o&&(f.xp6(10),f.ekj("selected","phantom"===a.selectedPayment),f.xp6(2),f.ekj("selected","stripe"===a.selectedPayment),f.xp6(3),f.Q6J("ngIf","phantom"===a.selectedPayment),f.xp6(1),f.Q6J("ngIf","stripe"===a.selectedPayment))},dependencies:[Ut.O5],styles:[".center-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:70vh}.center-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.modal-body.center-modal[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;justify-content:center!important;align-items:center!important;min-height:70vh!important;width:100%!important;padding:0!important}.custom-modal-content.center-content[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;width:100%!important}.main-question[_ngcontent-%COMP%]{text-align:center;font-size:2rem;font-weight:700;margin:40px 0 32px}.payment-method-choice[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;justify-content:center!important;align-items:center!important;gap:32px!important;margin-bottom:40px!important;width:100%}.payment-method-choice[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:180px;min-height:60px;font-size:1.1rem;font-weight:600;border-radius:12px;transition:box-shadow .2s}.payment-method-choice[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #343be6;background:#B0FFEC;color:#343be6!important}h2[_ngcontent-%COMP%]{text-align:center;margin:0 0 60px}.buttons-list[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.buttons-list[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:94px;background-color:#b0ffec;color:#343be6!important}.mint-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:70vh;width:100%;padding:0}.mint-modal[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.mint-modal[_ngcontent-%COMP%]   .main-question[_ngcontent-%COMP%]{text-align:center;font-size:2rem;font-weight:700;margin:40px 0 32px}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:32px;margin-bottom:40px;width:100%}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:180px;min-height:60px;font-size:1.1rem;font-weight:600;border-radius:12px;transition:box-shadow .2s}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #343be6;background:#B0FFEC;color:#343be6!important}"]})}return i})();function Ml(i,t){1&i&&(f.ynx(0),f._uU(1,"Loading attributes..."),f.BQk())}function Pl(i,t){if(1&i&&(f.ynx(0),f._uU(1),f.BQk()),2&i){const e=f.oxw();f.xp6(1),f.hij("Error: ",e.attributesError,"")}}function Cl(i,t){1&i&&(f.ynx(0),f._uU(1,"??????"),f.BQk())}function Ul(i,t){if(1&i&&(f.ynx(0),f._uU(1),f.BQk()),2&i){const e=f.oxw().$implicit;f.xp6(1),f.Oqu(e.value)}}function Ll(i,t){if(1&i&&(f.TgZ(0,"div",6)(1,"p"),f._uU(2),f.qZA(),f.TgZ(3,"span"),f.YNc(4,Cl,2,0,"ng-container",8),f.YNc(5,Ul,2,1,"ng-container",8),f.qZA()()),2&i){const e=t.$implicit,o=f.oxw(2);f.xp6(2),f.Oqu(e.trait_type||e.type||"Attribute"),f.xp6(2),f.Q6J("ngIf",("Rarity"===e.trait_type||"Type"===e.trait_type||"Rarity"===e.type||"Type"===e.type)&&!o.isMinted),f.xp6(1),f.Q6J("ngIf",!("Rarity"===e.trait_type||"Type"===e.trait_type||"Rarity"===e.type||"Type"===e.type)||o.isMinted)}}function Fl(i,t){if(1&i&&(f.ynx(0),f.YNc(1,Ll,6,3,"div",13),f.BQk()),2&i){const e=f.oxw();f.xp6(1),f.Q6J("ngForOf",e.attributes)}}function Ol(i,t){1&i&&(f.ynx(0),f.TgZ(1,"div",6)(2,"p"),f._uU(3,"No attributes found."),f.qZA()(),f.BQk())}function Nl(i,t){if(1&i){const e=f.EpF();f.TgZ(0,"button",16),f.NdJ("click",function(){f.CHM(e);const a=f.oxw(2);return f.KtG(a.openMintModal())}),f._uU(1,"MINT"),f.qZA()}if(2&i){const e=f.oxw(2);f.Q6J("disabled",e.isMinted)}}function Dl(i,t){1&i&&(f.TgZ(0,"div",17),f._uU(1,"This brick has already been minted"),f.qZA())}function ql(i,t){if(1&i&&(f.ynx(0),f.YNc(1,Nl,2,1,"button",14),f.YNc(2,Dl,2,0,"div",15),f.BQk()),2&i){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",!e.isMinted),f.xp6(1),f.Q6J("ngIf",e.isMinted)}}function zl(i,t){1&i&&(f.TgZ(0,"div",17),f._uU(1,"This brick is not available for minting yet"),f.qZA())}let Wl=(()=>{class i{constructor(e,o,a){this.modalRef=e,this.modalService=o,this.walletService=a,this.mintedBricks=[],this.isMinted=!1,this.attributes=[],this.loadingAttributes=!1,this.attributesError=null}ngOnInit(){console.log(this.brick),this.brick||console.error("Brick data is not available"),this.walletService.getMintedBricks().subscribe({next:e=>{this.mintedBricks=e.minted,this.isMinted=this.brick&&this.brick.metadataUri&&this.mintedBricks.includes(this.brick.metadataUri)},error:e=>{console.error("Failed to fetch minted bricks",e)}}),this.fetchAttributes()}fetchAttributes(){var e=this;return x(function*(){if(e.loadingAttributes=!0,e.attributesError=null,e.attributes=[],e.brick&&e.brick.metadataUri)try{const o=yield fetch(e.brick.metadataUri);if(!o.ok)throw new Error("Failed to fetch metadata");const a=yield o.json();e.attributes=Array.isArray(a.attributes)?a.attributes:[]}catch(o){e.attributesError=o.message||"Failed to load attributes"}e.loadingAttributes=!1})()}openShareModal(){this.modalRef=this.modalService.show(I,{class:"modal-dialog-slide-up"})}openMintModal(){this.modalRef=this.modalService.show(Rl,{class:"modal-dialog-slide-up",initialState:{brick:{...this.brick,metadataUri:this.brick.metadataUri}}})}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(E.UZ),f.Y36(E.tT),f.Y36(di))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-brick-details"]],decls:36,vars:9,consts:[[1,"modal-body"],[1,"custom-modal-content"],[1,"first-box"],["src","/assets/images/simple-brick-large.png","alt","Brick Image"],[1,"second-box"],[1,"list-data-container"],[1,"list-data"],[1,"third-box"],[4,"ngIf"],[1,"link"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notAvailable",""],["class","list-data",4,"ngFor","ngForOf"],["class","button light-color",3,"disabled","click",4,"ngIf"],["style","color: #c00; font-weight: bold; margin-top: 10px;",4,"ngIf"],[1,"button","light-color",3,"disabled","click"],[2,"color","#c00","font-weight","bold","margin-top","10px"]],template:function(o,a){if(1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f._UZ(3,"img",3),f.qZA(),f.TgZ(4,"div",4)(5,"h2"),f._uU(6,"Metabrick Official Supply"),f.qZA(),f.TgZ(7,"div",5)(8,"div",6)(9,"p"),f._uU(10,"Number"),f.qZA(),f.TgZ(11,"span"),f._uU(12),f.qZA()(),f.TgZ(13,"div",6)(14,"p"),f._uU(15,"Mint Price"),f.qZA(),f.TgZ(16,"span"),f._uU(17),f.qZA()(),f.TgZ(18,"div",6)(19,"p"),f._uU(20,"Position"),f.qZA(),f.TgZ(21,"span"),f._uU(22),f.qZA()()()(),f.TgZ(23,"div",7)(24,"div",5),f.YNc(25,Ml,2,0,"ng-container",8),f.YNc(26,Pl,2,1,"ng-container",8),f.YNc(27,Fl,2,1,"ng-container",8),f.YNc(28,Ol,4,0,"ng-container",8),f.qZA(),f.TgZ(29,"p",9),f._uU(30,"Hash\u2197"),f.qZA(),f.TgZ(31,"button",10),f.NdJ("click",function(){return a.openShareModal()}),f._uU(32,"SHARE\u2197"),f.qZA(),f.YNc(33,ql,3,2,"ng-container",11),f.YNc(34,zl,2,0,"ng-template",null,12,f.W1O),f.qZA()()()),2&o){const c=f.MAs(35);f.xp6(12),f.Oqu(a.brick.brickNumber),f.xp6(5),f.Oqu(a.brick.mintPrice),f.xp6(5),f.Oqu(a.brick.position),f.xp6(3),f.Q6J("ngIf",a.loadingAttributes),f.xp6(1),f.Q6J("ngIf",a.attributesError),f.xp6(1),f.Q6J("ngIf",!a.loadingAttributes&&!a.attributesError&&a.attributes.length),f.xp6(1),f.Q6J("ngIf",!a.loadingAttributes&&!a.attributesError&&!a.attributes.length),f.xp6(5),f.Q6J("ngIf",a.brick.metadataUri)("ngIfElse",c)}},dependencies:[Ut.sg,Ut.O5]})}return i})();function Kl(i,t){if(1&i&&(f.ynx(0),f._uU(1),f.BQk()),2&i){const e=f.oxw().$implicit;f.xp6(1),f.hij(" ",e.seriesNumber," ")}}function $l(i,t){1&i&&f._UZ(0,"div",10)}const Zl=function(){return[0,1,2,3,4,5,6,7]};function Hl(i,t){1&i&&(f.TgZ(0,"div",8),f.YNc(1,$l,1,0,"div",9),f.qZA()),2&i&&(f.xp6(1),f.Q6J("ngForOf",f.DdM(1,Zl)))}function Vl(i,t){if(1&i){const e=f.EpF();f.TgZ(0,"div",4),f.NdJ("click",function(){const c=f.CHM(e).$implicit,h=f.oxw();return f.KtG(c.metadataUri&&!h.isMinted(c)?h.openBrickModal(c):null)}),f.TgZ(1,"div",5),f.YNc(2,Kl,2,1,"ng-container",6),f.YNc(3,Hl,2,2,"div",7),f.qZA()()}if(2&i){const e=t.$implicit,o=f.oxw();f.ekj("offset",e.offset)("minted-brick",!e.metadataUri||o.isMinted(e))("exploding",e.exploding),f.xp6(2),f.Q6J("ngIf",e.metadataUri&&!o.isMinted(e)),f.xp6(1),f.Q6J("ngIf",e.exploding)}}let Gl=(()=>{class i{constructor(e,o,a){this.modalService=e,this.http=o,this.brickEvents=a,this.allBricks=[],this.mintedBricks=[]}ngOnInit(){this.resetWall(),this.fetchMintedBricks(),this.brickEvents.minted$.subscribe(()=>{const e=this.mintedBricks[this.mintedBricks.length-1],o=this.allBricks.find(a=>a.metadataUri===e);o&&this.triggerExplosion(o),this.fetchMintedBricks()})}resetMintedBricks(){var e=this;return x(function*(){try{yield e.http.post("http://localhost:3001/reset-minted-bricks",{}).toPromise()}catch(o){console.error("Failed to reset minted bricks",o)}})()}resetWall(){this.allBricks=[];for(let c=0;c<24;c++)for(let h=0;h<18;h++){let p=c%2!=0;const R=18*c+h;this.allBricks.push({id:R,brickNumber:`Brick ${R+1}`,mintPrice:"0.4 SOL",position:`X${h+(p?.5:0)+1}, Y${c+1}`,offset:p,metadataUri:R<30?`https://gateway.pinata.cloud/ipfs/bafybeifkewu2rzq7mhit3cw3lhnm3zdfn2c5ijx3zb4t56ued6g5i3msm4/${R}.json`:null})}}fetchMintedBricks(){this.http.get("http://localhost:3001/minted-bricks").subscribe({next:e=>{this.mintedBricks=e.minted},error:e=>{console.error("Failed to fetch minted bricks",e)}})}isMinted(e){return!!e.metadataUri&&this.mintedBricks.includes(e.metadataUri)}triggerExplosion(e){e.exploding=!0;const o=new Audio("assets/explosion.mp3");o.volume=.5,o.play(),setTimeout(()=>{e.exploding=!1},700)}filterBricks(){this.mintedBricks||(this.mintedBricks=[]),console.log("Minted list:",this.mintedBricks),console.log("All wall brick URIs:",this.allBricks.map(e=>e.metadataUri))}generateBricks(){for(let h=0;h<24;h++)for(let p=0;p<18;p++);}openBrickModal(e){console.log("Clicked brick metadataUri:",e.metadataUri),this.modalRef=this.modalService.show(Wl,{class:"modal-dialog-slide-up",initialState:{brick:e}})}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(E.tT),f.Y36(fi.eN),f.Y36(so))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-landing"]],decls:4,vars:1,consts:[[1,"middle-container"],[1,"middle-content"],[1,"bricks-container"],["class","single-brick",3,"offset","minted-brick","exploding","click",4,"ngFor","ngForOf"],[1,"single-brick",3,"click"],[1,"brick-inner"],[4,"ngIf"],["class","particles",4,"ngIf"],[1,"particles"],["class","particle",4,"ngFor","ngForOf"],[1,"particle"]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.YNc(3,Vl,4,8,"div",3),f.qZA()()()),2&o&&(f.xp6(3),f.Q6J("ngForOf",a.allBricks))},dependencies:[Ut.sg,Ut.O5],styles:[".minted-brick[_ngcontent-%COMP%]{background:#00010C;border:none;cursor:default;opacity:.1;pointer-events:none}.exploding[_ngcontent-%COMP%]   .brick-inner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_explode-brick .7s cubic-bezier(.4,0,.2,1) forwards;z-index:2;box-shadow:0 0 40px 20px #fff17688}@keyframes _ngcontent-%COMP%_explode-brick{0%{transform:scale(1);opacity:1;box-shadow:none}40%{transform:scale(1.5);opacity:1;box-shadow:0 0 60px 30px #fff176cc}to{transform:scale(2.5);opacity:0;box-shadow:0 0 80px 40px #fff17600}}.particles[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:0;height:0;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;width:18px;height:18px;background:radial-gradient(circle,#fff176 60%,#ff9800 100%);border-radius:50%;opacity:.9;animation:_ngcontent-%COMP%_explode-particle .7s forwards}.particle[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0) translateY(-2px);animation-delay:0s}.particle[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg) translateY(-2px);animation-delay:.05s}.particle[_ngcontent-%COMP%]:nth-child(3){transform:rotate(90deg) translateY(-2px);animation-delay:.1s}.particle[_ngcontent-%COMP%]:nth-child(4){transform:rotate(135deg) translateY(-2px);animation-delay:.15s}.particle[_ngcontent-%COMP%]:nth-child(5){transform:rotate(180deg) translateY(-2px);animation-delay:.2s}.particle[_ngcontent-%COMP%]:nth-child(6){transform:rotate(225deg) translateY(-2px);animation-delay:.25s}.particle[_ngcontent-%COMP%]:nth-child(7){transform:rotate(270deg) translateY(-2px);animation-delay:.3s}.particle[_ngcontent-%COMP%]:nth-child(8){transform:rotate(315deg) translateY(-2px);animation-delay:.35s}@keyframes _ngcontent-%COMP%_explode-particle{0%{transform:scale(1) translateY(-2px);opacity:.9}80%{opacity:1}to{transform:scale(2.5) translateY(-120px);opacity:0}}"]})}return i})(),jl=(()=>{class i{constructor(e,o,a,c){this.walletService=e,this.renderer=o,this.ngZone=a,this.cdr=c,this.walletAddress=null}ngOnInit(){this.walletService.checkWalletConnected().then(e=>{e&&(this.walletAddress=e.toString(),this.cdr.detectChanges())})}connectWallet(){this.ngZone.run(()=>{this.walletService.connectWallet().then(e=>{console.log("Phantom state after connect:",window.solana),window.solana&&window.solana.isConnected&&window.solana.publicKey?(this.walletAddress=window.solana.publicKey.toString(),this.cdr.detectChanges()):(this.walletAddress=null,alert("Failed to connect to Phantom. Please try again."));const o=this.renderer.selectRootElement("#target-element",!0);this.renderer.setStyle(o,"color","green")}).catch(e=>{console.error("Error connecting wallet",e),alert("Error connecting to Phantom wallet.")})})}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(di),f.Y36(f.Qsj),f.Y36(f.R0b),f.Y36(f.sBO))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-header"]],decls:10,vars:1,consts:[["routerLink","/",1,"logo",2,"cursor","pointer"],["src","/assets/images/logo.png","alt",""],["id","target-element",1,"right-section","buttons-list"],["routerLink","gallery",1,"button"],[1,"button",3,"click"]],template:function(o,a){1&o&&(f.TgZ(0,"header")(1,"div",0),f._UZ(2,"img",1),f.TgZ(3,"h1"),f._uU(4,"METABRiCKS"),f.qZA()(),f.TgZ(5,"div",2)(6,"button",3),f._uU(7,"Gallery"),f.qZA(),f.TgZ(8,"button",4),f.NdJ("click",function(){return a.connectWallet()}),f._uU(9),f.qZA()()()),2&o&&(f.xp6(9),f.hij(" ",a.walletAddress?"Wallet Connected":"Connect Wallet","\n"))},dependencies:[Y.rH]})}return i})(),Yl=(()=>{class i{constructor(e){this.modalRef=e}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-what"]],decls:16,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn"],[1,"custom-modal-content"],[1,"left-section"],["src","/assets/images/what-popup-icon.png","alt",""],[1,"right-section"]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"WHAT IS METABRICKS?"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"Greetings, builder. Welcome to Metabricks."),f.qZA()(),f.TgZ(11,"div",6)(12,"p"),f._uU(13,"This is not a normal NFT project. This is a construction site for the operating systems of the future."),f.qZA(),f.TgZ(14,"p"),f._uU(15,"Your assignment is to hodl bricks and help us finish building the Metaverse. "),f.qZA()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:grid;grid-gap:50px;align-items:center;grid-template-columns:1fr 1fr}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px}"]})}return i})(),Jl=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-how"]],decls:24,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn"],[1,"custom-modal-content"],[1,"list-container"],[1,"single-list"],["src","/assets/images/how-popup-icon-01.png","alt",""],["src","/assets/images/how-popup-icon-02.png","alt",""],["src","/assets/images/how-popup-icon-03.png","alt",""],["src","/assets/images/how-popup-icon-04.png","alt",""]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"HOW METABRICK WORKS?"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4)(8,"div",5),f._UZ(9,"img",6),f.TgZ(10,"p"),f._uU(11,"Buy Metabricks to remove them from the wall"),f.qZA()(),f.TgZ(12,"div",5),f._UZ(13,"img",7),f.TgZ(14,"p"),f._uU(15,"Once the wall is destroyed, each brick becomes a SAFT"),f.qZA()(),f.TgZ(16,"div",5),f._UZ(17,"img",8),f.TgZ(18,"p"),f._uU(19,"Top brick hodlers after 25%, 50%, 75%, and 100% of bricks are held receive exlcusive gifts"),f.qZA()(),f.TgZ(20,"div",5),f._UZ(21,"img",9),f.TgZ(22,"p"),f._uU(23,"Each mint would hand you different tiers of bricks; 65% common, 30% rare, and 5% legendary."),f.qZA()()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:6px;margin:0 0 20px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:20px;display:grid;grid-gap:10px;border:1px solid #B0FFEC}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:MEK!important;font-size:24px;font-style:normal;font-weight:400}"]})}return i})(),Xl=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-whitepaper"]],decls:38,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn"],[1,"custom-modal-content"],[1,"section-heading"],["src","/assets/images/whitepaper-icon.png","alt",""],[1,"list-container"],[1,"single-list"]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"WHITEPAPER"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"The Blueprint "),f.TgZ(11,"span"),f._uU(12,"(What are you supporting)"),f.qZA()()(),f.TgZ(13,"div",6)(14,"div",7)(15,"p"),f._uU(16,"A stable, resilient, decentralised platform to ensure the sovereignty of all users, and prevent the centralisation of power and influence as much as possible."),f.qZA()(),f.TgZ(17,"div",7)(18,"p"),f._uU(19,"Easy to build on, providing everyone from developers to regular people advanced capabilities and benefits, such as scalability to host state intensive dApps."),f.qZA()(),f.TgZ(20,"div",7)(21,"p"),f._uU(22,"Facilitating the seamless transfer of information of any kind, between different apps and websites, whether web2 or web3."),f.qZA()(),f.TgZ(23,"div",7)(24,"p"),f._uU(25,"highly secure, so that users can trust it with valuable things."),f.qZA()(),f.TgZ(26,"div",7)(27,"p"),f._uU(28,"an internal karma system that encourages all users to do good - both online and in the real world."),f.qZA()(),f.TgZ(29,"div",7)(30,"p"),f._uU(31,"a phygital metaverse"),f.qZA()(),f.TgZ(32,"div",7)(33,"p"),f._uU(34,"a .NET bridge to Holochain"),f.qZA()(),f.TgZ(35,"div",7)(36,"p"),f._uU(37,"a low-code Metaverse generator that can write to any blockchain"),f.qZA()()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:6px;margin:0 0 20px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:12px 15px;display:flex;grid-gap:10px;border-top:1px solid #B0FFEC;border-left:1px solid #B0FFEC;border-right:1px solid #B0FFEC}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #B0FFEC}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:MEK!important;font-size:24px;font-style:normal;font-weight:400}"]})}return i})(),Ql=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-deliverable"]],decls:16,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn"],[1,"custom-modal-content"],[1,"left-section"],["src","/assets/images/what-popup-icon.png","alt",""],[1,"right-section"]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"WHAT IS METABRICKS?"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"Greetings, builder. Welcome to Metabricks."),f.qZA()(),f.TgZ(11,"div",6)(12,"p"),f._uU(13,"This is not a normal NFT project. This is a construction site for the operating systems of the future."),f.qZA(),f.TgZ(14,"p"),f._uU(15,"Your assignment is to hodl bricks and help us finish building the Metaverse. "),f.qZA()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:grid;grid-gap:50px;align-items:center;grid-template-columns:1fr 1fr}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px}"]})}return i})(),th=(()=>{class i{constructor(e,o,a){this.modalService=e,this.http=o,this.brickEvents=a,this.destroyedCount=0,this.leftCount=0,this.TOTAL_BRICKS=432,this.fetchMintedBricks(),this.brickEvents.minted$.subscribe(()=>{this.fetchMintedBricks()})}fetchMintedBricks(){this.http.get("http://localhost:3001/minted-bricks").subscribe({next:e=>{this.destroyedCount=e.minted.length,this.leftCount=this.TOTAL_BRICKS-this.destroyedCount},error:e=>{console.error("Failed to fetch minted bricks",e)}})}openWhatModal(){this.modalRef=this.modalService.show(Yl)}openHowModal(){this.modalRef=this.modalService.show(Jl)}openWhitepaperModal(){this.modalRef=this.modalService.show(Xl)}openDeliverableModal(){this.modalRef=this.modalService.show(Ql)}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(E.tT),f.Y36(fi.eN),f.Y36(so))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-footer"]],decls:15,vars:2,consts:[[1,"buttons-list"],[1,"button",3,"click"],[1,"right-section"]],template:function(o,a){1&o&&(f.TgZ(0,"footer")(1,"div",0)(2,"button",1),f.NdJ("click",function(){return a.openWhatModal()}),f._uU(3,"What"),f.qZA(),f.TgZ(4,"button",1),f.NdJ("click",function(){return a.openHowModal()}),f._uU(5,"How"),f.qZA(),f.TgZ(6,"button",1),f.NdJ("click",function(){return a.openWhitepaperModal()}),f._uU(7,"Whitepaper"),f.qZA(),f.TgZ(8,"button",1),f.NdJ("click",function(){return a.openDeliverableModal()}),f._uU(9,"Deliverables"),f.qZA()(),f.TgZ(10,"div",2)(11,"p"),f._uU(12),f.qZA(),f.TgZ(13,"p"),f._uU(14),f.qZA()()()),2&o&&(f.xp6(12),f.hij("x",a.destroyedCount," destroyed"),f.xp6(2),f.hij("x",a.leftCount," left"))}})}return i})();function nh(i,t){return{type:7,name:i,definitions:t,options:{}}}function rh(i,t=null){return{type:4,styles:t,timings:i}}function Ws(i){return{type:6,styles:i,offset:null}}function ih(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function oh(i,t){if(1&i&&(f.TgZ(0,"div",6),f._UZ(1,"img",7),f.TgZ(2,"h2"),f._uU(3),f.qZA(),f.TgZ(4,"div",8)(5,"p"),f._uU(6,"Series Number"),f.qZA(),f.TgZ(7,"h3"),f._uU(8),f.qZA()(),f.TgZ(9,"div",8)(10,"p"),f._uU(11,"Mint Price"),f.qZA(),f.TgZ(12,"h3"),f._uU(13),f.qZA()()()),2&i){const e=t.$implicit;f.Q6J("@brickAnim",void 0),f.xp6(1),f.Q6J("src",e.image||"/assets/images/sample-brick.png",f.LSH),f.xp6(2),f.Oqu(e.name),f.xp6(5),f.Oqu(e.seriesNumber||e.id),f.xp6(5),f.Oqu(e.mintPrice||"N/A")}}const sh=[{path:"",component:(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-home"]],decls:3,vars:0,template:function(o,a){1&o&&f._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Y.lC,jl,th]})}return i})(),children:[{path:"",component:Gl},{path:"gallery",component:(()=>{class i{constructor(e){this.http=e,this.allBricks=[]}ngOnInit(){this.http.get("http://localhost:3001/bricks").subscribe({next:e=>{this.allBricks=e},error:e=>{console.error("Failed to fetch bricks",e)}})}trackByBrick(e,o){return o.id||o.metadataUri||e}static#t=this.\u0275fac=function(o){return new(o||i)(f.Y36(fi.eN))};static#e=this.\u0275cmp=f.Xpm({type:i,selectors:[["app-gallery"]],decls:16,vars:2,consts:[[1,"middle-container","gallery-container"],[1,"middle-content"],[1,"section-header"],[1,"right-section"],[1,"section-list"],["class","single-section",4,"ngFor","ngForOf","ngForTrackBy"],[1,"single-section"],["alt","Brick Image",3,"src"],[1,"have-top-border"]],template:function(o,a){1&o&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),f._uU(4,"Bricks Gallery"),f.qZA(),f.TgZ(5,"div",3)(6,"p"),f._uU(7,"Sold "),f.TgZ(8,"span"),f._uU(9,"Yes"),f.qZA()(),f.TgZ(10,"p"),f._uU(11,"Sort by "),f.TgZ(12,"span"),f._uU(13,"Price \u2191"),f.qZA()()()(),f.TgZ(14,"div",4),f.YNc(15,oh,14,5,"div",5),f.qZA()()()),2&o&&(f.xp6(15),f.Q6J("ngForOf",a.allBricks)("ngForTrackBy",a.trackByBrick))},dependencies:[Ut.sg],styles:["@keyframes _ngcontent-%COMP%_pixelate-out{0%{filter:none;opacity:1;transform:scale(1)}60%{filter:url(#pixelate);opacity:1;transform:scale(1.05)}to{filter:url(#pixelate);opacity:0;transform:scale(.8)}}.pixelate-leave[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pixelate-out .5s forwards}"],data:{animation:[nh("brickAnim",[ih(":leave",[Ws({filter:"none",opacity:1,transform:"scale(1)"}),rh("500ms ease",Ws({filter:"url(#pixelate)",opacity:0,transform:"scale(0.8)"}))])])]}})}return i})()}]}];let ah=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=f.oAB({type:i});static#n=this.\u0275inj=f.cJS({imports:[Y.Bz.forChild(sh),Y.Bz]})}return i})(),ch=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=f.oAB({type:i});static#n=this.\u0275inj=f.cJS({providers:[di],imports:[Ut.ez,ah,E.zk.forRoot()]})}return i})()},1141:(Pe,Bt,wt)=>{"use strict";Bt._O=Bt.Jq=Bt.KB=Bt.u8=Bt.cv=void 0,Bt.Ik=Bt.A9=Bt.n_=Bt.gM=void 0;const Ut=wt(318);function Y(B){if(!(B instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function ut(B){return Y(B),Ut.Buffer.from(B.buffer,B.byteOffset,B.length)}class x{constructor(k,A){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=A}makeDestinationObject(){return{}}getSpan(k,A){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(k){const A=Object.create(this.constructor.prototype);return Object.assign(A,this),A.property=k,A}fromArray(k){}}function f(B,k){return k.property?B+"["+k.property+"]":B}class I extends x{isCount(){throw new Error("ExternalLayout is abstract")}}class qt extends I{constructor(k,A=0,N){if(!(k instanceof x))throw new TypeError("layout must be a Layout");if(!Number.isInteger(A))throw new TypeError("offset must be integer or undefined");super(k.span,N||k.property),this.layout=k,this.offset=A}isCount(){return this.layout instanceof Ft||this.layout instanceof Dt}decode(k,A=0){return this.layout.decode(k,A+this.offset)}encode(k,A,N=0){return this.layout.encode(k,A,N+this.offset)}}class Ft extends x{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A=0){return ut(k).readUIntLE(A,this.span)}encode(k,A,N=0){return ut(A).writeUIntLE(k,N,this.span),this.span}}class Dt extends x{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A=0){return ut(k).readUIntBE(A,this.span)}encode(k,A,N=0){return ut(A).writeUIntBE(k,N,this.span),this.span}}const zt=Math.pow(2,32);function at(B){const k=Math.floor(B/zt);return{hi32:k,lo32:B-k*zt}}function et(B,k){return B*zt+k}class At extends x{constructor(k){super(8,k)}decode(k,A=0){const N=ut(k),V=N.readUInt32LE(A);return et(N.readUInt32LE(A+4),V)}encode(k,A,N=0){const V=at(k),X=ut(A);return X.writeUInt32LE(V.lo32,N),X.writeUInt32LE(V.hi32,N+4),8}}class Lt extends x{constructor(k){super(8,k)}decode(k,A=0){const N=ut(k),V=N.readUInt32LE(A);return et(N.readInt32LE(A+4),V)}encode(k,A,N=0){const V=at(k),X=ut(A);return X.writeUInt32LE(V.lo32,N),X.writeInt32LE(V.hi32,N+4),8}}class xt extends x{constructor(k,A,N){if(!(k instanceof x))throw new TypeError("elementLayout must be a Layout");if(!(A instanceof I&&A.isCount()||Number.isInteger(A)&&0<=A))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let V=-1;!(A instanceof I)&&0<k.span&&(V=A*k.span),super(V,N),this.elementLayout=k,this.count=A}getSpan(k,A=0){if(0<=this.span)return this.span;let N=0,V=this.count;if(V instanceof I&&(V=V.decode(k,A)),0<this.elementLayout.span)N=V*this.elementLayout.span;else{let X=0;for(;X<V;)N+=this.elementLayout.getSpan(k,A+N),++X}return N}decode(k,A=0){const N=[];let V=0,X=this.count;for(X instanceof I&&(X=X.decode(k,A));V<X;)N.push(this.elementLayout.decode(k,A)),A+=this.elementLayout.getSpan(k,A),V+=1;return N}encode(k,A,N=0){const V=this.elementLayout,X=k.reduce((Kt,ae)=>Kt+V.encode(ae,A,N+Kt),0);return this.count instanceof I&&this.count.encode(k.length,A,N),X}}class rt extends x{constructor(k,A,N){if(!Array.isArray(k)||!k.reduce((X,Kt)=>X&&Kt instanceof x,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof A&&void 0===N&&(N=A,A=void 0);for(const X of k)if(0>X.span&&void 0===X.property)throw new Error("fields cannot contain unnamed variable-length layout");let V=-1;try{V=k.reduce((X,Kt)=>X+Kt.getSpan(),0)}catch{}super(V,A),this.fields=k,this.decodePrefixes=!!N}getSpan(k,A=0){if(0<=this.span)return this.span;let N=0;try{N=this.fields.reduce((V,X)=>{const Kt=X.getSpan(k,A);return A+=Kt,V+Kt},0)}catch{throw new RangeError("indeterminate span")}return N}decode(k,A=0){Y(k);const N=this.makeDestinationObject();for(const V of this.fields)if(void 0!==V.property&&(N[V.property]=V.decode(k,A)),A+=V.getSpan(k,A),this.decodePrefixes&&k.length===A)break;return N}encode(k,A,N=0){const V=N;let X=0,Kt=0;for(const ae of this.fields){let oe=ae.span;if(Kt=0<oe?oe:0,void 0!==ae.property){const ne=k[ae.property];void 0!==ne&&(Kt=ae.encode(ne,A,N),0>oe&&(oe=ae.getSpan(A,N)))}X=N,N+=oe}return X+Kt-V}fromArray(k){const A=this.makeDestinationObject();for(const N of this.fields)void 0!==N.property&&0<k.length&&(A[N.property]=k.shift());return A}layoutFor(k){if("string"!=typeof k)throw new TypeError("property must be string");for(const A of this.fields)if(A.property===k)return A}offsetOf(k){if("string"!=typeof k)throw new TypeError("property must be string");let A=0;for(const N of this.fields){if(N.property===k)return A;0>N.span?A=-1:0<=A&&(A+=N.span)}}}class $ extends x{constructor(k,A){if(!(k instanceof I&&k.isCount()||Number.isInteger(k)&&0<=k))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let N=-1;k instanceof I||(N=k),super(N,A),this.length=k}getSpan(k,A){let N=this.span;return 0>N&&(N=this.length.decode(k,A)),N}decode(k,A=0){let N=this.span;return 0>N&&(N=this.length.decode(k,A)),ut(k).slice(A,A+N)}encode(k,A,N){let V=this.length;if(this.length instanceof I&&(V=k.length),!(k instanceof Uint8Array&&V===k.length))throw new TypeError(f("Blob.encode",this)+" requires (length "+V+") Uint8Array as src");if(N+V>A.length)throw new RangeError("encoding overruns Uint8Array");const X=ut(k);return ut(A).write(X.toString("hex"),N,V,"hex"),this.length instanceof I&&this.length.encode(V,A,N),V}}Bt.cv=(B,k,A)=>new qt(B,k,A),Bt.u8=B=>new Ft(1,B),Bt.KB=B=>new Ft(2,B),Bt.Jq=B=>new Ft(4,B),Bt._O=B=>new At(B),Bt.gM=B=>new Lt(B),Bt.n_=(B,k,A)=>new rt(B,k,A),Bt.A9=(B,k,A)=>new xt(B,k,A),Bt.Ik=(B,k)=>new $(B,k)},318:(Pe,Bt,wt)=>{"use strict";const D=wt(5343),Ut=wt(8461),Y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.Buffer=E,Bt.SlowBuffer=function At(S){return+S!=S&&(S=0),E.alloc(+S)},Bt.INSPECT_MAX_BYTES=50;const ut=2147483647;function f(S){if(S>ut)throw new RangeError('The value "'+S+'" is invalid for option "size"');const s=new Uint8Array(S);return Object.setPrototypeOf(s,E.prototype),s}function E(S,s,n){if("number"==typeof S){if("string"==typeof s)throw new TypeError('The "string" argument must be of type string. Received type number');return Ft(S)}return I(S,s,n)}function I(S,s,n){if("string"==typeof S)return function Dt(S,s){if(("string"!=typeof s||""===s)&&(s="utf8"),!E.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const n=0|bt(S,s);let r=f(n);const u=r.write(S,s);return u!==n&&(r=r.slice(0,u)),r}(S,s);if(ArrayBuffer.isView(S))return function Q(S){if(ot(S,Uint8Array)){const s=new Uint8Array(S);return zt(s.buffer,s.byteOffset,s.byteLength)}return ct(S)}(S);if(null==S)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(ot(S,ArrayBuffer)||S&&ot(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(S,SharedArrayBuffer)||S&&ot(S.buffer,SharedArrayBuffer)))return zt(S,s,n);if("number"==typeof S)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=S.valueOf&&S.valueOf();if(null!=r&&r!==S)return E.from(r,s,n);const u=function at(S){if(E.isBuffer(S)){const s=0|et(S.length),n=f(s);return 0===n.length||S.copy(n,0,0,s),n}return void 0!==S.length?"number"!=typeof S.length||Ht(S.length)?f(0):ct(S):"Buffer"===S.type&&Array.isArray(S.data)?ct(S.data):void 0}(S);if(u)return u;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof S[Symbol.toPrimitive])return E.from(S[Symbol.toPrimitive]("string"),s,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}function nt(S){if("number"!=typeof S)throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function Ft(S){return nt(S),f(S<0?0:0|et(S))}function ct(S){const s=S.length<0?0:0|et(S.length),n=f(s);for(let r=0;r<s;r+=1)n[r]=255&S[r];return n}function zt(S,s,n){if(s<0||S.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<s+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===s&&void 0===n?new Uint8Array(S):void 0===n?new Uint8Array(S,s):new Uint8Array(S,s,n),Object.setPrototypeOf(r,E.prototype),r}function et(S){if(S>=ut)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ut.toString(16)+" bytes");return 0|S}function bt(S,s){if(E.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||ot(S,ArrayBuffer))return S.byteLength;if("string"!=typeof S)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const n=S.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let u=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return g(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(S).length;default:if(u)return r?-1:g(S).length;s=(""+s).toLowerCase(),u=!0}}function Lt(S,s,n){let r=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(s>>>=0))return"";for(S||(S="utf8");;)switch(S){case"hex":return F(this,s,n);case"utf8":case"utf-8":return C(this,s,n);case"ascii":return v(this,s,n);case"latin1":case"binary":return M(this,s,n);case"base64":return mt(this,s,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,s,n);default:if(r)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),r=!0}}function yt(S,s,n){const r=S[s];S[s]=S[n],S[n]=r}function Rt(S,s,n,r,u){if(0===S.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Ht(n=+n)&&(n=u?0:S.length-1),n<0&&(n=S.length+n),n>=S.length){if(u)return-1;n=S.length-1}else if(n<0){if(!u)return-1;n=0}if("string"==typeof s&&(s=E.from(s,r)),E.isBuffer(s))return 0===s.length?-1:re(S,s,n,r,u);if("number"==typeof s)return s&=255,"function"==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(S,s,n):Uint8Array.prototype.lastIndexOf.call(S,s,n):re(S,[s],n,r,u);throw new TypeError("val must be string, number or Buffer")}function re(S,s,n,r,u){let kt,y=1,_=S.length,U=s.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(S.length<2||s.length<2)return-1;y=2,_/=2,U/=2,n/=2}function ft(_t,Mt){return 1===y?_t[Mt]:_t.readUInt16BE(Mt*y)}if(u){let _t=-1;for(kt=n;kt<_;kt++)if(ft(S,kt)===ft(s,-1===_t?0:kt-_t)){if(-1===_t&&(_t=kt),kt-_t+1===U)return _t*y}else-1!==_t&&(kt-=kt-_t),_t=-1}else for(n+U>_&&(n=_-U),kt=n;kt>=0;kt--){let _t=!0;for(let Mt=0;Mt<U;Mt++)if(ft(S,kt+Mt)!==ft(s,Mt)){_t=!1;break}if(_t)return kt}return-1}function Jt(S,s,n,r){n=Number(n)||0;const u=S.length-n;r?(r=Number(r))>u&&(r=u):r=u;const y=s.length;let _;for(r>y/2&&(r=y/2),_=0;_<r;++_){const U=parseInt(s.substr(2*_,2),16);if(Ht(U))return _;S[n+_]=U}return _}function Be(S,s,n,r){return it(g(s,S.length-n),S,n,r)}function xt(S,s,n,r){return it(function w(S){const s=[];for(let n=0;n<S.length;++n)s.push(255&S.charCodeAt(n));return s}(s),S,n,r)}function rt(S,s,n,r){return it(Z(s),S,n,r)}function lt(S,s,n,r){return it(function O(S,s){let n,r,u;const y=[];for(let _=0;_<S.length&&!((s-=2)<0);++_)n=S.charCodeAt(_),r=n>>8,u=n%256,y.push(u),y.push(r);return y}(s,S.length-n),S,n,r)}function mt(S,s,n){return D.fromByteArray(0===s&&n===S.length?S:S.slice(s,n))}function C(S,s,n){n=Math.min(S.length,n);const r=[];let u=s;for(;u<n;){const y=S[u];let _=null,U=y>239?4:y>223?3:y>191?2:1;if(u+U<=n){let ft,kt,_t,Mt;switch(U){case 1:y<128&&(_=y);break;case 2:ft=S[u+1],128==(192&ft)&&(Mt=(31&y)<<6|63&ft,Mt>127&&(_=Mt));break;case 3:ft=S[u+1],kt=S[u+2],128==(192&ft)&&128==(192&kt)&&(Mt=(15&y)<<12|(63&ft)<<6|63&kt,Mt>2047&&(Mt<55296||Mt>57343)&&(_=Mt));break;case 4:ft=S[u+1],kt=S[u+2],_t=S[u+3],128==(192&ft)&&128==(192&kt)&&128==(192&_t)&&(Mt=(15&y)<<18|(63&ft)<<12|(63&kt)<<6|63&_t,Mt>65535&&Mt<1114112&&(_=Mt))}}null===_?(_=65533,U=1):_>65535&&(_-=65536,r.push(_>>>10&1023|55296),_=56320|1023&_),r.push(_),u+=U}return function m(S){const s=S.length;if(s<=l)return String.fromCharCode.apply(String,S);let n="",r=0;for(;r<s;)n+=String.fromCharCode.apply(String,S.slice(r,r+=l));return n}(r)}Bt.kMaxLength=ut,!(E.TYPED_ARRAY_SUPPORT=function x(){try{const S=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(S,s),42===S.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}}),E.poolSize=8192,E.from=function(S,s,n){return I(S,s,n)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array),E.alloc=function(S,s,n){return function qt(S,s,n){return nt(S),S<=0?f(S):void 0!==s?"string"==typeof n?f(S).fill(s,n):f(S).fill(s):f(S)}(S,s,n)},E.allocUnsafe=function(S){return Ft(S)},E.allocUnsafeSlow=function(S){return Ft(S)},E.isBuffer=function(s){return null!=s&&!0===s._isBuffer&&s!==E.prototype},E.compare=function(s,n){if(ot(s,Uint8Array)&&(s=E.from(s,s.offset,s.byteLength)),ot(n,Uint8Array)&&(n=E.from(n,n.offset,n.byteLength)),!E.isBuffer(s)||!E.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===n)return 0;let r=s.length,u=n.length;for(let y=0,_=Math.min(r,u);y<_;++y)if(s[y]!==n[y]){r=s[y],u=n[y];break}return r<u?-1:u<r?1:0},E.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(s,n){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return E.alloc(0);let r;if(void 0===n)for(n=0,r=0;r<s.length;++r)n+=s[r].length;const u=E.allocUnsafe(n);let y=0;for(r=0;r<s.length;++r){let _=s[r];if(ot(_,Uint8Array))y+_.length>u.length?(E.isBuffer(_)||(_=E.from(_)),_.copy(u,y)):Uint8Array.prototype.set.call(u,_,y);else{if(!E.isBuffer(_))throw new TypeError('"list" argument must be an Array of Buffers');_.copy(u,y)}y+=_.length}return u},E.byteLength=bt,E.prototype._isBuffer=!0,E.prototype.swap16=function(){const s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<s;n+=2)yt(this,n,n+1);return this},E.prototype.swap32=function(){const s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<s;n+=4)yt(this,n,n+3),yt(this,n+1,n+2);return this},E.prototype.swap64=function(){const s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<s;n+=8)yt(this,n,n+7),yt(this,n+1,n+6),yt(this,n+2,n+5),yt(this,n+3,n+4);return this},E.prototype.toLocaleString=E.prototype.toString=function(){const s=this.length;return 0===s?"":0===arguments.length?C(this,0,s):Lt.apply(this,arguments)},E.prototype.equals=function(s){if(!E.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===E.compare(this,s)},E.prototype.inspect=function(){let s="";const n=Bt.INSPECT_MAX_BYTES;return s=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(s+=" ... "),"<Buffer "+s+">"},Y&&(E.prototype[Y]=E.prototype.inspect),E.prototype.compare=function(s,n,r,u,y){if(ot(s,Uint8Array)&&(s=E.from(s,s.offset,s.byteLength)),!E.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(void 0===n&&(n=0),void 0===r&&(r=s?s.length:0),void 0===u&&(u=0),void 0===y&&(y=this.length),n<0||r>s.length||u<0||y>this.length)throw new RangeError("out of range index");if(u>=y&&n>=r)return 0;if(u>=y)return-1;if(n>=r)return 1;if(this===s)return 0;let _=(y>>>=0)-(u>>>=0),U=(r>>>=0)-(n>>>=0);const ft=Math.min(_,U),kt=this.slice(u,y),_t=s.slice(n,r);for(let Mt=0;Mt<ft;++Mt)if(kt[Mt]!==_t[Mt]){_=kt[Mt],U=_t[Mt];break}return _<U?-1:U<_?1:0},E.prototype.includes=function(s,n,r){return-1!==this.indexOf(s,n,r)},E.prototype.indexOf=function(s,n,r){return Rt(this,s,n,r,!0)},E.prototype.lastIndexOf=function(s,n,r){return Rt(this,s,n,r,!1)},E.prototype.write=function(s,n,r,u){if(void 0===n)u="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)u=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(r)?(r>>>=0,void 0===u&&(u="utf8")):(u=r,r=void 0)}const y=this.length-n;if((void 0===r||r>y)&&(r=y),s.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let _=!1;for(;;)switch(u){case"hex":return Jt(this,s,n,r);case"utf8":case"utf-8":return Be(this,s,n,r);case"ascii":case"latin1":case"binary":return xt(this,s,n,r);case"base64":return rt(this,s,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,s,n,r);default:if(_)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),_=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const l=4096;function v(S,s,n){let r="";n=Math.min(S.length,n);for(let u=s;u<n;++u)r+=String.fromCharCode(127&S[u]);return r}function M(S,s,n){let r="";n=Math.min(S.length,n);for(let u=s;u<n;++u)r+=String.fromCharCode(S[u]);return r}function F(S,s,n){const r=S.length;(!s||s<0)&&(s=0),(!n||n<0||n>r)&&(n=r);let u="";for(let y=s;y<n;++y)u+=jt[S[y]];return u}function $(S,s,n){const r=S.slice(s,n);let u="";for(let y=0;y<r.length-1;y+=2)u+=String.fromCharCode(r[y]+256*r[y+1]);return u}function W(S,s,n){if(S%1!=0||S<0)throw new RangeError("offset is not uint");if(S+s>n)throw new RangeError("Trying to access beyond buffer length")}function T(S,s,n,r,u,y){if(!E.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>u||s<y)throw new RangeError('"value" argument is out of bounds');if(n+r>S.length)throw new RangeError("Index out of range")}function d(S,s,n,r,u){oe(s,r,u,S,n,7);let y=Number(s&BigInt(4294967295));S[n++]=y,y>>=8,S[n++]=y,y>>=8,S[n++]=y,y>>=8,S[n++]=y;let _=Number(s>>BigInt(32)&BigInt(4294967295));return S[n++]=_,_>>=8,S[n++]=_,_>>=8,S[n++]=_,_>>=8,S[n++]=_,n}function B(S,s,n,r,u){oe(s,r,u,S,n,7);let y=Number(s&BigInt(4294967295));S[n+7]=y,y>>=8,S[n+6]=y,y>>=8,S[n+5]=y,y>>=8,S[n+4]=y;let _=Number(s>>BigInt(32)&BigInt(4294967295));return S[n+3]=_,_>>=8,S[n+2]=_,_>>=8,S[n+1]=_,_>>=8,S[n]=_,n+8}function k(S,s,n,r,u,y){if(n+r>S.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(S,s,n,r,u){return s=+s,n>>>=0,u||k(S,0,n,4),Ut.write(S,s,n,r,23,4),n+4}function N(S,s,n,r,u){return s=+s,n>>>=0,u||k(S,0,n,8),Ut.write(S,s,n,r,52,8),n+8}E.prototype.slice=function(s,n){const r=this.length;(s=~~s)<0?(s+=r)<0&&(s=0):s>r&&(s=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<s&&(n=s);const u=this.subarray(s,n);return Object.setPrototypeOf(u,E.prototype),u},E.prototype.readUintLE=E.prototype.readUIntLE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=this[s],y=1,_=0;for(;++_<n&&(y*=256);)u+=this[s+_]*y;return u},E.prototype.readUintBE=E.prototype.readUIntBE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=this[s+--n],y=1;for(;n>0&&(y*=256);)u+=this[s+--n]*y;return u},E.prototype.readUint8=E.prototype.readUInt8=function(s,n){return s>>>=0,n||W(s,1,this.length),this[s]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(s,n){return s>>>=0,n||W(s,2,this.length),this[s]|this[s+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(s,n){return s>>>=0,n||W(s,2,this.length),this[s]<<8|this[s+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(s,n){return s>>>=0,n||W(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(s,n){return s>>>=0,n||W(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},E.prototype.readBigUInt64LE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];(void 0===n||void 0===r)&&Ae(s,this.length-8);const u=n+256*this[++s]+65536*this[++s]+this[++s]*2**24,y=this[++s]+256*this[++s]+65536*this[++s]+r*2**24;return BigInt(u)+(BigInt(y)<<BigInt(32))}),E.prototype.readBigUInt64BE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];(void 0===n||void 0===r)&&Ae(s,this.length-8);const u=n*2**24+65536*this[++s]+256*this[++s]+this[++s],y=this[++s]*2**24+65536*this[++s]+256*this[++s]+r;return(BigInt(u)<<BigInt(32))+BigInt(y)}),E.prototype.readIntLE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=this[s],y=1,_=0;for(;++_<n&&(y*=256);)u+=this[s+_]*y;return y*=128,u>=y&&(u-=Math.pow(2,8*n)),u},E.prototype.readIntBE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=n,y=1,_=this[s+--u];for(;u>0&&(y*=256);)_+=this[s+--u]*y;return y*=128,_>=y&&(_-=Math.pow(2,8*n)),_},E.prototype.readInt8=function(s,n){return s>>>=0,n||W(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},E.prototype.readInt16LE=function(s,n){s>>>=0,n||W(s,2,this.length);const r=this[s]|this[s+1]<<8;return 32768&r?4294901760|r:r},E.prototype.readInt16BE=function(s,n){s>>>=0,n||W(s,2,this.length);const r=this[s+1]|this[s]<<8;return 32768&r?4294901760|r:r},E.prototype.readInt32LE=function(s,n){return s>>>=0,n||W(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},E.prototype.readInt32BE=function(s,n){return s>>>=0,n||W(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},E.prototype.readBigInt64LE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];return(void 0===n||void 0===r)&&Ae(s,this.length-8),(BigInt(this[s+4]+256*this[s+5]+65536*this[s+6]+(r<<24))<<BigInt(32))+BigInt(n+256*this[++s]+65536*this[++s]+this[++s]*2**24)}),E.prototype.readBigInt64BE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];(void 0===n||void 0===r)&&Ae(s,this.length-8);const u=(n<<24)+65536*this[++s]+256*this[++s]+this[++s];return(BigInt(u)<<BigInt(32))+BigInt(this[++s]*2**24+65536*this[++s]+256*this[++s]+r)}),E.prototype.readFloatLE=function(s,n){return s>>>=0,n||W(s,4,this.length),Ut.read(this,s,!0,23,4)},E.prototype.readFloatBE=function(s,n){return s>>>=0,n||W(s,4,this.length),Ut.read(this,s,!1,23,4)},E.prototype.readDoubleLE=function(s,n){return s>>>=0,n||W(s,8,this.length),Ut.read(this,s,!0,52,8)},E.prototype.readDoubleBE=function(s,n){return s>>>=0,n||W(s,8,this.length),Ut.read(this,s,!1,52,8)},E.prototype.writeUintLE=E.prototype.writeUIntLE=function(s,n,r,u){s=+s,n>>>=0,r>>>=0,u||T(this,s,n,r,Math.pow(2,8*r)-1,0);let y=1,_=0;for(this[n]=255&s;++_<r&&(y*=256);)this[n+_]=s/y&255;return n+r},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(s,n,r,u){s=+s,n>>>=0,r>>>=0,u||T(this,s,n,r,Math.pow(2,8*r)-1,0);let y=r-1,_=1;for(this[n+y]=255&s;--y>=0&&(_*=256);)this[n+y]=s/_&255;return n+r},E.prototype.writeUint8=E.prototype.writeUInt8=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,1,255,0),this[n]=255&s,n+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,2,65535,0),this[n]=255&s,this[n+1]=s>>>8,n+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,2,65535,0),this[n]=s>>>8,this[n+1]=255&s,n+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,4,4294967295,0),this[n+3]=s>>>24,this[n+2]=s>>>16,this[n+1]=s>>>8,this[n]=255&s,n+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,4,4294967295,0),this[n]=s>>>24,this[n+1]=s>>>16,this[n+2]=s>>>8,this[n+3]=255&s,n+4},E.prototype.writeBigUInt64LE=Yt(function(s,n=0){return d(this,s,n,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=Yt(function(s,n=0){return B(this,s,n,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(s,n,r,u){if(s=+s,n>>>=0,!u){const ft=Math.pow(2,8*r-1);T(this,s,n,r,ft-1,-ft)}let y=0,_=1,U=0;for(this[n]=255&s;++y<r&&(_*=256);)s<0&&0===U&&0!==this[n+y-1]&&(U=1),this[n+y]=(s/_>>0)-U&255;return n+r},E.prototype.writeIntBE=function(s,n,r,u){if(s=+s,n>>>=0,!u){const ft=Math.pow(2,8*r-1);T(this,s,n,r,ft-1,-ft)}let y=r-1,_=1,U=0;for(this[n+y]=255&s;--y>=0&&(_*=256);)s<0&&0===U&&0!==this[n+y+1]&&(U=1),this[n+y]=(s/_>>0)-U&255;return n+r},E.prototype.writeInt8=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,1,127,-128),s<0&&(s=255+s+1),this[n]=255&s,n+1},E.prototype.writeInt16LE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,2,32767,-32768),this[n]=255&s,this[n+1]=s>>>8,n+2},E.prototype.writeInt16BE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,2,32767,-32768),this[n]=s>>>8,this[n+1]=255&s,n+2},E.prototype.writeInt32LE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,4,2147483647,-2147483648),this[n]=255&s,this[n+1]=s>>>8,this[n+2]=s>>>16,this[n+3]=s>>>24,n+4},E.prototype.writeInt32BE=function(s,n,r){return s=+s,n>>>=0,r||T(this,s,n,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[n]=s>>>24,this[n+1]=s>>>16,this[n+2]=s>>>8,this[n+3]=255&s,n+4},E.prototype.writeBigInt64LE=Yt(function(s,n=0){return d(this,s,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=Yt(function(s,n=0){return B(this,s,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeFloatLE=function(s,n,r){return A(this,s,n,!0,r)},E.prototype.writeFloatBE=function(s,n,r){return A(this,s,n,!1,r)},E.prototype.writeDoubleLE=function(s,n,r){return N(this,s,n,!0,r)},E.prototype.writeDoubleBE=function(s,n,r){return N(this,s,n,!1,r)},E.prototype.copy=function(s,n,r,u){if(!E.isBuffer(s))throw new TypeError("argument should be a Buffer");if(r||(r=0),!u&&0!==u&&(u=this.length),n>=s.length&&(n=s.length),n||(n=0),u>0&&u<r&&(u=r),u===r||0===s.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),s.length-n<u-r&&(u=s.length-n+r);const y=u-r;return this===s&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,r,u):Uint8Array.prototype.set.call(s,this.subarray(r,u),n),y},E.prototype.fill=function(s,n,r,u){if("string"==typeof s){if("string"==typeof n?(u=n,n=0,r=this.length):"string"==typeof r&&(u=r,r=this.length),void 0!==u&&"string"!=typeof u)throw new TypeError("encoding must be a string");if("string"==typeof u&&!E.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(1===s.length){const _=s.charCodeAt(0);("utf8"===u&&_<128||"latin1"===u)&&(s=_)}}else"number"==typeof s?s&=255:"boolean"==typeof s&&(s=Number(s));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;let y;if(n>>>=0,r=void 0===r?this.length:r>>>0,s||(s=0),"number"==typeof s)for(y=n;y<r;++y)this[y]=s;else{const _=E.isBuffer(s)?s:E.from(s,u),U=_.length;if(0===U)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(y=0;y<r-n;++y)this[y+n]=_[y%U]}return this};const V={};function X(S,s,n){V[S]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,delete this.name}get code(){return S}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}function Kt(S){let s="",n=S.length;const r="-"===S[0]?1:0;for(;n>=r+4;n-=3)s=`_${S.slice(n-3,n)}${s}`;return`${S.slice(0,n)}${s}`}function oe(S,s,n,r,u,y){if(S>n||S<s){const _="bigint"==typeof s?"n":"";let U;throw U=y>3?0===s||s===BigInt(0)?`>= 0${_} and < 2${_} ** ${8*(y+1)}${_}`:`>= -(2${_} ** ${8*(y+1)-1}${_}) and < 2 ** ${8*(y+1)-1}${_}`:`>= ${s}${_} and <= ${n}${_}`,new V.ERR_OUT_OF_RANGE("value",U,S)}!function ae(S,s,n){ne(s,"offset"),(void 0===S[s]||void 0===S[s+n])&&Ae(s,S.length-(n+1))}(r,u,y)}function ne(S,s){if("number"!=typeof S)throw new V.ERR_INVALID_ARG_TYPE(s,"number",S)}function Ae(S,s,n){throw Math.floor(S)!==S?(ne(S,n),new V.ERR_OUT_OF_RANGE(n||"offset","an integer",S)):s<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${s}`,S)}X("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(S,s){return`The "${S}" argument must be of type number. Received type ${typeof s}`},TypeError),X("ERR_OUT_OF_RANGE",function(S,s,n){let r=`The value of "${S}" is out of range.`,u=n;return Number.isInteger(n)&&Math.abs(n)>2**32?u=Kt(String(n)):"bigint"==typeof n&&(u=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(u=Kt(u)),u+="n"),r+=` It must be ${s}. Received ${u}`,r},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function g(S,s){let n;s=s||1/0;const r=S.length;let u=null;const y=[];for(let _=0;_<r;++_){if(n=S.charCodeAt(_),n>55295&&n<57344){if(!u){if(n>56319){(s-=3)>-1&&y.push(239,191,189);continue}if(_+1===r){(s-=3)>-1&&y.push(239,191,189);continue}u=n;continue}if(n<56320){(s-=3)>-1&&y.push(239,191,189),u=n;continue}n=65536+(u-55296<<10|n-56320)}else u&&(s-=3)>-1&&y.push(239,191,189);if(u=null,n<128){if((s-=1)<0)break;y.push(n)}else if(n<2048){if((s-=2)<0)break;y.push(n>>6|192,63&n|128)}else if(n<65536){if((s-=3)<0)break;y.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;y.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return y}function Z(S){return D.toByteArray(function P(S){if((S=(S=S.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;S.length%4!=0;)S+="=";return S}(S))}function it(S,s,n,r){let u;for(u=0;u<r&&!(u+n>=s.length||u>=S.length);++u)s[u+n]=S[u];return u}function ot(S,s){return S instanceof s||null!=S&&null!=S.constructor&&null!=S.constructor.name&&S.constructor.name===s.name}function Ht(S){return S!=S}const jt=function(){const S="0123456789abcdef",s=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let u=0;u<16;++u)s[r+u]=S[n]+S[u]}return s}();function Yt(S){return typeof BigInt>"u"?ue:S}function ue(){throw new Error("BigInt not supported")}},3733:(Pe,Bt,wt)=>{"use strict";const Ut=wt(5343),Y=wt(8461),ut="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.lW=I,Bt.h2=50;const x=2147483647;function E(s){if(s>x)throw new RangeError('The value "'+s+'" is invalid for option "size"');const n=new Uint8Array(s);return Object.setPrototypeOf(n,I.prototype),n}function I(s,n,r){if("number"==typeof s){if("string"==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return Dt(s)}return nt(s,n,r)}function nt(s,n,r){if("string"==typeof s)return function ct(s,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!I.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const r=0|Lt(s,n);let u=E(r);const y=u.write(s,n);return y!==r&&(u=u.slice(0,y)),u}(s,n);if(ArrayBuffer.isView(s))return function zt(s){if(Ht(s,Uint8Array)){const n=new Uint8Array(s);return at(n.buffer,n.byteOffset,n.byteLength)}return Q(s)}(s);if(null==s)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(Ht(s,ArrayBuffer)||s&&Ht(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ht(s,SharedArrayBuffer)||s&&Ht(s.buffer,SharedArrayBuffer)))return at(s,n,r);if("number"==typeof s)throw new TypeError('The "value" argument must not be of type number. Received type number');const u=s.valueOf&&s.valueOf();if(null!=u&&u!==s)return I.from(u,n,r);const y=function et(s){if(I.isBuffer(s)){const n=0|At(s.length),r=E(n);return 0===r.length||s.copy(r,0,0,n),r}return void 0!==s.length?"number"!=typeof s.length||jt(s.length)?E(0):Q(s):"Buffer"===s.type&&Array.isArray(s.data)?Q(s.data):void 0}(s);if(y)return y;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof s[Symbol.toPrimitive])return I.from(s[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}function qt(s){if("number"!=typeof s)throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function Dt(s){return qt(s),E(s<0?0:0|At(s))}function Q(s){const n=s.length<0?0:0|At(s.length),r=E(n);for(let u=0;u<n;u+=1)r[u]=255&s[u];return r}function at(s,n,r){if(n<0||s.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');let u;return u=void 0===n&&void 0===r?new Uint8Array(s):void 0===r?new Uint8Array(s,n):new Uint8Array(s,n,r),Object.setPrototypeOf(u,I.prototype),u}function At(s){if(s>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|s}function Lt(s,n){if(I.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Ht(s,ArrayBuffer))return s.byteLength;if("string"!=typeof s)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);const r=s.length,u=arguments.length>2&&!0===arguments[2];if(!u&&0===r)return 0;let y=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return w(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return it(s).length;default:if(y)return u?-1:w(s).length;n=(""+n).toLowerCase(),y=!0}}function yt(s,n,r){let u=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(n>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return $(this,n,r);case"utf8":case"utf-8":return l(this,n,r);case"ascii":return M(this,n,r);case"latin1":case"binary":return F(this,n,r);case"base64":return C(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,n,r);default:if(u)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),u=!0}}function Rt(s,n,r){const u=s[n];s[n]=s[r],s[r]=u}function re(s,n,r,u,y){if(0===s.length)return-1;if("string"==typeof r?(u=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),jt(r=+r)&&(r=y?0:s.length-1),r<0&&(r=s.length+r),r>=s.length){if(y)return-1;r=s.length-1}else if(r<0){if(!y)return-1;r=0}if("string"==typeof n&&(n=I.from(n,u)),I.isBuffer(n))return 0===n.length?-1:Jt(s,n,r,u,y);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?y?Uint8Array.prototype.indexOf.call(s,n,r):Uint8Array.prototype.lastIndexOf.call(s,n,r):Jt(s,[n],r,u,y);throw new TypeError("val must be string, number or Buffer")}function Jt(s,n,r,u,y){let _t,_=1,U=s.length,ft=n.length;if(void 0!==u&&("ucs2"===(u=String(u).toLowerCase())||"ucs-2"===u||"utf16le"===u||"utf-16le"===u)){if(s.length<2||n.length<2)return-1;_=2,U/=2,ft/=2,r/=2}function kt(Mt,Pt){return 1===_?Mt[Pt]:Mt.readUInt16BE(Pt*_)}if(y){let Mt=-1;for(_t=r;_t<U;_t++)if(kt(s,_t)===kt(n,-1===Mt?0:_t-Mt)){if(-1===Mt&&(Mt=_t),_t-Mt+1===ft)return Mt*_}else-1!==Mt&&(_t-=_t-Mt),Mt=-1}else for(r+ft>U&&(r=U-ft),_t=r;_t>=0;_t--){let Mt=!0;for(let Pt=0;Pt<ft;Pt++)if(kt(s,_t+Pt)!==kt(n,Pt)){Mt=!1;break}if(Mt)return _t}return-1}function Be(s,n,r,u){r=Number(r)||0;const y=s.length-r;u?(u=Number(u))>y&&(u=y):u=y;const _=n.length;let U;for(u>_/2&&(u=_/2),U=0;U<u;++U){const ft=parseInt(n.substr(2*U,2),16);if(jt(ft))return U;s[r+U]=ft}return U}function xt(s,n,r,u){return ot(w(n,s.length-r),s,r,u)}function rt(s,n,r,u){return ot(function O(s){const n=[];for(let r=0;r<s.length;++r)n.push(255&s.charCodeAt(r));return n}(n),s,r,u)}function lt(s,n,r,u){return ot(it(n),s,r,u)}function mt(s,n,r,u){return ot(function Z(s,n){let r,u,y;const _=[];for(let U=0;U<s.length&&!((n-=2)<0);++U)r=s.charCodeAt(U),u=r>>8,y=r%256,_.push(y),_.push(u);return _}(n,s.length-r),s,r,u)}function C(s,n,r){return Ut.fromByteArray(0===n&&r===s.length?s:s.slice(n,r))}function l(s,n,r){r=Math.min(s.length,r);const u=[];let y=n;for(;y<r;){const _=s[y];let U=null,ft=_>239?4:_>223?3:_>191?2:1;if(y+ft<=r){let kt,_t,Mt,Pt;switch(ft){case 1:_<128&&(U=_);break;case 2:kt=s[y+1],128==(192&kt)&&(Pt=(31&_)<<6|63&kt,Pt>127&&(U=Pt));break;case 3:kt=s[y+1],_t=s[y+2],128==(192&kt)&&128==(192&_t)&&(Pt=(15&_)<<12|(63&kt)<<6|63&_t,Pt>2047&&(Pt<55296||Pt>57343)&&(U=Pt));break;case 4:kt=s[y+1],_t=s[y+2],Mt=s[y+3],128==(192&kt)&&128==(192&_t)&&128==(192&Mt)&&(Pt=(15&_)<<18|(63&kt)<<12|(63&_t)<<6|63&Mt,Pt>65535&&Pt<1114112&&(U=Pt))}}null===U?(U=65533,ft=1):U>65535&&(U-=65536,u.push(U>>>10&1023|55296),U=56320|1023&U),u.push(U),y+=ft}return function v(s){const n=s.length;if(n<=m)return String.fromCharCode.apply(String,s);let r="",u=0;for(;u<n;)r+=String.fromCharCode.apply(String,s.slice(u,u+=m));return r}(u)}!(I.TYPED_ARRAY_SUPPORT=function f(){try{const s=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(s,n),42===s.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(I.prototype,"parent",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.buffer}}),Object.defineProperty(I.prototype,"offset",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.byteOffset}}),I.poolSize=8192,I.from=function(s,n,r){return nt(s,n,r)},Object.setPrototypeOf(I.prototype,Uint8Array.prototype),Object.setPrototypeOf(I,Uint8Array),I.alloc=function(s,n,r){return function Ft(s,n,r){return qt(s),s<=0?E(s):void 0!==n?"string"==typeof r?E(s).fill(n,r):E(s).fill(n):E(s)}(s,n,r)},I.allocUnsafe=function(s){return Dt(s)},I.allocUnsafeSlow=function(s){return Dt(s)},I.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==I.prototype},I.compare=function(n,r){if(Ht(n,Uint8Array)&&(n=I.from(n,n.offset,n.byteLength)),Ht(r,Uint8Array)&&(r=I.from(r,r.offset,r.byteLength)),!I.isBuffer(n)||!I.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===r)return 0;let u=n.length,y=r.length;for(let _=0,U=Math.min(u,y);_<U;++_)if(n[_]!==r[_]){u=n[_],y=r[_];break}return u<y?-1:y<u?1:0},I.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.concat=function(n,r){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return I.alloc(0);let u;if(void 0===r)for(r=0,u=0;u<n.length;++u)r+=n[u].length;const y=I.allocUnsafe(r);let _=0;for(u=0;u<n.length;++u){let U=n[u];if(Ht(U,Uint8Array))_+U.length>y.length?(I.isBuffer(U)||(U=I.from(U)),U.copy(y,_)):Uint8Array.prototype.set.call(y,U,_);else{if(!I.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(y,_)}_+=U.length}return y},I.byteLength=Lt,I.prototype._isBuffer=!0,I.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<n;r+=2)Rt(this,r,r+1);return this},I.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<n;r+=4)Rt(this,r,r+3),Rt(this,r+1,r+2);return this},I.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<n;r+=8)Rt(this,r,r+7),Rt(this,r+1,r+6),Rt(this,r+2,r+5),Rt(this,r+3,r+4);return this},I.prototype.toLocaleString=I.prototype.toString=function(){const n=this.length;return 0===n?"":0===arguments.length?l(this,0,n):yt.apply(this,arguments)},I.prototype.equals=function(n){if(!I.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===I.compare(this,n)},I.prototype.inspect=function(){let n="";const r=Bt.h2;return n=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(n+=" ... "),"<Buffer "+n+">"},ut&&(I.prototype[ut]=I.prototype.inspect),I.prototype.compare=function(n,r,u,y,_){if(Ht(n,Uint8Array)&&(n=I.from(n,n.offset,n.byteLength)),!I.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(void 0===r&&(r=0),void 0===u&&(u=n?n.length:0),void 0===y&&(y=0),void 0===_&&(_=this.length),r<0||u>n.length||y<0||_>this.length)throw new RangeError("out of range index");if(y>=_&&r>=u)return 0;if(y>=_)return-1;if(r>=u)return 1;if(this===n)return 0;let U=(_>>>=0)-(y>>>=0),ft=(u>>>=0)-(r>>>=0);const kt=Math.min(U,ft),_t=this.slice(y,_),Mt=n.slice(r,u);for(let Pt=0;Pt<kt;++Pt)if(_t[Pt]!==Mt[Pt]){U=_t[Pt],ft=Mt[Pt];break}return U<ft?-1:ft<U?1:0},I.prototype.includes=function(n,r,u){return-1!==this.indexOf(n,r,u)},I.prototype.indexOf=function(n,r,u){return re(this,n,r,u,!0)},I.prototype.lastIndexOf=function(n,r,u){return re(this,n,r,u,!1)},I.prototype.write=function(n,r,u,y){if(void 0===r)y="utf8",u=this.length,r=0;else if(void 0===u&&"string"==typeof r)y=r,u=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(u)?(u>>>=0,void 0===y&&(y="utf8")):(y=u,u=void 0)}const _=this.length-r;if((void 0===u||u>_)&&(u=_),n.length>0&&(u<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let U=!1;for(;;)switch(y){case"hex":return Be(this,n,r,u);case"utf8":case"utf-8":return xt(this,n,r,u);case"ascii":case"latin1":case"binary":return rt(this,n,r,u);case"base64":return lt(this,n,r,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,n,r,u);default:if(U)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),U=!0}},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const m=4096;function M(s,n,r){let u="";r=Math.min(s.length,r);for(let y=n;y<r;++y)u+=String.fromCharCode(127&s[y]);return u}function F(s,n,r){let u="";r=Math.min(s.length,r);for(let y=n;y<r;++y)u+=String.fromCharCode(s[y]);return u}function $(s,n,r){const u=s.length;(!n||n<0)&&(n=0),(!r||r<0||r>u)&&(r=u);let y="";for(let _=n;_<r;++_)y+=Yt[s[_]];return y}function W(s,n,r){const u=s.slice(n,r);let y="";for(let _=0;_<u.length-1;_+=2)y+=String.fromCharCode(u[_]+256*u[_+1]);return y}function T(s,n,r){if(s%1!=0||s<0)throw new RangeError("offset is not uint");if(s+n>r)throw new RangeError("Trying to access beyond buffer length")}function d(s,n,r,u,y,_){if(!I.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>y||n<_)throw new RangeError('"value" argument is out of bounds');if(r+u>s.length)throw new RangeError("Index out of range")}function B(s,n,r,u,y){ne(n,u,y,s,r,7);let _=Number(n&BigInt(4294967295));s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_;let U=Number(n>>BigInt(32)&BigInt(4294967295));return s[r++]=U,U>>=8,s[r++]=U,U>>=8,s[r++]=U,U>>=8,s[r++]=U,r}function k(s,n,r,u,y){ne(n,u,y,s,r,7);let _=Number(n&BigInt(4294967295));s[r+7]=_,_>>=8,s[r+6]=_,_>>=8,s[r+5]=_,_>>=8,s[r+4]=_;let U=Number(n>>BigInt(32)&BigInt(4294967295));return s[r+3]=U,U>>=8,s[r+2]=U,U>>=8,s[r+1]=U,U>>=8,s[r]=U,r+8}function A(s,n,r,u,y,_){if(r+u>s.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(s,n,r,u,y){return n=+n,r>>>=0,y||A(s,0,r,4),Y.write(s,n,r,u,23,4),r+4}function V(s,n,r,u,y){return n=+n,r>>>=0,y||A(s,0,r,8),Y.write(s,n,r,u,52,8),r+8}I.prototype.slice=function(n,r){const u=this.length;(n=~~n)<0?(n+=u)<0&&(n=0):n>u&&(n=u),(r=void 0===r?u:~~r)<0?(r+=u)<0&&(r=0):r>u&&(r=u),r<n&&(r=n);const y=this.subarray(n,r);return Object.setPrototypeOf(y,I.prototype),y},I.prototype.readUintLE=I.prototype.readUIntLE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=this[n],_=1,U=0;for(;++U<r&&(_*=256);)y+=this[n+U]*_;return y},I.prototype.readUintBE=I.prototype.readUIntBE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=this[n+--r],_=1;for(;r>0&&(_*=256);)y+=this[n+--r]*_;return y},I.prototype.readUint8=I.prototype.readUInt8=function(n,r){return n>>>=0,r||T(n,1,this.length),this[n]},I.prototype.readUint16LE=I.prototype.readUInt16LE=function(n,r){return n>>>=0,r||T(n,2,this.length),this[n]|this[n+1]<<8},I.prototype.readUint16BE=I.prototype.readUInt16BE=function(n,r){return n>>>=0,r||T(n,2,this.length),this[n]<<8|this[n+1]},I.prototype.readUint32LE=I.prototype.readUInt32LE=function(n,r){return n>>>=0,r||T(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},I.prototype.readUint32BE=I.prototype.readUInt32BE=function(n,r){return n>>>=0,r||T(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},I.prototype.readBigUInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const y=r+256*this[++n]+65536*this[++n]+this[++n]*2**24,_=this[++n]+256*this[++n]+65536*this[++n]+u*2**24;return BigInt(y)+(BigInt(_)<<BigInt(32))}),I.prototype.readBigUInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const y=r*2**24+65536*this[++n]+256*this[++n]+this[++n],_=this[++n]*2**24+65536*this[++n]+256*this[++n]+u;return(BigInt(y)<<BigInt(32))+BigInt(_)}),I.prototype.readIntLE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=this[n],_=1,U=0;for(;++U<r&&(_*=256);)y+=this[n+U]*_;return _*=128,y>=_&&(y-=Math.pow(2,8*r)),y},I.prototype.readIntBE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=r,_=1,U=this[n+--y];for(;y>0&&(_*=256);)U+=this[n+--y]*_;return _*=128,U>=_&&(U-=Math.pow(2,8*r)),U},I.prototype.readInt8=function(n,r){return n>>>=0,r||T(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},I.prototype.readInt16LE=function(n,r){n>>>=0,r||T(n,2,this.length);const u=this[n]|this[n+1]<<8;return 32768&u?4294901760|u:u},I.prototype.readInt16BE=function(n,r){n>>>=0,r||T(n,2,this.length);const u=this[n+1]|this[n]<<8;return 32768&u?4294901760|u:u},I.prototype.readInt32LE=function(n,r){return n>>>=0,r||T(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},I.prototype.readInt32BE=function(n,r){return n>>>=0,r||T(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},I.prototype.readBigInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];return(void 0===r||void 0===u)&&fe(n,this.length-8),(BigInt(this[n+4]+256*this[n+5]+65536*this[n+6]+(u<<24))<<BigInt(32))+BigInt(r+256*this[++n]+65536*this[++n]+this[++n]*2**24)}),I.prototype.readBigInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const y=(r<<24)+65536*this[++n]+256*this[++n]+this[++n];return(BigInt(y)<<BigInt(32))+BigInt(this[++n]*2**24+65536*this[++n]+256*this[++n]+u)}),I.prototype.readFloatLE=function(n,r){return n>>>=0,r||T(n,4,this.length),Y.read(this,n,!0,23,4)},I.prototype.readFloatBE=function(n,r){return n>>>=0,r||T(n,4,this.length),Y.read(this,n,!1,23,4)},I.prototype.readDoubleLE=function(n,r){return n>>>=0,r||T(n,8,this.length),Y.read(this,n,!0,52,8)},I.prototype.readDoubleBE=function(n,r){return n>>>=0,r||T(n,8,this.length),Y.read(this,n,!1,52,8)},I.prototype.writeUintLE=I.prototype.writeUIntLE=function(n,r,u,y){n=+n,r>>>=0,u>>>=0,y||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=1,U=0;for(this[r]=255&n;++U<u&&(_*=256);)this[r+U]=n/_&255;return r+u},I.prototype.writeUintBE=I.prototype.writeUIntBE=function(n,r,u,y){n=+n,r>>>=0,u>>>=0,y||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=u-1,U=1;for(this[r+_]=255&n;--_>=0&&(U*=256);)this[r+_]=n/U&255;return r+u},I.prototype.writeUint8=I.prototype.writeUInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,255,0),this[r]=255&n,r+1},I.prototype.writeUint16LE=I.prototype.writeUInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=255&n,this[r+1]=n>>>8,r+2},I.prototype.writeUint16BE=I.prototype.writeUInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=n>>>8,this[r+1]=255&n,r+2},I.prototype.writeUint32LE=I.prototype.writeUInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r+3]=n>>>24,this[r+2]=n>>>16,this[r+1]=n>>>8,this[r]=255&n,r+4},I.prototype.writeUint32BE=I.prototype.writeUInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},I.prototype.writeBigUInt64LE=ue(function(n,r=0){return B(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeBigUInt64BE=ue(function(n,r=0){return k(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeIntLE=function(n,r,u,y){if(n=+n,r>>>=0,!y){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=0,U=1,ft=0;for(this[r]=255&n;++_<u&&(U*=256);)n<0&&0===ft&&0!==this[r+_-1]&&(ft=1),this[r+_]=(n/U>>0)-ft&255;return r+u},I.prototype.writeIntBE=function(n,r,u,y){if(n=+n,r>>>=0,!y){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=u-1,U=1,ft=0;for(this[r+_]=255&n;--_>=0&&(U*=256);)n<0&&0===ft&&0!==this[r+_+1]&&(ft=1),this[r+_]=(n/U>>0)-ft&255;return r+u},I.prototype.writeInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,127,-128),n<0&&(n=255+n+1),this[r]=255&n,r+1},I.prototype.writeInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=255&n,this[r+1]=n>>>8,r+2},I.prototype.writeInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=n>>>8,this[r+1]=255&n,r+2},I.prototype.writeInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),this[r]=255&n,this[r+1]=n>>>8,this[r+2]=n>>>16,this[r+3]=n>>>24,r+4},I.prototype.writeInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},I.prototype.writeBigInt64LE=ue(function(n,r=0){return B(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),I.prototype.writeBigInt64BE=ue(function(n,r=0){return k(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),I.prototype.writeFloatLE=function(n,r,u){return N(this,n,r,!0,u)},I.prototype.writeFloatBE=function(n,r,u){return N(this,n,r,!1,u)},I.prototype.writeDoubleLE=function(n,r,u){return V(this,n,r,!0,u)},I.prototype.writeDoubleBE=function(n,r,u){return V(this,n,r,!1,u)},I.prototype.copy=function(n,r,u,y){if(!I.isBuffer(n))throw new TypeError("argument should be a Buffer");if(u||(u=0),!y&&0!==y&&(y=this.length),r>=n.length&&(r=n.length),r||(r=0),y>0&&y<u&&(y=u),y===u||0===n.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),n.length-r<y-u&&(y=n.length-r+u);const _=y-u;return this===n&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,u,y):Uint8Array.prototype.set.call(n,this.subarray(u,y),r),_},I.prototype.fill=function(n,r,u,y){if("string"==typeof n){if("string"==typeof r?(y=r,r=0,u=this.length):"string"==typeof u&&(y=u,u=this.length),void 0!==y&&"string"!=typeof y)throw new TypeError("encoding must be a string");if("string"==typeof y&&!I.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(1===n.length){const U=n.charCodeAt(0);("utf8"===y&&U<128||"latin1"===y)&&(n=U)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(r<0||this.length<r||this.length<u)throw new RangeError("Out of range index");if(u<=r)return this;let _;if(r>>>=0,u=void 0===u?this.length:u>>>0,n||(n=0),"number"==typeof n)for(_=r;_<u;++_)this[_]=n;else{const U=I.isBuffer(n)?n:I.from(n,y),ft=U.length;if(0===ft)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(_=0;_<u-r;++_)this[_+r]=U[_%ft]}return this};const X={};function Kt(s,n,r){X[s]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,delete this.name}get code(){return s}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}function ae(s){let n="",r=s.length;const u="-"===s[0]?1:0;for(;r>=u+4;r-=3)n=`_${s.slice(r-3,r)}${n}`;return`${s.slice(0,r)}${n}`}function ne(s,n,r,u,y,_){if(s>r||s<n){const U="bigint"==typeof n?"n":"";let ft;throw ft=_>3?0===n||n===BigInt(0)?`>= 0${U} and < 2${U} ** ${8*(_+1)}${U}`:`>= -(2${U} ** ${8*(_+1)-1}${U}) and < 2 ** ${8*(_+1)-1}${U}`:`>= ${n}${U} and <= ${r}${U}`,new X.ERR_OUT_OF_RANGE("value",ft,s)}!function oe(s,n,r){Ae(n,"offset"),(void 0===s[n]||void 0===s[n+r])&&fe(n,s.length-(r+1))}(u,y,_)}function Ae(s,n){if("number"!=typeof s)throw new X.ERR_INVALID_ARG_TYPE(n,"number",s)}function fe(s,n,r){throw Math.floor(s)!==s?(Ae(s,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",s)):n<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${n}`,s)}Kt("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Kt("ERR_INVALID_ARG_TYPE",function(s,n){return`The "${s}" argument must be of type number. Received type ${typeof n}`},TypeError),Kt("ERR_OUT_OF_RANGE",function(s,n,r){let u=`The value of "${s}" is out of range.`,y=r;return Number.isInteger(r)&&Math.abs(r)>2**32?y=ae(String(r)):"bigint"==typeof r&&(y=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(y=ae(y)),y+="n"),u+=` It must be ${n}. Received ${y}`,u},RangeError);const P=/[^+/0-9A-Za-z-_]/g;function w(s,n){let r;n=n||1/0;const u=s.length;let y=null;const _=[];for(let U=0;U<u;++U){if(r=s.charCodeAt(U),r>55295&&r<57344){if(!y){if(r>56319){(n-=3)>-1&&_.push(239,191,189);continue}if(U+1===u){(n-=3)>-1&&_.push(239,191,189);continue}y=r;continue}if(r<56320){(n-=3)>-1&&_.push(239,191,189),y=r;continue}r=65536+(y-55296<<10|r-56320)}else y&&(n-=3)>-1&&_.push(239,191,189);if(y=null,r<128){if((n-=1)<0)break;_.push(r)}else if(r<2048){if((n-=2)<0)break;_.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;_.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;_.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return _}function it(s){return Ut.toByteArray(function g(s){if((s=(s=s.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(s))}function ot(s,n,r,u){let y;for(y=0;y<u&&!(y+r>=n.length||y>=s.length);++y)n[y+r]=s[y];return y}function Ht(s,n){return s instanceof n||null!=s&&null!=s.constructor&&null!=s.constructor.name&&s.constructor.name===n.name}function jt(s){return s!=s}const Yt=function(){const s="0123456789abcdef",n=new Array(256);for(let r=0;r<16;++r){const u=16*r;for(let y=0;y<16;++y)n[u+y]=s[r]+s[y]}return n}();function ue(s){return typeof BigInt>"u"?S:s}function S(){throw new Error("BigInt not supported")}},1082:(Pe,Bt,wt)=>{"use strict";var D=wt(3502).Buffer;Pe.exports=function Ut(Y){if(Y.length>=255)throw new TypeError("Alphabet too long");for(var ut=new Uint8Array(256),x=0;x<ut.length;x++)ut[x]=255;for(var f=0;f<Y.length;f++){var E=Y.charAt(f),I=E.charCodeAt(0);if(255!==ut[I])throw new TypeError(E+" is ambiguous");ut[I]=f}var nt=Y.length,qt=Y.charAt(0),Ft=Math.log(nt)/Math.log(256),Dt=Math.log(256)/Math.log(nt);function Q(at){if("string"!=typeof at)throw new TypeError("Expected String");if(0===at.length)return D.alloc(0);for(var et=0,At=0,bt=0;at[et]===qt;)At++,et++;for(var Lt=(at.length-et)*Ft+1>>>0,yt=new Uint8Array(Lt);et<at.length;){var Rt=ut[at.charCodeAt(et)];if(255===Rt)return;for(var re=0,Jt=Lt-1;(0!==Rt||re<bt)&&-1!==Jt;Jt--,re++)yt[Jt]=(Rt+=nt*yt[Jt]>>>0)%256>>>0,Rt=Rt/256>>>0;if(0!==Rt)throw new Error("Non-zero carry");bt=re,et++}for(var Be=Lt-bt;Be!==Lt&&0===yt[Be];)Be++;var xt=D.allocUnsafe(At+(Lt-Be));xt.fill(0,0,At);for(var rt=At;Be!==Lt;)xt[rt++]=yt[Be++];return xt}return{encode:function ct(at){if((Array.isArray(at)||at instanceof Uint8Array)&&(at=D.from(at)),!D.isBuffer(at))throw new TypeError("Expected Buffer");if(0===at.length)return"";for(var et=0,At=0,bt=0,Lt=at.length;bt!==Lt&&0===at[bt];)bt++,et++;for(var yt=(Lt-bt)*Dt+1>>>0,Rt=new Uint8Array(yt);bt!==Lt;){for(var re=at[bt],Jt=0,Be=yt-1;(0!==re||Jt<At)&&-1!==Be;Be--,Jt++)Rt[Be]=(re+=256*Rt[Be]>>>0)%nt>>>0,re=re/nt>>>0;if(0!==re)throw new Error("Non-zero carry");At=Jt,bt++}for(var xt=yt-At;xt!==yt&&0===Rt[xt];)xt++;for(var rt=qt.repeat(et);xt<yt;++xt)rt+=Y.charAt(Rt[xt]);return rt},decodeUnsafe:Q,decode:function zt(at){var et=Q(at);if(et)return et;throw new Error("Non-base"+nt+" character")}}}},5343:(Pe,Bt)=>{"use strict";Bt.byteLength=function E(ct){var Q=f(ct),at=Q[1];return 3*(Q[0]+at)/4-at},Bt.toByteArray=function nt(ct){var Q,yt,zt=f(ct),at=zt[0],et=zt[1],At=new Ut(function I(ct,Q,zt){return 3*(Q+zt)/4-zt}(0,at,et)),bt=0,Lt=et>0?at-4:at;for(yt=0;yt<Lt;yt+=4)Q=D[ct.charCodeAt(yt)]<<18|D[ct.charCodeAt(yt+1)]<<12|D[ct.charCodeAt(yt+2)]<<6|D[ct.charCodeAt(yt+3)],At[bt++]=Q>>16&255,At[bt++]=Q>>8&255,At[bt++]=255&Q;return 2===et&&(Q=D[ct.charCodeAt(yt)]<<2|D[ct.charCodeAt(yt+1)]>>4,At[bt++]=255&Q),1===et&&(Q=D[ct.charCodeAt(yt)]<<10|D[ct.charCodeAt(yt+1)]<<4|D[ct.charCodeAt(yt+2)]>>2,At[bt++]=Q>>8&255,At[bt++]=255&Q),At},Bt.fromByteArray=function Dt(ct){for(var Q,zt=ct.length,at=zt%3,et=[],bt=0,Lt=zt-at;bt<Lt;bt+=16383)et.push(Ft(ct,bt,bt+16383>Lt?Lt:bt+16383));return 1===at?et.push(wt[(Q=ct[zt-1])>>2]+wt[Q<<4&63]+"=="):2===at&&et.push(wt[(Q=(ct[zt-2]<<8)+ct[zt-1])>>10]+wt[Q>>4&63]+wt[Q<<2&63]+"="),et.join("")};for(var wt=[],D=[],Ut=typeof Uint8Array<"u"?Uint8Array:Array,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ut=0,x=Y.length;ut<x;++ut)wt[ut]=Y[ut],D[Y.charCodeAt(ut)]=ut;function f(ct){var Q=ct.length;if(Q%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var zt=ct.indexOf("=");return-1===zt&&(zt=Q),[zt,zt===Q?0:4-zt%4]}function qt(ct){return wt[ct>>18&63]+wt[ct>>12&63]+wt[ct>>6&63]+wt[63&ct]}function Ft(ct,Q,zt){for(var et=[],At=Q;At<zt;At+=3)et.push(qt((ct[At]<<16&16711680)+(ct[At+1]<<8&65280)+(255&ct[At+2])));return et.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},3841:(Pe,Bt)=>{"use strict";Bt.oU=function Ut(f){{const E=Buffer.from(f);E.reverse();const I=E.toString("hex");return 0===I.length?BigInt(0):BigInt(`0x${I}`)}},Bt.k$=function ut(f,E){{const I=f.toString(16),nt=Buffer.from(I.padStart(2*E,"0").slice(0,2*E),"hex");return nt.reverse(),nt}}},8538:function(Pe,Bt,wt){!function(D,Ut){"use strict";function Y(C,l){if(!C)throw new Error(l||"Assertion failed")}function ut(C,l){C.super_=l;var m=function(){};m.prototype=l.prototype,C.prototype=new m,C.prototype.constructor=C}function x(C,l,m){if(x.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===l||"be"===l)&&(m=l,l=10),this._init(C||0,l||10,m||"be"))}var f;"object"==typeof D?D.exports=x:Ut.BN=x,x.BN=x,x.wordSize=26;try{f=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:wt(6601).Buffer}catch{}function E(C,l){var m=C.charCodeAt(l);return m>=48&&m<=57?m-48:m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:void Y(!1,"Invalid character in "+C)}function I(C,l,m){var v=E(C,m);return m-1>=l&&(v|=E(C,m-1)<<4),v}function nt(C,l,m,v){for(var M=0,F=0,$=Math.min(C.length,m),W=l;W<$;W++){var T=C.charCodeAt(W)-48;M*=v,F=T>=49?T-49+10:T>=17?T-17+10:T,Y(T>=0&&F<v,"Invalid character"),M+=F}return M}function qt(C,l){C.words=l.words,C.length=l.length,C.negative=l.negative,C.red=l.red}if(x.isBN=function(l){return l instanceof x||null!==l&&"object"==typeof l&&l.constructor.wordSize===x.wordSize&&Array.isArray(l.words)},x.max=function(l,m){return l.cmp(m)>0?l:m},x.min=function(l,m){return l.cmp(m)<0?l:m},x.prototype._init=function(l,m,v){if("number"==typeof l)return this._initNumber(l,m,v);if("object"==typeof l)return this._initArray(l,m,v);"hex"===m&&(m=16),Y(m===(0|m)&&m>=2&&m<=36);var M=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(M++,this.negative=1),M<l.length&&(16===m?this._parseHex(l,M,v):(this._parseBase(l,m,M),"le"===v&&this._initArray(this.toArray(),m,v)))},x.prototype._initNumber=function(l,m,v){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(Y(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),m,v)},x.prototype._initArray=function(l,m,v){if(Y("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var F,$,W=0;if("be"===v)for(M=l.length-1,F=0;M>=0;M-=3)this.words[F]|=($=l[M]|l[M-1]<<8|l[M-2]<<16)<<W&67108863,this.words[F+1]=$>>>26-W&67108863,(W+=24)>=26&&(W-=26,F++);else if("le"===v)for(M=0,F=0;M<l.length;M+=3)this.words[F]|=($=l[M]|l[M+1]<<8|l[M+2]<<16)<<W&67108863,this.words[F+1]=$>>>26-W&67108863,(W+=24)>=26&&(W-=26,F++);return this._strip()},x.prototype._parseHex=function(l,m,v){this.length=Math.ceil((l.length-m)/6),this.words=new Array(this.length);for(var M=0;M<this.length;M++)this.words[M]=0;var W,F=0,$=0;if("be"===v)for(M=l.length-1;M>=m;M-=2)W=I(l,m,M)<<F,this.words[$]|=67108863&W,F>=18?(F-=18,this.words[$+=1]|=W>>>26):F+=8;else for(M=(l.length-m)%2==0?m+1:m;M<l.length;M+=2)W=I(l,m,M)<<F,this.words[$]|=67108863&W,F>=18?(F-=18,this.words[$+=1]|=W>>>26):F+=8;this._strip()},x.prototype._parseBase=function(l,m,v){this.words=[0],this.length=1;for(var M=0,F=1;F<=67108863;F*=m)M++;M--,F=F/m|0;for(var $=l.length-v,W=$%M,T=Math.min($,$-W)+v,d=0,B=v;B<T;B+=M)d=nt(l,B,B+M,m),this.imuln(F),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==W){var k=1;for(d=nt(l,B,l.length,m),B=0;B<W;B++)k*=m;this.imuln(k),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},x.prototype.copy=function(l){l.words=new Array(this.length);for(var m=0;m<this.length;m++)l.words[m]=this.words[m];l.length=this.length,l.negative=this.negative,l.red=this.red},x.prototype._move=function(l){qt(l,this)},x.prototype.clone=function(){var l=new x(null);return this.copy(l),l},x.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},x.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{x.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ft}catch{x.prototype.inspect=Ft}else x.prototype.inspect=Ft;function Ft(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Dt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ct=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function et(C,l,m){m.negative=l.negative^C.negative;var v=C.length+l.length|0;m.length=v,v=v-1|0;var M=0|C.words[0],F=0|l.words[0],$=M*F,T=$/67108864|0;m.words[0]=67108863&$;for(var d=1;d<v;d++){for(var B=T>>>26,k=67108863&T,A=Math.min(d,l.length-1),N=Math.max(0,d-C.length+1);N<=A;N++)B+=($=(M=0|C.words[d-N|0])*(F=0|l.words[N])+k)/67108864|0,k=67108863&$;m.words[d]=0|k,T=0|B}return 0!==T?m.words[d]=0|T:m.length--,m._strip()}x.prototype.toString=function(l,m){var v;if(m=0|m||1,16===(l=l||10)||"hex"===l){v="";for(var M=0,F=0,$=0;$<this.length;$++){var W=this.words[$],T=(16777215&(W<<M|F)).toString(16);F=W>>>24-M&16777215,(M+=2)>=26&&(M-=26,$--),v=0!==F||$!==this.length-1?Dt[6-T.length]+T+v:T+v}for(0!==F&&(v=F.toString(16)+v);v.length%m!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(l===(0|l)&&l>=2&&l<=36){var d=ct[l],B=Q[l];v="";var k=this.clone();for(k.negative=0;!k.isZero();){var A=k.modrn(B).toString(l);v=(k=k.idivn(B)).isZero()?A+v:Dt[d-A.length]+A+v}for(this.isZero()&&(v="0"+v);v.length%m!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}Y(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&Y(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},x.prototype.toJSON=function(){return this.toString(16,2)},f&&(x.prototype.toBuffer=function(l,m){return this.toArrayLike(f,l,m)}),x.prototype.toArray=function(l,m){return this.toArrayLike(Array,l,m)},x.prototype.toArrayLike=function(l,m,v){this._strip();var M=this.byteLength(),F=v||Math.max(1,M);Y(M<=F,"byte array longer than desired length"),Y(F>0,"Requested array length <= 0");var $=function(l,m){return l.allocUnsafe?l.allocUnsafe(m):new l(m)}(l,F);return this["_toArrayLike"+("le"===m?"LE":"BE")]($,M),$},x.prototype._toArrayLikeLE=function(l,m){for(var v=0,M=0,F=0,$=0;F<this.length;F++){var W=this.words[F]<<$|M;l[v++]=255&W,v<l.length&&(l[v++]=W>>8&255),v<l.length&&(l[v++]=W>>16&255),6===$?(v<l.length&&(l[v++]=W>>24&255),M=0,$=0):(M=W>>>24,$+=2)}if(v<l.length)for(l[v++]=M;v<l.length;)l[v++]=0},x.prototype._toArrayLikeBE=function(l,m){for(var v=l.length-1,M=0,F=0,$=0;F<this.length;F++){var W=this.words[F]<<$|M;l[v--]=255&W,v>=0&&(l[v--]=W>>8&255),v>=0&&(l[v--]=W>>16&255),6===$?(v>=0&&(l[v--]=W>>24&255),M=0,$=0):(M=W>>>24,$+=2)}if(v>=0)for(l[v--]=M;v>=0;)l[v--]=0},x.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var m=l,v=0;return m>=4096&&(v+=13,m>>>=13),m>=64&&(v+=7,m>>>=7),m>=8&&(v+=4,m>>>=4),m>=2&&(v+=2,m>>>=2),v+m},x.prototype._zeroBits=function(l){if(0===l)return 26;var m=l,v=0;return 8191&m||(v+=13,m>>>=13),127&m||(v+=7,m>>>=7),15&m||(v+=4,m>>>=4),3&m||(v+=2,m>>>=2),1&m||v++,v},x.prototype.bitLength=function(){var m=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+m},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,m=0;m<this.length;m++){var v=this._zeroBits(this.words[m]);if(l+=v,26!==v)break}return l},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},x.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var m=0;m<l.length;m++)this.words[m]=this.words[m]|l.words[m];return this._strip()},x.prototype.ior=function(l){return Y(0==(this.negative|l.negative)),this.iuor(l)},x.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},x.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},x.prototype.iuand=function(l){var m;m=this.length>l.length?l:this;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]&l.words[v];return this.length=m.length,this._strip()},x.prototype.iand=function(l){return Y(0==(this.negative|l.negative)),this.iuand(l)},x.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},x.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},x.prototype.iuxor=function(l){var m,v;this.length>l.length?(m=this,v=l):(m=l,v=this);for(var M=0;M<v.length;M++)this.words[M]=m.words[M]^v.words[M];if(this!==m)for(;M<m.length;M++)this.words[M]=m.words[M];return this.length=m.length,this._strip()},x.prototype.ixor=function(l){return Y(0==(this.negative|l.negative)),this.iuxor(l)},x.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},x.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},x.prototype.inotn=function(l){Y("number"==typeof l&&l>=0);var m=0|Math.ceil(l/26),v=l%26;this._expand(m),v>0&&m--;for(var M=0;M<m;M++)this.words[M]=67108863&~this.words[M];return v>0&&(this.words[M]=~this.words[M]&67108863>>26-v),this._strip()},x.prototype.notn=function(l){return this.clone().inotn(l)},x.prototype.setn=function(l,m){Y("number"==typeof l&&l>=0);var v=l/26|0,M=l%26;return this._expand(v+1),this.words[v]=m?this.words[v]|1<<M:this.words[v]&~(1<<M),this._strip()},x.prototype.iadd=function(l){var m,v,M;if(0!==this.negative&&0===l.negative)return this.negative=0,m=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,m=this.isub(l),l.negative=1,m._normSign();this.length>l.length?(v=this,M=l):(v=l,M=this);for(var F=0,$=0;$<M.length;$++)this.words[$]=67108863&(m=(0|v.words[$])+(0|M.words[$])+F),F=m>>>26;for(;0!==F&&$<v.length;$++)this.words[$]=67108863&(m=(0|v.words[$])+F),F=m>>>26;if(this.length=v.length,0!==F)this.words[this.length]=F,this.length++;else if(v!==this)for(;$<v.length;$++)this.words[$]=v.words[$];return this},x.prototype.add=function(l){var m;return 0!==l.negative&&0===this.negative?(l.negative=0,m=this.sub(l),l.negative^=1,m):0===l.negative&&0!==this.negative?(this.negative=0,m=l.sub(this),this.negative=1,m):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},x.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var m=this.iadd(l);return l.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var M,F,v=this.cmp(l);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(M=this,F=l):(M=l,F=this);for(var $=0,W=0;W<F.length;W++)$=(m=(0|M.words[W])-(0|F.words[W])+$)>>26,this.words[W]=67108863&m;for(;0!==$&&W<M.length;W++)$=(m=(0|M.words[W])+$)>>26,this.words[W]=67108863&m;if(0===$&&W<M.length&&M!==this)for(;W<M.length;W++)this.words[W]=M.words[W];return this.length=Math.max(this.length,W),M!==this&&(this.negative=1),this._strip()},x.prototype.sub=function(l){return this.clone().isub(l)};var At=function(l,m,v){var T,d,B,M=l.words,F=m.words,$=v.words,W=0,k=0|M[0],A=8191&k,N=k>>>13,V=0|M[1],X=8191&V,Kt=V>>>13,ae=0|M[2],oe=8191&ae,ne=ae>>>13,Ae=0|M[3],fe=8191&Ae,P=Ae>>>13,g=0|M[4],w=8191&g,O=g>>>13,Z=0|M[5],it=8191&Z,ot=Z>>>13,Ht=0|M[6],jt=8191&Ht,Yt=Ht>>>13,ue=0|M[7],S=8191&ue,s=ue>>>13,n=0|M[8],r=8191&n,u=n>>>13,y=0|M[9],_=8191&y,U=y>>>13,ft=0|F[0],kt=8191&ft,_t=ft>>>13,Mt=0|F[1],Pt=8191&Mt,tn=Mt>>>13,ce=0|F[2],Ve=8191&ce,Ge=ce>>>13,An=0|F[3],ve=8191&An,je=An>>>13,pi=0|F[4],en=8191&pi,nn=pi>>>13,qr=0|F[5],rn=8191&qr,on=qr>>>13,yi=0|F[6],ze=8191&yi,Oe=yi>>>13,zr=0|F[7],Te=8191&zr,Ue=zr>>>13,Wr=0|F[8],Re=8191&Wr,We=Wr>>>13,ur=0|F[9],Se=8191&ur,Ke=ur>>>13;v.negative=l.negative^m.negative,v.length=19;var Cn=(W+(T=Math.imul(A,kt))|0)+((8191&(d=(d=Math.imul(A,_t))+Math.imul(N,kt)|0))<<13)|0;W=((B=Math.imul(N,_t))+(d>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,T=Math.imul(X,kt),d=(d=Math.imul(X,_t))+Math.imul(Kt,kt)|0,B=Math.imul(Kt,_t);var Tn=(W+(T=T+Math.imul(A,Pt)|0)|0)+((8191&(d=(d=d+Math.imul(A,tn)|0)+Math.imul(N,Pt)|0))<<13)|0;W=((B=B+Math.imul(N,tn)|0)+(d>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,T=Math.imul(oe,kt),d=(d=Math.imul(oe,_t))+Math.imul(ne,kt)|0,B=Math.imul(ne,_t),T=T+Math.imul(X,Pt)|0,d=(d=d+Math.imul(X,tn)|0)+Math.imul(Kt,Pt)|0,B=B+Math.imul(Kt,tn)|0;var Un=(W+(T=T+Math.imul(A,Ve)|0)|0)+((8191&(d=(d=d+Math.imul(A,Ge)|0)+Math.imul(N,Ve)|0))<<13)|0;W=((B=B+Math.imul(N,Ge)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,T=Math.imul(fe,kt),d=(d=Math.imul(fe,_t))+Math.imul(P,kt)|0,B=Math.imul(P,_t),T=T+Math.imul(oe,Pt)|0,d=(d=d+Math.imul(oe,tn)|0)+Math.imul(ne,Pt)|0,B=B+Math.imul(ne,tn)|0,T=T+Math.imul(X,Ve)|0,d=(d=d+Math.imul(X,Ge)|0)+Math.imul(Kt,Ve)|0,B=B+Math.imul(Kt,Ge)|0;var Ln=(W+(T=T+Math.imul(A,ve)|0)|0)+((8191&(d=(d=d+Math.imul(A,je)|0)+Math.imul(N,ve)|0))<<13)|0;W=((B=B+Math.imul(N,je)|0)+(d>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,T=Math.imul(w,kt),d=(d=Math.imul(w,_t))+Math.imul(O,kt)|0,B=Math.imul(O,_t),T=T+Math.imul(fe,Pt)|0,d=(d=d+Math.imul(fe,tn)|0)+Math.imul(P,Pt)|0,B=B+Math.imul(P,tn)|0,T=T+Math.imul(oe,Ve)|0,d=(d=d+Math.imul(oe,Ge)|0)+Math.imul(ne,Ve)|0,B=B+Math.imul(ne,Ge)|0,T=T+Math.imul(X,ve)|0,d=(d=d+Math.imul(X,je)|0)+Math.imul(Kt,ve)|0,B=B+Math.imul(Kt,je)|0;var Wn=(W+(T=T+Math.imul(A,en)|0)|0)+((8191&(d=(d=d+Math.imul(A,nn)|0)+Math.imul(N,en)|0))<<13)|0;W=((B=B+Math.imul(N,nn)|0)+(d>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,T=Math.imul(it,kt),d=(d=Math.imul(it,_t))+Math.imul(ot,kt)|0,B=Math.imul(ot,_t),T=T+Math.imul(w,Pt)|0,d=(d=d+Math.imul(w,tn)|0)+Math.imul(O,Pt)|0,B=B+Math.imul(O,tn)|0,T=T+Math.imul(fe,Ve)|0,d=(d=d+Math.imul(fe,Ge)|0)+Math.imul(P,Ve)|0,B=B+Math.imul(P,Ge)|0,T=T+Math.imul(oe,ve)|0,d=(d=d+Math.imul(oe,je)|0)+Math.imul(ne,ve)|0,B=B+Math.imul(ne,je)|0,T=T+Math.imul(X,en)|0,d=(d=d+Math.imul(X,nn)|0)+Math.imul(Kt,en)|0,B=B+Math.imul(Kt,nn)|0;var br=(W+(T=T+Math.imul(A,rn)|0)|0)+((8191&(d=(d=d+Math.imul(A,on)|0)+Math.imul(N,rn)|0))<<13)|0;W=((B=B+Math.imul(N,on)|0)+(d>>>13)|0)+(br>>>26)|0,br&=67108863,T=Math.imul(jt,kt),d=(d=Math.imul(jt,_t))+Math.imul(Yt,kt)|0,B=Math.imul(Yt,_t),T=T+Math.imul(it,Pt)|0,d=(d=d+Math.imul(it,tn)|0)+Math.imul(ot,Pt)|0,B=B+Math.imul(ot,tn)|0,T=T+Math.imul(w,Ve)|0,d=(d=d+Math.imul(w,Ge)|0)+Math.imul(O,Ve)|0,B=B+Math.imul(O,Ge)|0,T=T+Math.imul(fe,ve)|0,d=(d=d+Math.imul(fe,je)|0)+Math.imul(P,ve)|0,B=B+Math.imul(P,je)|0,T=T+Math.imul(oe,en)|0,d=(d=d+Math.imul(oe,nn)|0)+Math.imul(ne,en)|0,B=B+Math.imul(ne,nn)|0,T=T+Math.imul(X,rn)|0,d=(d=d+Math.imul(X,on)|0)+Math.imul(Kt,rn)|0,B=B+Math.imul(Kt,on)|0;var $e=(W+(T=T+Math.imul(A,ze)|0)|0)+((8191&(d=(d=d+Math.imul(A,Oe)|0)+Math.imul(N,ze)|0))<<13)|0;W=((B=B+Math.imul(N,Oe)|0)+(d>>>13)|0)+($e>>>26)|0,$e&=67108863,T=Math.imul(S,kt),d=(d=Math.imul(S,_t))+Math.imul(s,kt)|0,B=Math.imul(s,_t),T=T+Math.imul(jt,Pt)|0,d=(d=d+Math.imul(jt,tn)|0)+Math.imul(Yt,Pt)|0,B=B+Math.imul(Yt,tn)|0,T=T+Math.imul(it,Ve)|0,d=(d=d+Math.imul(it,Ge)|0)+Math.imul(ot,Ve)|0,B=B+Math.imul(ot,Ge)|0,T=T+Math.imul(w,ve)|0,d=(d=d+Math.imul(w,je)|0)+Math.imul(O,ve)|0,B=B+Math.imul(O,je)|0,T=T+Math.imul(fe,en)|0,d=(d=d+Math.imul(fe,nn)|0)+Math.imul(P,en)|0,B=B+Math.imul(P,nn)|0,T=T+Math.imul(oe,rn)|0,d=(d=d+Math.imul(oe,on)|0)+Math.imul(ne,rn)|0,B=B+Math.imul(ne,on)|0,T=T+Math.imul(X,ze)|0,d=(d=d+Math.imul(X,Oe)|0)+Math.imul(Kt,ze)|0,B=B+Math.imul(Kt,Oe)|0;var Rn=(W+(T=T+Math.imul(A,Te)|0)|0)+((8191&(d=(d=d+Math.imul(A,Ue)|0)+Math.imul(N,Te)|0))<<13)|0;W=((B=B+Math.imul(N,Ue)|0)+(d>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,T=Math.imul(r,kt),d=(d=Math.imul(r,_t))+Math.imul(u,kt)|0,B=Math.imul(u,_t),T=T+Math.imul(S,Pt)|0,d=(d=d+Math.imul(S,tn)|0)+Math.imul(s,Pt)|0,B=B+Math.imul(s,tn)|0,T=T+Math.imul(jt,Ve)|0,d=(d=d+Math.imul(jt,Ge)|0)+Math.imul(Yt,Ve)|0,B=B+Math.imul(Yt,Ge)|0,T=T+Math.imul(it,ve)|0,d=(d=d+Math.imul(it,je)|0)+Math.imul(ot,ve)|0,B=B+Math.imul(ot,je)|0,T=T+Math.imul(w,en)|0,d=(d=d+Math.imul(w,nn)|0)+Math.imul(O,en)|0,B=B+Math.imul(O,nn)|0,T=T+Math.imul(fe,rn)|0,d=(d=d+Math.imul(fe,on)|0)+Math.imul(P,rn)|0,B=B+Math.imul(P,on)|0,T=T+Math.imul(oe,ze)|0,d=(d=d+Math.imul(oe,Oe)|0)+Math.imul(ne,ze)|0,B=B+Math.imul(ne,Oe)|0,T=T+Math.imul(X,Te)|0,d=(d=d+Math.imul(X,Ue)|0)+Math.imul(Kt,Te)|0,B=B+Math.imul(Kt,Ue)|0;var xr=(W+(T=T+Math.imul(A,Re)|0)|0)+((8191&(d=(d=d+Math.imul(A,We)|0)+Math.imul(N,Re)|0))<<13)|0;W=((B=B+Math.imul(N,We)|0)+(d>>>13)|0)+(xr>>>26)|0,xr&=67108863,T=Math.imul(_,kt),d=(d=Math.imul(_,_t))+Math.imul(U,kt)|0,B=Math.imul(U,_t),T=T+Math.imul(r,Pt)|0,d=(d=d+Math.imul(r,tn)|0)+Math.imul(u,Pt)|0,B=B+Math.imul(u,tn)|0,T=T+Math.imul(S,Ve)|0,d=(d=d+Math.imul(S,Ge)|0)+Math.imul(s,Ve)|0,B=B+Math.imul(s,Ge)|0,T=T+Math.imul(jt,ve)|0,d=(d=d+Math.imul(jt,je)|0)+Math.imul(Yt,ve)|0,B=B+Math.imul(Yt,je)|0,T=T+Math.imul(it,en)|0,d=(d=d+Math.imul(it,nn)|0)+Math.imul(ot,en)|0,B=B+Math.imul(ot,nn)|0,T=T+Math.imul(w,rn)|0,d=(d=d+Math.imul(w,on)|0)+Math.imul(O,rn)|0,B=B+Math.imul(O,on)|0,T=T+Math.imul(fe,ze)|0,d=(d=d+Math.imul(fe,Oe)|0)+Math.imul(P,ze)|0,B=B+Math.imul(P,Oe)|0,T=T+Math.imul(oe,Te)|0,d=(d=d+Math.imul(oe,Ue)|0)+Math.imul(ne,Te)|0,B=B+Math.imul(ne,Ue)|0,T=T+Math.imul(X,Re)|0,d=(d=d+Math.imul(X,We)|0)+Math.imul(Kt,Re)|0,B=B+Math.imul(Kt,We)|0;var _r=(W+(T=T+Math.imul(A,Se)|0)|0)+((8191&(d=(d=d+Math.imul(A,Ke)|0)+Math.imul(N,Se)|0))<<13)|0;W=((B=B+Math.imul(N,Ke)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,T=Math.imul(_,Pt),d=(d=Math.imul(_,tn))+Math.imul(U,Pt)|0,B=Math.imul(U,tn),T=T+Math.imul(r,Ve)|0,d=(d=d+Math.imul(r,Ge)|0)+Math.imul(u,Ve)|0,B=B+Math.imul(u,Ge)|0,T=T+Math.imul(S,ve)|0,d=(d=d+Math.imul(S,je)|0)+Math.imul(s,ve)|0,B=B+Math.imul(s,je)|0,T=T+Math.imul(jt,en)|0,d=(d=d+Math.imul(jt,nn)|0)+Math.imul(Yt,en)|0,B=B+Math.imul(Yt,nn)|0,T=T+Math.imul(it,rn)|0,d=(d=d+Math.imul(it,on)|0)+Math.imul(ot,rn)|0,B=B+Math.imul(ot,on)|0,T=T+Math.imul(w,ze)|0,d=(d=d+Math.imul(w,Oe)|0)+Math.imul(O,ze)|0,B=B+Math.imul(O,Oe)|0,T=T+Math.imul(fe,Te)|0,d=(d=d+Math.imul(fe,Ue)|0)+Math.imul(P,Te)|0,B=B+Math.imul(P,Ue)|0,T=T+Math.imul(oe,Re)|0,d=(d=d+Math.imul(oe,We)|0)+Math.imul(ne,Re)|0,B=B+Math.imul(ne,We)|0;var kr=(W+(T=T+Math.imul(X,Se)|0)|0)+((8191&(d=(d=d+Math.imul(X,Ke)|0)+Math.imul(Kt,Se)|0))<<13)|0;W=((B=B+Math.imul(Kt,Ke)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,T=Math.imul(_,Ve),d=(d=Math.imul(_,Ge))+Math.imul(U,Ve)|0,B=Math.imul(U,Ge),T=T+Math.imul(r,ve)|0,d=(d=d+Math.imul(r,je)|0)+Math.imul(u,ve)|0,B=B+Math.imul(u,je)|0,T=T+Math.imul(S,en)|0,d=(d=d+Math.imul(S,nn)|0)+Math.imul(s,en)|0,B=B+Math.imul(s,nn)|0,T=T+Math.imul(jt,rn)|0,d=(d=d+Math.imul(jt,on)|0)+Math.imul(Yt,rn)|0,B=B+Math.imul(Yt,on)|0,T=T+Math.imul(it,ze)|0,d=(d=d+Math.imul(it,Oe)|0)+Math.imul(ot,ze)|0,B=B+Math.imul(ot,Oe)|0,T=T+Math.imul(w,Te)|0,d=(d=d+Math.imul(w,Ue)|0)+Math.imul(O,Te)|0,B=B+Math.imul(O,Ue)|0,T=T+Math.imul(fe,Re)|0,d=(d=d+Math.imul(fe,We)|0)+Math.imul(P,Re)|0,B=B+Math.imul(P,We)|0;var Er=(W+(T=T+Math.imul(oe,Se)|0)|0)+((8191&(d=(d=d+Math.imul(oe,Ke)|0)+Math.imul(ne,Se)|0))<<13)|0;W=((B=B+Math.imul(ne,Ke)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,T=Math.imul(_,ve),d=(d=Math.imul(_,je))+Math.imul(U,ve)|0,B=Math.imul(U,je),T=T+Math.imul(r,en)|0,d=(d=d+Math.imul(r,nn)|0)+Math.imul(u,en)|0,B=B+Math.imul(u,nn)|0,T=T+Math.imul(S,rn)|0,d=(d=d+Math.imul(S,on)|0)+Math.imul(s,rn)|0,B=B+Math.imul(s,on)|0,T=T+Math.imul(jt,ze)|0,d=(d=d+Math.imul(jt,Oe)|0)+Math.imul(Yt,ze)|0,B=B+Math.imul(Yt,Oe)|0,T=T+Math.imul(it,Te)|0,d=(d=d+Math.imul(it,Ue)|0)+Math.imul(ot,Te)|0,B=B+Math.imul(ot,Ue)|0,T=T+Math.imul(w,Re)|0,d=(d=d+Math.imul(w,We)|0)+Math.imul(O,Re)|0,B=B+Math.imul(O,We)|0;var Br=(W+(T=T+Math.imul(fe,Se)|0)|0)+((8191&(d=(d=d+Math.imul(fe,Ke)|0)+Math.imul(P,Se)|0))<<13)|0;W=((B=B+Math.imul(P,Ke)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,T=Math.imul(_,en),d=(d=Math.imul(_,nn))+Math.imul(U,en)|0,B=Math.imul(U,nn),T=T+Math.imul(r,rn)|0,d=(d=d+Math.imul(r,on)|0)+Math.imul(u,rn)|0,B=B+Math.imul(u,on)|0,T=T+Math.imul(S,ze)|0,d=(d=d+Math.imul(S,Oe)|0)+Math.imul(s,ze)|0,B=B+Math.imul(s,Oe)|0,T=T+Math.imul(jt,Te)|0,d=(d=d+Math.imul(jt,Ue)|0)+Math.imul(Yt,Te)|0,B=B+Math.imul(Yt,Ue)|0,T=T+Math.imul(it,Re)|0,d=(d=d+Math.imul(it,We)|0)+Math.imul(ot,Re)|0,B=B+Math.imul(ot,We)|0;var Qn=(W+(T=T+Math.imul(w,Se)|0)|0)+((8191&(d=(d=d+Math.imul(w,Ke)|0)+Math.imul(O,Se)|0))<<13)|0;W=((B=B+Math.imul(O,Ke)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,T=Math.imul(_,rn),d=(d=Math.imul(_,on))+Math.imul(U,rn)|0,B=Math.imul(U,on),T=T+Math.imul(r,ze)|0,d=(d=d+Math.imul(r,Oe)|0)+Math.imul(u,ze)|0,B=B+Math.imul(u,Oe)|0,T=T+Math.imul(S,Te)|0,d=(d=d+Math.imul(S,Ue)|0)+Math.imul(s,Te)|0,B=B+Math.imul(s,Ue)|0,T=T+Math.imul(jt,Re)|0,d=(d=d+Math.imul(jt,We)|0)+Math.imul(Yt,Re)|0,B=B+Math.imul(Yt,We)|0;var tr=(W+(T=T+Math.imul(it,Se)|0)|0)+((8191&(d=(d=d+Math.imul(it,Ke)|0)+Math.imul(ot,Se)|0))<<13)|0;W=((B=B+Math.imul(ot,Ke)|0)+(d>>>13)|0)+(tr>>>26)|0,tr&=67108863,T=Math.imul(_,ze),d=(d=Math.imul(_,Oe))+Math.imul(U,ze)|0,B=Math.imul(U,Oe),T=T+Math.imul(r,Te)|0,d=(d=d+Math.imul(r,Ue)|0)+Math.imul(u,Te)|0,B=B+Math.imul(u,Ue)|0,T=T+Math.imul(S,Re)|0,d=(d=d+Math.imul(S,We)|0)+Math.imul(s,Re)|0,B=B+Math.imul(s,We)|0;var lr=(W+(T=T+Math.imul(jt,Se)|0)|0)+((8191&(d=(d=d+Math.imul(jt,Ke)|0)+Math.imul(Yt,Se)|0))<<13)|0;W=((B=B+Math.imul(Yt,Ke)|0)+(d>>>13)|0)+(lr>>>26)|0,lr&=67108863,T=Math.imul(_,Te),d=(d=Math.imul(_,Ue))+Math.imul(U,Te)|0,B=Math.imul(U,Ue),T=T+Math.imul(r,Re)|0,d=(d=d+Math.imul(r,We)|0)+Math.imul(u,Re)|0,B=B+Math.imul(u,We)|0;var hr=(W+(T=T+Math.imul(S,Se)|0)|0)+((8191&(d=(d=d+Math.imul(S,Ke)|0)+Math.imul(s,Se)|0))<<13)|0;W=((B=B+Math.imul(s,Ke)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,T=Math.imul(_,Re),d=(d=Math.imul(_,We))+Math.imul(U,Re)|0,B=Math.imul(U,We);var Sr=(W+(T=T+Math.imul(r,Se)|0)|0)+((8191&(d=(d=d+Math.imul(r,Ke)|0)+Math.imul(u,Se)|0))<<13)|0;W=((B=B+Math.imul(u,Ke)|0)+(d>>>13)|0)+(Sr>>>26)|0,Sr&=67108863;var Fn=(W+(T=Math.imul(_,Se))|0)+((8191&(d=(d=Math.imul(_,Ke))+Math.imul(U,Se)|0))<<13)|0;return W=((B=Math.imul(U,Ke))+(d>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,$[0]=Cn,$[1]=Tn,$[2]=Un,$[3]=Ln,$[4]=Wn,$[5]=br,$[6]=$e,$[7]=Rn,$[8]=xr,$[9]=_r,$[10]=kr,$[11]=Er,$[12]=Br,$[13]=Qn,$[14]=tr,$[15]=lr,$[16]=hr,$[17]=Sr,$[18]=Fn,0!==W&&($[19]=W,v.length++),v};function bt(C,l,m){m.negative=l.negative^C.negative,m.length=C.length+l.length;for(var v=0,M=0,F=0;F<m.length-1;F++){var $=M;M=0;for(var W=67108863&v,T=Math.min(F,l.length-1),d=Math.max(0,F-C.length+1);d<=T;d++){var N=(0|C.words[F-d])*(0|l.words[d]),V=67108863&N;W=67108863&(V=V+W|0),M+=($=($=$+(N/67108864|0)|0)+(V>>>26)|0)>>>26,$&=67108863}m.words[F]=W,v=$,$=M}return 0!==v?m.words[F]=v:m.length--,m._strip()}function Lt(C,l,m){return bt(C,l,m)}function yt(C,l){this.x=C,this.y=l}Math.imul||(At=et),x.prototype.mulTo=function(l,m){var M=this.length+l.length;return 10===this.length&&10===l.length?At(this,l,m):M<63?et(this,l,m):M<1024?bt(this,l,m):Lt(this,l,m)},yt.prototype.makeRBT=function(l){for(var m=new Array(l),v=x.prototype._countBits(l)-1,M=0;M<l;M++)m[M]=this.revBin(M,v,l);return m},yt.prototype.revBin=function(l,m,v){if(0===l||l===v-1)return l;for(var M=0,F=0;F<m;F++)M|=(1&l)<<m-F-1,l>>=1;return M},yt.prototype.permute=function(l,m,v,M,F,$){for(var W=0;W<$;W++)M[W]=m[l[W]],F[W]=v[l[W]]},yt.prototype.transform=function(l,m,v,M,F,$){this.permute($,l,m,v,M,F);for(var W=1;W<F;W<<=1)for(var T=W<<1,d=Math.cos(2*Math.PI/T),B=Math.sin(2*Math.PI/T),k=0;k<F;k+=T)for(var A=d,N=B,V=0;V<W;V++){var X=v[k+V],Kt=M[k+V],ae=v[k+V+W],oe=M[k+V+W],ne=A*ae-N*oe;oe=A*oe+N*ae,v[k+V]=X+(ae=ne),M[k+V]=Kt+oe,v[k+V+W]=X-ae,M[k+V+W]=Kt-oe,V!==T&&(ne=d*A-B*N,N=d*N+B*A,A=ne)}},yt.prototype.guessLen13b=function(l,m){var v=1|Math.max(m,l),M=1&v,F=0;for(v=v/2|0;v;v>>>=1)F++;return 1<<F+1+M},yt.prototype.conjugate=function(l,m,v){if(!(v<=1))for(var M=0;M<v/2;M++){var F=l[M];l[M]=l[v-M-1],l[v-M-1]=F,F=m[M],m[M]=-m[v-M-1],m[v-M-1]=-F}},yt.prototype.normalize13b=function(l,m){for(var v=0,M=0;M<m/2;M++){var F=8192*Math.round(l[2*M+1]/m)+Math.round(l[2*M]/m)+v;l[M]=67108863&F,v=F<67108864?0:F/67108864|0}return l},yt.prototype.convert13b=function(l,m,v,M){for(var F=0,$=0;$<m;$++)v[2*$]=8191&(F+=0|l[$]),v[2*$+1]=8191&(F>>>=13),F>>>=13;for($=2*m;$<M;++$)v[$]=0;Y(0===F),Y(0==(-8192&F))},yt.prototype.stub=function(l){for(var m=new Array(l),v=0;v<l;v++)m[v]=0;return m},yt.prototype.mulp=function(l,m,v){var M=2*this.guessLen13b(l.length,m.length),F=this.makeRBT(M),$=this.stub(M),W=new Array(M),T=new Array(M),d=new Array(M),B=new Array(M),k=new Array(M),A=new Array(M),N=v.words;N.length=M,this.convert13b(l.words,l.length,W,M),this.convert13b(m.words,m.length,B,M),this.transform(W,$,T,d,M,F),this.transform(B,$,k,A,M,F);for(var V=0;V<M;V++){var X=T[V]*k[V]-d[V]*A[V];d[V]=T[V]*A[V]+d[V]*k[V],T[V]=X}return this.conjugate(T,d,M),this.transform(T,d,N,$,M,F),this.conjugate(N,$,M),this.normalize13b(N,M),v.negative=l.negative^m.negative,v.length=l.length+m.length,v._strip()},x.prototype.mul=function(l){var m=new x(null);return m.words=new Array(this.length+l.length),this.mulTo(l,m)},x.prototype.mulf=function(l){var m=new x(null);return m.words=new Array(this.length+l.length),Lt(this,l,m)},x.prototype.imul=function(l){return this.clone().mulTo(l,this)},x.prototype.imuln=function(l){var m=l<0;m&&(l=-l),Y("number"==typeof l),Y(l<67108864);for(var v=0,M=0;M<this.length;M++){var F=(0|this.words[M])*l,$=(67108863&F)+(67108863&v);v>>=26,v+=F/67108864|0,v+=$>>>26,this.words[M]=67108863&$}return 0!==v&&(this.words[M]=v,this.length++),m?this.ineg():this},x.prototype.muln=function(l){return this.clone().imuln(l)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(l){var m=function at(C){for(var l=new Array(C.bitLength()),m=0;m<l.length;m++)l[m]=C.words[m/26|0]>>>m%26&1;return l}(l);if(0===m.length)return new x(1);for(var v=this,M=0;M<m.length&&0===m[M];M++,v=v.sqr());if(++M<m.length)for(var F=v.sqr();M<m.length;M++,F=F.sqr())0!==m[M]&&(v=v.mul(F));return v},x.prototype.iushln=function(l){Y("number"==typeof l&&l>=0);var F,m=l%26,v=(l-m)/26,M=67108863>>>26-m<<26-m;if(0!==m){var $=0;for(F=0;F<this.length;F++){var W=this.words[F]&M;this.words[F]=(0|this.words[F])-W<<m|$,$=W>>>26-m}$&&(this.words[F]=$,this.length++)}if(0!==v){for(F=this.length-1;F>=0;F--)this.words[F+v]=this.words[F];for(F=0;F<v;F++)this.words[F]=0;this.length+=v}return this._strip()},x.prototype.ishln=function(l){return Y(0===this.negative),this.iushln(l)},x.prototype.iushrn=function(l,m,v){var M;Y("number"==typeof l&&l>=0),M=m?(m-m%26)/26:0;var F=l%26,$=Math.min((l-F)/26,this.length),W=67108863^67108863>>>F<<F,T=v;if(M-=$,M=Math.max(0,M),T){for(var d=0;d<$;d++)T.words[d]=this.words[d];T.length=$}if(0!==$)if(this.length>$)for(this.length-=$,d=0;d<this.length;d++)this.words[d]=this.words[d+$];else this.words[0]=0,this.length=1;var B=0;for(d=this.length-1;d>=0&&(0!==B||d>=M);d--){var k=0|this.words[d];this.words[d]=B<<26-F|k>>>F,B=k&W}return T&&0!==B&&(T.words[T.length++]=B),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},x.prototype.ishrn=function(l,m,v){return Y(0===this.negative),this.iushrn(l,m,v)},x.prototype.shln=function(l){return this.clone().ishln(l)},x.prototype.ushln=function(l){return this.clone().iushln(l)},x.prototype.shrn=function(l){return this.clone().ishrn(l)},x.prototype.ushrn=function(l){return this.clone().iushrn(l)},x.prototype.testn=function(l){Y("number"==typeof l&&l>=0);var m=l%26,v=(l-m)/26;return!(this.length<=v||!(this.words[v]&1<<m))},x.prototype.imaskn=function(l){Y("number"==typeof l&&l>=0);var m=l%26,v=(l-m)/26;return Y(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==m&&v++,this.length=Math.min(v,this.length),0!==m&&(this.words[this.length-1]&=67108863^67108863>>>m<<m),this._strip())},x.prototype.maskn=function(l){return this.clone().imaskn(l)},x.prototype.iaddn=function(l){return Y("number"==typeof l),Y(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<=l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},x.prototype._iaddn=function(l){this.words[0]+=l;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},x.prototype.isubn=function(l){if(Y("number"==typeof l),Y(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},x.prototype.addn=function(l){return this.clone().iaddn(l)},x.prototype.subn=function(l){return this.clone().isubn(l)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(l,m,v){var F;this._expand(l.length+v);var $,W=0;for(F=0;F<l.length;F++){$=(0|this.words[F+v])+W;var T=(0|l.words[F])*m;W=(($-=67108863&T)>>26)-(T/67108864|0),this.words[F+v]=67108863&$}for(;F<this.length-v;F++)W=($=(0|this.words[F+v])+W)>>26,this.words[F+v]=67108863&$;if(0===W)return this._strip();for(Y(-1===W),W=0,F=0;F<this.length;F++)W=($=-(0|this.words[F])+W)>>26,this.words[F]=67108863&$;return this.negative=1,this._strip()},x.prototype._wordDiv=function(l,m){var v,M=this.clone(),F=l,$=0|F.words[F.length-1];0!=(v=26-this._countBits($))&&(F=F.ushln(v),M.iushln(v),$=0|F.words[F.length-1]);var d,T=M.length-F.length;if("mod"!==m){(d=new x(null)).length=T+1,d.words=new Array(d.length);for(var B=0;B<d.length;B++)d.words[B]=0}var k=M.clone()._ishlnsubmul(F,1,T);0===k.negative&&(M=k,d&&(d.words[T]=1));for(var A=T-1;A>=0;A--){var N=67108864*(0|M.words[F.length+A])+(0|M.words[F.length+A-1]);for(N=Math.min(N/$|0,67108863),M._ishlnsubmul(F,N,A);0!==M.negative;)N--,M.negative=0,M._ishlnsubmul(F,1,A),M.isZero()||(M.negative^=1);d&&(d.words[A]=N)}return d&&d._strip(),M._strip(),"div"!==m&&0!==v&&M.iushrn(v),{div:d||null,mod:M}},x.prototype.divmod=function(l,m,v){return Y(!l.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===l.negative?($=this.neg().divmod(l,m),"mod"!==m&&(M=$.div.neg()),"div"!==m&&(F=$.mod.neg(),v&&0!==F.negative&&F.iadd(l)),{div:M,mod:F}):0===this.negative&&0!==l.negative?($=this.divmod(l.neg(),m),"mod"!==m&&(M=$.div.neg()),{div:M,mod:$.mod}):this.negative&l.negative?($=this.neg().divmod(l.neg(),m),"div"!==m&&(F=$.mod.neg(),v&&0!==F.negative&&F.isub(l)),{div:$.div,mod:F}):l.length>this.length||this.cmp(l)<0?{div:new x(0),mod:this}:1===l.length?"div"===m?{div:this.divn(l.words[0]),mod:null}:"mod"===m?{div:null,mod:new x(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new x(this.modrn(l.words[0]))}:this._wordDiv(l,m);var M,F,$},x.prototype.div=function(l){return this.divmod(l,"div",!1).div},x.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},x.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},x.prototype.divRound=function(l){var m=this.divmod(l);if(m.mod.isZero())return m.div;var v=0!==m.div.negative?m.mod.isub(l):m.mod,M=l.ushrn(1),F=l.andln(1),$=v.cmp(M);return $<0||1===F&&0===$?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},x.prototype.modrn=function(l){var m=l<0;m&&(l=-l),Y(l<=67108863);for(var v=(1<<26)%l,M=0,F=this.length-1;F>=0;F--)M=(v*M+(0|this.words[F]))%l;return m?-M:M},x.prototype.modn=function(l){return this.modrn(l)},x.prototype.idivn=function(l){var m=l<0;m&&(l=-l),Y(l<=67108863);for(var v=0,M=this.length-1;M>=0;M--){var F=(0|this.words[M])+67108864*v;this.words[M]=F/l|0,v=F%l}return this._strip(),m?this.ineg():this},x.prototype.divn=function(l){return this.clone().idivn(l)},x.prototype.egcd=function(l){Y(0===l.negative),Y(!l.isZero());var m=this,v=l.clone();m=0!==m.negative?m.umod(l):m.clone();for(var M=new x(1),F=new x(0),$=new x(0),W=new x(1),T=0;m.isEven()&&v.isEven();)m.iushrn(1),v.iushrn(1),++T;for(var d=v.clone(),B=m.clone();!m.isZero();){for(var k=0,A=1;!(m.words[0]&A)&&k<26;++k,A<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(M.isOdd()||F.isOdd())&&(M.iadd(d),F.isub(B)),M.iushrn(1),F.iushrn(1);for(var N=0,V=1;!(v.words[0]&V)&&N<26;++N,V<<=1);if(N>0)for(v.iushrn(N);N-- >0;)($.isOdd()||W.isOdd())&&($.iadd(d),W.isub(B)),$.iushrn(1),W.iushrn(1);m.cmp(v)>=0?(m.isub(v),M.isub($),F.isub(W)):(v.isub(m),$.isub(M),W.isub(F))}return{a:$,b:W,gcd:v.iushln(T)}},x.prototype._invmp=function(l){Y(0===l.negative),Y(!l.isZero());var k,m=this,v=l.clone();m=0!==m.negative?m.umod(l):m.clone();for(var M=new x(1),F=new x(0),$=v.clone();m.cmpn(1)>0&&v.cmpn(1)>0;){for(var W=0,T=1;!(m.words[0]&T)&&W<26;++W,T<<=1);if(W>0)for(m.iushrn(W);W-- >0;)M.isOdd()&&M.iadd($),M.iushrn(1);for(var d=0,B=1;!(v.words[0]&B)&&d<26;++d,B<<=1);if(d>0)for(v.iushrn(d);d-- >0;)F.isOdd()&&F.iadd($),F.iushrn(1);m.cmp(v)>=0?(m.isub(v),M.isub(F)):(v.isub(m),F.isub(M))}return(k=0===m.cmpn(1)?M:F).cmpn(0)<0&&k.iadd(l),k},x.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var m=this.clone(),v=l.clone();m.negative=0,v.negative=0;for(var M=0;m.isEven()&&v.isEven();M++)m.iushrn(1),v.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;v.isEven();)v.iushrn(1);var F=m.cmp(v);if(F<0){var $=m;m=v,v=$}else if(0===F||0===v.cmpn(1))break;m.isub(v)}return v.iushln(M)},x.prototype.invm=function(l){return this.egcd(l).a.umod(l)},x.prototype.isEven=function(){return 0==(1&this.words[0])},x.prototype.isOdd=function(){return 1==(1&this.words[0])},x.prototype.andln=function(l){return this.words[0]&l},x.prototype.bincn=function(l){Y("number"==typeof l);var m=l%26,v=(l-m)/26,M=1<<m;if(this.length<=v)return this._expand(v+1),this.words[v]|=M,this;for(var F=M,$=v;0!==F&&$<this.length;$++){var W=0|this.words[$];F=(W+=F)>>>26,this.words[$]=W&=67108863}return 0!==F&&(this.words[$]=F,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(l){var v,m=l<0;if(0!==this.negative&&!m)return-1;if(0===this.negative&&m)return 1;if(this._strip(),this.length>1)v=1;else{m&&(l=-l),Y(l<=67108863,"Number is too big");var M=0|this.words[0];v=M===l?0:M<l?-1:1}return 0!==this.negative?0|-v:v},x.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var m=this.ucmp(l);return 0!==this.negative?0|-m:m},x.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var m=0,v=this.length-1;v>=0;v--){var M=0|this.words[v],F=0|l.words[v];if(M!==F){M<F?m=-1:M>F&&(m=1);break}}return m},x.prototype.gtn=function(l){return 1===this.cmpn(l)},x.prototype.gt=function(l){return 1===this.cmp(l)},x.prototype.gten=function(l){return this.cmpn(l)>=0},x.prototype.gte=function(l){return this.cmp(l)>=0},x.prototype.ltn=function(l){return-1===this.cmpn(l)},x.prototype.lt=function(l){return-1===this.cmp(l)},x.prototype.lten=function(l){return this.cmpn(l)<=0},x.prototype.lte=function(l){return this.cmp(l)<=0},x.prototype.eqn=function(l){return 0===this.cmpn(l)},x.prototype.eq=function(l){return 0===this.cmp(l)},x.red=function(l){return new lt(l)},x.prototype.toRed=function(l){return Y(!this.red,"Already a number in reduction context"),Y(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},x.prototype.fromRed=function(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(l){return this.red=l,this},x.prototype.forceRed=function(l){return Y(!this.red,"Already a number in reduction context"),this._forceRed(l)},x.prototype.redAdd=function(l){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},x.prototype.redIAdd=function(l){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},x.prototype.redSub=function(l){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},x.prototype.redISub=function(l){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},x.prototype.redShl=function(l){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},x.prototype.redMul=function(l){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},x.prototype.redIMul=function(l){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},x.prototype.redSqr=function(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(l){return Y(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var Rt={k256:null,p224:null,p192:null,p25519:null};function re(C,l){this.name=C,this.p=new x(l,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Jt(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Be(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function rt(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function lt(C){if("string"==typeof C){var l=x._prime(C);this.m=l.p,this.prime=l}else Y(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function mt(C){lt.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}re.prototype._tmp=function(){var l=new x(null);return l.words=new Array(Math.ceil(this.n/13)),l},re.prototype.ireduce=function(l){var v,m=l;do{this.split(m,this.tmp),v=(m=(m=this.imulK(m)).iadd(this.tmp)).bitLength()}while(v>this.n);var M=v<this.n?-1:m.ucmp(this.p);return 0===M?(m.words[0]=0,m.length=1):M>0?m.isub(this.p):void 0!==m.strip?m.strip():m._strip(),m},re.prototype.split=function(l,m){l.iushrn(this.n,0,m)},re.prototype.imulK=function(l){return l.imul(this.k)},ut(Jt,re),Jt.prototype.split=function(l,m){for(var v=4194303,M=Math.min(l.length,9),F=0;F<M;F++)m.words[F]=l.words[F];if(m.length=M,l.length<=9)return l.words[0]=0,void(l.length=1);var $=l.words[9];for(m.words[m.length++]=$&v,F=10;F<l.length;F++){var W=0|l.words[F];l.words[F-10]=(W&v)<<4|$>>>22,$=W}l.words[F-10]=$>>>=22,l.length-=0===$&&l.length>10?10:9},Jt.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var m=0,v=0;v<l.length;v++){var M=0|l.words[v];l.words[v]=67108863&(m+=977*M),m=64*M+(m/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},ut(Be,re),ut(xt,re),ut(rt,re),rt.prototype.imulK=function(l){for(var m=0,v=0;v<l.length;v++){var M=19*(0|l.words[v])+m,F=67108863&M;M>>>=26,l.words[v]=F,m=M}return 0!==m&&(l.words[l.length++]=m),l},x._prime=function(l){if(Rt[l])return Rt[l];var m;if("k256"===l)m=new Jt;else if("p224"===l)m=new Be;else if("p192"===l)m=new xt;else{if("p25519"!==l)throw new Error("Unknown prime "+l);m=new rt}return Rt[l]=m,m},lt.prototype._verify1=function(l){Y(0===l.negative,"red works only with positives"),Y(l.red,"red works only with red numbers")},lt.prototype._verify2=function(l,m){Y(0==(l.negative|m.negative),"red works only with positives"),Y(l.red&&l.red===m.red,"red works only with red numbers")},lt.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(qt(l,l.umod(this.m)._forceRed(this)),l)},lt.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},lt.prototype.add=function(l,m){this._verify2(l,m);var v=l.add(m);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},lt.prototype.iadd=function(l,m){this._verify2(l,m);var v=l.iadd(m);return v.cmp(this.m)>=0&&v.isub(this.m),v},lt.prototype.sub=function(l,m){this._verify2(l,m);var v=l.sub(m);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},lt.prototype.isub=function(l,m){this._verify2(l,m);var v=l.isub(m);return v.cmpn(0)<0&&v.iadd(this.m),v},lt.prototype.shl=function(l,m){return this._verify1(l),this.imod(l.ushln(m))},lt.prototype.imul=function(l,m){return this._verify2(l,m),this.imod(l.imul(m))},lt.prototype.mul=function(l,m){return this._verify2(l,m),this.imod(l.mul(m))},lt.prototype.isqr=function(l){return this.imul(l,l.clone())},lt.prototype.sqr=function(l){return this.mul(l,l)},lt.prototype.sqrt=function(l){if(l.isZero())return l.clone();var m=this.m.andln(3);if(Y(m%2==1),3===m){var v=this.m.add(new x(1)).iushrn(2);return this.pow(l,v)}for(var M=this.m.subn(1),F=0;!M.isZero()&&0===M.andln(1);)F++,M.iushrn(1);Y(!M.isZero());var $=new x(1).toRed(this),W=$.redNeg(),T=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,T).cmp(W);)d.redIAdd(W);for(var B=this.pow(d,M),k=this.pow(l,M.addn(1).iushrn(1)),A=this.pow(l,M),N=F;0!==A.cmp($);){for(var V=A,X=0;0!==V.cmp($);X++)V=V.redSqr();Y(X<N);var Kt=this.pow(B,new x(1).iushln(N-X-1));k=k.redMul(Kt),B=Kt.redSqr(),A=A.redMul(B),N=X}return k},lt.prototype.invm=function(l){var m=l._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},lt.prototype.pow=function(l,m){if(m.isZero())return new x(1).toRed(this);if(0===m.cmpn(1))return l.clone();var M=new Array(16);M[0]=new x(1).toRed(this),M[1]=l;for(var F=2;F<M.length;F++)M[F]=this.mul(M[F-1],l);var $=M[0],W=0,T=0,d=m.bitLength()%26;for(0===d&&(d=26),F=m.length-1;F>=0;F--){for(var B=m.words[F],k=d-1;k>=0;k--){var A=B>>k&1;$!==M[0]&&($=this.sqr($)),0!==A||0!==W?(W<<=1,W|=A,(4==++T||0===F&&0===k)&&($=this.mul($,M[W]),T=0,W=0)):T=0}d=26}return $},lt.prototype.convertTo=function(l){var m=l.umod(this.m);return m===l?m.clone():m},lt.prototype.convertFrom=function(l){var m=l.clone();return m.red=null,m},x.mont=function(l){return new mt(l)},ut(mt,lt),mt.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},mt.prototype.convertFrom=function(l){var m=this.imod(l.mul(this.rinv));return m.red=null,m},mt.prototype.imul=function(l,m){if(l.isZero()||m.isZero())return l.words[0]=0,l.length=1,l;var v=l.imul(m),M=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=v.isub(M).iushrn(this.shift),$=F;return F.cmp(this.m)>=0?$=F.isub(this.m):F.cmpn(0)<0&&($=F.iadd(this.m)),$._forceRed(this)},mt.prototype.mul=function(l,m){if(l.isZero()||m.isZero())return new x(0)._forceRed(this);var v=l.mul(m),M=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=v.isub(M).iushrn(this.shift),$=F;return F.cmp(this.m)>=0?$=F.isub(this.m):F.cmpn(0)<0&&($=F.iadd(this.m)),$._forceRed(this)},mt.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Pe=wt.nmd(Pe),this)},1531:function(Pe,Bt,wt){"use strict";var D=this&&this.__createBinding||(Object.create?function(xt,rt,lt,mt){void 0===mt&&(mt=lt),Object.defineProperty(xt,mt,{enumerable:!0,get:function(){return rt[lt]}})}:function(xt,rt,lt,mt){void 0===mt&&(mt=lt),xt[mt]=rt[lt]}),Ut=this&&this.__setModuleDefault||(Object.create?function(xt,rt){Object.defineProperty(xt,"default",{enumerable:!0,value:rt})}:function(xt,rt){xt.default=rt}),Y=this&&this.__decorate||function(xt,rt,lt,mt){var m,C=arguments.length,l=C<3?rt:null===mt?mt=Object.getOwnPropertyDescriptor(rt,lt):mt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(xt,rt,lt,mt);else for(var v=xt.length-1;v>=0;v--)(m=xt[v])&&(l=(C<3?m(l):C>3?m(rt,lt,l):m(rt,lt))||l);return C>3&&l&&Object.defineProperty(rt,lt,l),l},ut=this&&this.__importStar||function(xt){if(xt&&xt.__esModule)return xt;var rt={};if(null!=xt)for(var lt in xt)"default"!==lt&&Object.hasOwnProperty.call(xt,lt)&&D(rt,xt,lt);return Ut(rt,xt),rt},x=this&&this.__importDefault||function(xt){return xt&&xt.__esModule?xt:{default:xt}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.deserializeUnchecked=Bt.deserialize=Bt.serialize=Bt.BinaryReader=Bt.BinaryWriter=Bt.BorshError=Bt.baseDecode=Bt.baseEncode=void 0;const f=x(wt(8538)),E=x(wt(129)),I=ut(wt(2949)),qt=new("function"!=typeof TextDecoder?I.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Bt.baseEncode=function Ft(xt){return"string"==typeof xt&&(xt=Buffer.from(xt,"utf8")),E.default.encode(Buffer.from(xt))},Bt.baseDecode=function Dt(xt){return Buffer.from(E.default.decode(xt))};class Q extends Error{constructor(rt){super(rt),this.fieldPath=[],this.originalMessage=rt}addToFieldPath(rt){this.fieldPath.splice(0,0,rt),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Bt.BorshError=Q;class zt{constructor(){this.buf=Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(1024)]))}writeU8(rt){this.maybeResize(),this.buf.writeUInt8(rt,this.length),this.length+=1}writeU16(rt){this.maybeResize(),this.buf.writeUInt16LE(rt,this.length),this.length+=2}writeU32(rt){this.maybeResize(),this.buf.writeUInt32LE(rt,this.length),this.length+=4}writeU64(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",8)))}writeU128(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",16)))}writeU256(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",32)))}writeU512(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",64)))}writeBuffer(rt){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),rt,Buffer.alloc(1024)]),this.length+=rt.length}writeString(rt){this.maybeResize();const lt=Buffer.from(rt,"utf8");this.writeU32(lt.length),this.writeBuffer(lt)}writeFixedArray(rt){this.writeBuffer(Buffer.from(rt))}writeArray(rt,lt){this.maybeResize(),this.writeU32(rt.length);for(const mt of rt)this.maybeResize(),lt(mt)}toArray(){return this.buf.subarray(0,this.length)}}function at(xt,rt,lt){const mt=lt.value;lt.value=function(...C){try{return mt.apply(this,C)}catch(l){if(l instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(l.code)>=0)throw new Q("Reached the end of buffer when deserializing");throw l}}}Bt.BinaryWriter=zt;class et{constructor(rt){this.buf=rt,this.offset=0}readU8(){const rt=this.buf.readUInt8(this.offset);return this.offset+=1,rt}readU16(){const rt=this.buf.readUInt16LE(this.offset);return this.offset+=2,rt}readU32(){const rt=this.buf.readUInt32LE(this.offset);return this.offset+=4,rt}readU64(){const rt=this.readBuffer(8);return new f.default(rt,"le")}readU128(){const rt=this.readBuffer(16);return new f.default(rt,"le")}readU256(){const rt=this.readBuffer(32);return new f.default(rt,"le")}readU512(){const rt=this.readBuffer(64);return new f.default(rt,"le")}readBuffer(rt){if(this.offset+rt>this.buf.length)throw new Q(`Expected buffer length ${rt} isn't within bounds`);const lt=this.buf.slice(this.offset,this.offset+rt);return this.offset+=rt,lt}readString(){const rt=this.readU32(),lt=this.readBuffer(rt);try{return qt.decode(lt)}catch(mt){throw new Q(`Error decoding UTF-8 string: ${mt}`)}}readFixedArray(rt){return new Uint8Array(this.readBuffer(rt))}readArray(rt){const lt=this.readU32(),mt=Array();for(let C=0;C<lt;++C)mt.push(rt());return mt}}function At(xt){return xt.charAt(0).toUpperCase()+xt.slice(1)}function bt(xt,rt,lt,mt,C){try{if("string"==typeof mt)C[`write${At(mt)}`](lt);else if(mt instanceof Array)if("number"==typeof mt[0]){if(lt.length!==mt[0])throw new Q(`Expecting byte array of length ${mt[0]}, but got ${lt.length} bytes`);C.writeFixedArray(lt)}else if(2===mt.length&&"number"==typeof mt[1]){if(lt.length!==mt[1])throw new Q(`Expecting byte array of length ${mt[1]}, but got ${lt.length} bytes`);for(let l=0;l<mt[1];l++)bt(xt,null,lt[l],mt[0],C)}else C.writeArray(lt,l=>{bt(xt,rt,l,mt[0],C)});else if(void 0!==mt.kind)switch(mt.kind){case"option":null==lt?C.writeU8(0):(C.writeU8(1),bt(xt,rt,lt,mt.type,C));break;case"map":C.writeU32(lt.size),lt.forEach((l,m)=>{bt(xt,rt,m,mt.key,C),bt(xt,rt,l,mt.value,C)});break;default:throw new Q(`FieldType ${mt} unrecognized`)}else Lt(xt,lt,C)}catch(l){throw l instanceof Q&&l.addToFieldPath(rt),l}}function Lt(xt,rt,lt){if("function"==typeof rt.borshSerialize)return void rt.borshSerialize(lt);const mt=xt.get(rt.constructor);if(!mt)throw new Q(`Class ${rt.constructor.name} is missing in schema`);if("struct"===mt.kind)mt.fields.map(([C,l])=>{bt(xt,C,rt[C],l,lt)});else{if("enum"!==mt.kind)throw new Q(`Unexpected schema kind: ${mt.kind} for ${rt.constructor.name}`);{const C=rt[mt.field];for(let l=0;l<mt.values.length;++l){const[m,v]=mt.values[l];if(m===C){lt.writeU8(l),bt(xt,m,rt[m],v,lt);break}}}}}function Rt(xt,rt,lt,mt){try{if("string"==typeof lt)return mt[`read${At(lt)}`]();if(lt instanceof Array){if("number"==typeof lt[0])return mt.readFixedArray(lt[0]);if("number"==typeof lt[1]){const C=[];for(let l=0;l<lt[1];l++)C.push(Rt(xt,null,lt[0],mt));return C}return mt.readArray(()=>Rt(xt,rt,lt[0],mt))}if("option"===lt.kind)return mt.readU8()?Rt(xt,rt,lt.type,mt):void 0;if("map"===lt.kind){let C=new Map;const l=mt.readU32();for(let m=0;m<l;m++){const v=Rt(xt,rt,lt.key,mt),M=Rt(xt,rt,lt.value,mt);C.set(v,M)}return C}return re(xt,lt,mt)}catch(C){throw C instanceof Q&&C.addToFieldPath(rt),C}}function re(xt,rt,lt){if("function"==typeof rt.borshDeserialize)return rt.borshDeserialize(lt);const mt=xt.get(rt);if(!mt)throw new Q(`Class ${rt.name} is missing in schema`);if("struct"===mt.kind){const C={};for(const[l,m]of xt.get(rt).fields)C[l]=Rt(xt,l,m,lt);return new rt(C)}if("enum"===mt.kind){const C=lt.readU8();if(C>=mt.values.length)throw new Q(`Enum index: ${C} is out of range`);const[l,m]=mt.values[C];return new rt({[l]:Rt(xt,l,m,lt)})}throw new Q(`Unexpected schema kind: ${mt.kind} for ${rt.constructor.name}`)}Y([at],et.prototype,"readU8",null),Y([at],et.prototype,"readU16",null),Y([at],et.prototype,"readU32",null),Y([at],et.prototype,"readU64",null),Y([at],et.prototype,"readU128",null),Y([at],et.prototype,"readU256",null),Y([at],et.prototype,"readU512",null),Y([at],et.prototype,"readString",null),Y([at],et.prototype,"readFixedArray",null),Y([at],et.prototype,"readArray",null),Bt.BinaryReader=et,Bt.serialize=function yt(xt,rt,lt=zt){const mt=new lt;return Lt(xt,rt,mt),mt.toArray()},Bt.deserialize=function Jt(xt,rt,lt,mt=et){const C=new mt(lt),l=re(xt,rt,C);if(C.offset<lt.length)throw new Q(`Unexpected ${lt.length-C.offset} bytes after deserialized data`);return l},Bt.deserializeUnchecked=function Be(xt,rt,lt,mt=et){return re(xt,rt,new mt(lt))}},129:(Pe,Bt,wt)=>{var D=wt(1082);Pe.exports=D("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3172:(Pe,Bt,wt)=>{"use strict";var D=wt(5343),Ut=wt(8461),Y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.Buffer=E,Bt.SlowBuffer=function At(P){return+P!=P&&(P=0),E.alloc(+P)},Bt.INSPECT_MAX_BYTES=50;var ut=2147483647;function f(P){if(P>ut)throw new RangeError('The value "'+P+'" is invalid for option "size"');var g=new Uint8Array(P);return Object.setPrototypeOf(g,E.prototype),g}function E(P,g,w){if("number"==typeof P){if("string"==typeof g)throw new TypeError('The "string" argument must be of type string. Received type number');return Ft(P)}return I(P,g,w)}function I(P,g,w){if("string"==typeof P)return function Dt(P,g){if(("string"!=typeof g||""===g)&&(g="utf8"),!E.isEncoding(g))throw new TypeError("Unknown encoding: "+g);var w=0|bt(P,g),O=f(w),Z=O.write(P,g);return Z!==w&&(O=O.slice(0,Z)),O}(P,g);if(ArrayBuffer.isView(P))return function Q(P){if(ne(P,Uint8Array)){var g=new Uint8Array(P);return zt(g.buffer,g.byteOffset,g.byteLength)}return ct(P)}(P);if(null==P)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(ne(P,ArrayBuffer)||P&&ne(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(P,SharedArrayBuffer)||P&&ne(P.buffer,SharedArrayBuffer)))return zt(P,g,w);if("number"==typeof P)throw new TypeError('The "value" argument must not be of type number. Received type number');var O=P.valueOf&&P.valueOf();if(null!=O&&O!==P)return E.from(O,g,w);var Z=function at(P){if(E.isBuffer(P)){var g=0|et(P.length),w=f(g);return 0===w.length||P.copy(w,0,0,g),w}return void 0!==P.length?"number"!=typeof P.length||Ae(P.length)?f(0):ct(P):"Buffer"===P.type&&Array.isArray(P.data)?ct(P.data):void 0}(P);if(Z)return Z;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof P[Symbol.toPrimitive])return E.from(P[Symbol.toPrimitive]("string"),g,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function nt(P){if("number"!=typeof P)throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function Ft(P){return nt(P),f(P<0?0:0|et(P))}function ct(P){for(var g=P.length<0?0:0|et(P.length),w=f(g),O=0;O<g;O+=1)w[O]=255&P[O];return w}function zt(P,g,w){if(g<0||P.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<g+(w||0))throw new RangeError('"length" is outside of buffer bounds');var O;return O=void 0===g&&void 0===w?new Uint8Array(P):void 0===w?new Uint8Array(P,g):new Uint8Array(P,g,w),Object.setPrototypeOf(O,E.prototype),O}function et(P){if(P>=ut)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ut.toString(16)+" bytes");return 0|P}function bt(P,g){if(E.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||ne(P,ArrayBuffer))return P.byteLength;if("string"!=typeof P)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var w=P.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===w)return 0;for(var Z=!1;;)switch(g){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return V(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*w;case"hex":return w>>>1;case"base64":return ae(P).length;default:if(Z)return O?-1:V(P).length;g=(""+g).toLowerCase(),Z=!0}}function Lt(P,g,w){var O=!1;if((void 0===g||g<0)&&(g=0),g>this.length||((void 0===w||w>this.length)&&(w=this.length),w<=0)||(w>>>=0)<=(g>>>=0))return"";for(P||(P="utf8");;)switch(P){case"hex":return F(this,g,w);case"utf8":case"utf-8":return C(this,g,w);case"ascii":return v(this,g,w);case"latin1":case"binary":return M(this,g,w);case"base64":return mt(this,g,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,g,w);default:if(O)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),O=!0}}function yt(P,g,w){var O=P[g];P[g]=P[w],P[w]=O}function Rt(P,g,w,O,Z){if(0===P.length)return-1;if("string"==typeof w?(O=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),Ae(w=+w)&&(w=Z?0:P.length-1),w<0&&(w=P.length+w),w>=P.length){if(Z)return-1;w=P.length-1}else if(w<0){if(!Z)return-1;w=0}if("string"==typeof g&&(g=E.from(g,O)),E.isBuffer(g))return 0===g.length?-1:re(P,g,w,O,Z);if("number"==typeof g)return g&=255,"function"==typeof Uint8Array.prototype.indexOf?Z?Uint8Array.prototype.indexOf.call(P,g,w):Uint8Array.prototype.lastIndexOf.call(P,g,w):re(P,[g],w,O,Z);throw new TypeError("val must be string, number or Buffer")}function re(P,g,w,O,Z){var Yt,it=1,ot=P.length,Ht=g.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(P.length<2||g.length<2)return-1;it=2,ot/=2,Ht/=2,w/=2}function jt(n,r){return 1===it?n[r]:n.readUInt16BE(r*it)}if(Z){var ue=-1;for(Yt=w;Yt<ot;Yt++)if(jt(P,Yt)===jt(g,-1===ue?0:Yt-ue)){if(-1===ue&&(ue=Yt),Yt-ue+1===Ht)return ue*it}else-1!==ue&&(Yt-=Yt-ue),ue=-1}else for(w+Ht>ot&&(w=ot-Ht),Yt=w;Yt>=0;Yt--){for(var S=!0,s=0;s<Ht;s++)if(jt(P,Yt+s)!==jt(g,s)){S=!1;break}if(S)return Yt}return-1}function Jt(P,g,w,O){w=Number(w)||0;var Z=P.length-w;O?(O=Number(O))>Z&&(O=Z):O=Z;var it=g.length;O>it/2&&(O=it/2);for(var ot=0;ot<O;++ot){var Ht=parseInt(g.substr(2*ot,2),16);if(Ae(Ht))return ot;P[w+ot]=Ht}return ot}function Be(P,g,w,O){return oe(V(g,P.length-w),P,w,O)}function xt(P,g,w,O){return oe(function X(P){for(var g=[],w=0;w<P.length;++w)g.push(255&P.charCodeAt(w));return g}(g),P,w,O)}function rt(P,g,w,O){return oe(ae(g),P,w,O)}function lt(P,g,w,O){return oe(function Kt(P,g){for(var w,O,it=[],ot=0;ot<P.length&&!((g-=2)<0);++ot)O=(w=P.charCodeAt(ot))>>8,it.push(w%256),it.push(O);return it}(g,P.length-w),P,w,O)}function mt(P,g,w){return D.fromByteArray(0===g&&w===P.length?P:P.slice(g,w))}function C(P,g,w){w=Math.min(P.length,w);for(var O=[],Z=g;Z<w;){var jt,Yt,ue,S,it=P[Z],ot=null,Ht=it>239?4:it>223?3:it>191?2:1;if(Z+Ht<=w)switch(Ht){case 1:it<128&&(ot=it);break;case 2:128==(192&(jt=P[Z+1]))&&(S=(31&it)<<6|63&jt)>127&&(ot=S);break;case 3:Yt=P[Z+2],128==(192&(jt=P[Z+1]))&&128==(192&Yt)&&(S=(15&it)<<12|(63&jt)<<6|63&Yt)>2047&&(S<55296||S>57343)&&(ot=S);break;case 4:Yt=P[Z+2],ue=P[Z+3],128==(192&(jt=P[Z+1]))&&128==(192&Yt)&&128==(192&ue)&&(S=(15&it)<<18|(63&jt)<<12|(63&Yt)<<6|63&ue)>65535&&S<1114112&&(ot=S)}null===ot?(ot=65533,Ht=1):ot>65535&&(O.push((ot-=65536)>>>10&1023|55296),ot=56320|1023&ot),O.push(ot),Z+=Ht}return function m(P){var g=P.length;if(g<=l)return String.fromCharCode.apply(String,P);for(var w="",O=0;O<g;)w+=String.fromCharCode.apply(String,P.slice(O,O+=l));return w}(O)}Bt.kMaxLength=ut,!(E.TYPED_ARRAY_SUPPORT=function x(){try{var P=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(P,g),42===P.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}}),E.poolSize=8192,E.from=function(P,g,w){return I(P,g,w)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array),E.alloc=function(P,g,w){return function qt(P,g,w){return nt(P),P<=0?f(P):void 0!==g?"string"==typeof w?f(P).fill(g,w):f(P).fill(g):f(P)}(P,g,w)},E.allocUnsafe=function(P){return Ft(P)},E.allocUnsafeSlow=function(P){return Ft(P)},E.isBuffer=function(g){return null!=g&&!0===g._isBuffer&&g!==E.prototype},E.compare=function(g,w){if(ne(g,Uint8Array)&&(g=E.from(g,g.offset,g.byteLength)),ne(w,Uint8Array)&&(w=E.from(w,w.offset,w.byteLength)),!E.isBuffer(g)||!E.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===w)return 0;for(var O=g.length,Z=w.length,it=0,ot=Math.min(O,Z);it<ot;++it)if(g[it]!==w[it]){O=g[it],Z=w[it];break}return O<Z?-1:Z<O?1:0},E.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(g,w){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(0===g.length)return E.alloc(0);var O;if(void 0===w)for(w=0,O=0;O<g.length;++O)w+=g[O].length;var Z=E.allocUnsafe(w),it=0;for(O=0;O<g.length;++O){var ot=g[O];if(ne(ot,Uint8Array))it+ot.length>Z.length?E.from(ot).copy(Z,it):Uint8Array.prototype.set.call(Z,ot,it);else{if(!E.isBuffer(ot))throw new TypeError('"list" argument must be an Array of Buffers');ot.copy(Z,it)}it+=ot.length}return Z},E.byteLength=bt,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var g=this.length;if(g%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<g;w+=2)yt(this,w,w+1);return this},E.prototype.swap32=function(){var g=this.length;if(g%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<g;w+=4)yt(this,w,w+3),yt(this,w+1,w+2);return this},E.prototype.swap64=function(){var g=this.length;if(g%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<g;w+=8)yt(this,w,w+7),yt(this,w+1,w+6),yt(this,w+2,w+5),yt(this,w+3,w+4);return this},E.prototype.toLocaleString=E.prototype.toString=function(){var g=this.length;return 0===g?"":0===arguments.length?C(this,0,g):Lt.apply(this,arguments)},E.prototype.equals=function(g){if(!E.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g||0===E.compare(this,g)},E.prototype.inspect=function(){var g="",w=Bt.INSPECT_MAX_BYTES;return g=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(g+=" ... "),"<Buffer "+g+">"},Y&&(E.prototype[Y]=E.prototype.inspect),E.prototype.compare=function(g,w,O,Z,it){if(ne(g,Uint8Array)&&(g=E.from(g,g.offset,g.byteLength)),!E.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(void 0===w&&(w=0),void 0===O&&(O=g?g.length:0),void 0===Z&&(Z=0),void 0===it&&(it=this.length),w<0||O>g.length||Z<0||it>this.length)throw new RangeError("out of range index");if(Z>=it&&w>=O)return 0;if(Z>=it)return-1;if(w>=O)return 1;if(this===g)return 0;for(var ot=(it>>>=0)-(Z>>>=0),Ht=(O>>>=0)-(w>>>=0),jt=Math.min(ot,Ht),Yt=this.slice(Z,it),ue=g.slice(w,O),S=0;S<jt;++S)if(Yt[S]!==ue[S]){ot=Yt[S],Ht=ue[S];break}return ot<Ht?-1:Ht<ot?1:0},E.prototype.includes=function(g,w,O){return-1!==this.indexOf(g,w,O)},E.prototype.indexOf=function(g,w,O){return Rt(this,g,w,O,!0)},E.prototype.lastIndexOf=function(g,w,O){return Rt(this,g,w,O,!1)},E.prototype.write=function(g,w,O,Z){if(void 0===w)Z="utf8",O=this.length,w=0;else if(void 0===O&&"string"==typeof w)Z=w,O=this.length,w=0;else{if(!isFinite(w))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");w>>>=0,isFinite(O)?(O>>>=0,void 0===Z&&(Z="utf8")):(Z=O,O=void 0)}var it=this.length-w;if((void 0===O||O>it)&&(O=it),g.length>0&&(O<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ot=!1;;)switch(Z){case"hex":return Jt(this,g,w,O);case"utf8":case"utf-8":return Be(this,g,w,O);case"ascii":case"latin1":case"binary":return xt(this,g,w,O);case"base64":return rt(this,g,w,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,g,w,O);default:if(ot)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ot=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var l=4096;function v(P,g,w){var O="";w=Math.min(P.length,w);for(var Z=g;Z<w;++Z)O+=String.fromCharCode(127&P[Z]);return O}function M(P,g,w){var O="";w=Math.min(P.length,w);for(var Z=g;Z<w;++Z)O+=String.fromCharCode(P[Z]);return O}function F(P,g,w){var O=P.length;(!g||g<0)&&(g=0),(!w||w<0||w>O)&&(w=O);for(var Z="",it=g;it<w;++it)Z+=fe[P[it]];return Z}function $(P,g,w){for(var O=P.slice(g,w),Z="",it=0;it<O.length-1;it+=2)Z+=String.fromCharCode(O[it]+256*O[it+1]);return Z}function W(P,g,w){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+g>w)throw new RangeError("Trying to access beyond buffer length")}function T(P,g,w,O,Z,it){if(!E.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>Z||g<it)throw new RangeError('"value" argument is out of bounds');if(w+O>P.length)throw new RangeError("Index out of range")}function d(P,g,w,O,Z,it){if(w+O>P.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function B(P,g,w,O,Z){return g=+g,w>>>=0,Z||d(P,0,w,4),Ut.write(P,g,w,O,23,4),w+4}function k(P,g,w,O,Z){return g=+g,w>>>=0,Z||d(P,0,w,8),Ut.write(P,g,w,O,52,8),w+8}E.prototype.slice=function(g,w){var O=this.length;(g=~~g)<0?(g+=O)<0&&(g=0):g>O&&(g=O),(w=void 0===w?O:~~w)<0?(w+=O)<0&&(w=0):w>O&&(w=O),w<g&&(w=g);var Z=this.subarray(g,w);return Object.setPrototypeOf(Z,E.prototype),Z},E.prototype.readUintLE=E.prototype.readUIntLE=function(g,w,O){g>>>=0,w>>>=0,O||W(g,w,this.length);for(var Z=this[g],it=1,ot=0;++ot<w&&(it*=256);)Z+=this[g+ot]*it;return Z},E.prototype.readUintBE=E.prototype.readUIntBE=function(g,w,O){g>>>=0,w>>>=0,O||W(g,w,this.length);for(var Z=this[g+--w],it=1;w>0&&(it*=256);)Z+=this[g+--w]*it;return Z},E.prototype.readUint8=E.prototype.readUInt8=function(g,w){return g>>>=0,w||W(g,1,this.length),this[g]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(g,w){return g>>>=0,w||W(g,2,this.length),this[g]|this[g+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(g,w){return g>>>=0,w||W(g,2,this.length),this[g]<<8|this[g+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(g,w){return g>>>=0,w||W(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+16777216*this[g+3]},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(g,w){return g>>>=0,w||W(g,4,this.length),16777216*this[g]+(this[g+1]<<16|this[g+2]<<8|this[g+3])},E.prototype.readIntLE=function(g,w,O){g>>>=0,w>>>=0,O||W(g,w,this.length);for(var Z=this[g],it=1,ot=0;++ot<w&&(it*=256);)Z+=this[g+ot]*it;return Z>=(it*=128)&&(Z-=Math.pow(2,8*w)),Z},E.prototype.readIntBE=function(g,w,O){g>>>=0,w>>>=0,O||W(g,w,this.length);for(var Z=w,it=1,ot=this[g+--Z];Z>0&&(it*=256);)ot+=this[g+--Z]*it;return ot>=(it*=128)&&(ot-=Math.pow(2,8*w)),ot},E.prototype.readInt8=function(g,w){return g>>>=0,w||W(g,1,this.length),128&this[g]?-1*(255-this[g]+1):this[g]},E.prototype.readInt16LE=function(g,w){g>>>=0,w||W(g,2,this.length);var O=this[g]|this[g+1]<<8;return 32768&O?4294901760|O:O},E.prototype.readInt16BE=function(g,w){g>>>=0,w||W(g,2,this.length);var O=this[g+1]|this[g]<<8;return 32768&O?4294901760|O:O},E.prototype.readInt32LE=function(g,w){return g>>>=0,w||W(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},E.prototype.readInt32BE=function(g,w){return g>>>=0,w||W(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},E.prototype.readFloatLE=function(g,w){return g>>>=0,w||W(g,4,this.length),Ut.read(this,g,!0,23,4)},E.prototype.readFloatBE=function(g,w){return g>>>=0,w||W(g,4,this.length),Ut.read(this,g,!1,23,4)},E.prototype.readDoubleLE=function(g,w){return g>>>=0,w||W(g,8,this.length),Ut.read(this,g,!0,52,8)},E.prototype.readDoubleBE=function(g,w){return g>>>=0,w||W(g,8,this.length),Ut.read(this,g,!1,52,8)},E.prototype.writeUintLE=E.prototype.writeUIntLE=function(g,w,O,Z){g=+g,w>>>=0,O>>>=0,Z||T(this,g,w,O,Math.pow(2,8*O)-1,0);var ot=1,Ht=0;for(this[w]=255&g;++Ht<O&&(ot*=256);)this[w+Ht]=g/ot&255;return w+O},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(g,w,O,Z){g=+g,w>>>=0,O>>>=0,Z||T(this,g,w,O,Math.pow(2,8*O)-1,0);var ot=O-1,Ht=1;for(this[w+ot]=255&g;--ot>=0&&(Ht*=256);)this[w+ot]=g/Ht&255;return w+O},E.prototype.writeUint8=E.prototype.writeUInt8=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,1,255,0),this[w]=255&g,w+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,2,65535,0),this[w]=255&g,this[w+1]=g>>>8,w+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,2,65535,0),this[w]=g>>>8,this[w+1]=255&g,w+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,4,4294967295,0),this[w+3]=g>>>24,this[w+2]=g>>>16,this[w+1]=g>>>8,this[w]=255&g,w+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,4,4294967295,0),this[w]=g>>>24,this[w+1]=g>>>16,this[w+2]=g>>>8,this[w+3]=255&g,w+4},E.prototype.writeIntLE=function(g,w,O,Z){if(g=+g,w>>>=0,!Z){var it=Math.pow(2,8*O-1);T(this,g,w,O,it-1,-it)}var ot=0,Ht=1,jt=0;for(this[w]=255&g;++ot<O&&(Ht*=256);)g<0&&0===jt&&0!==this[w+ot-1]&&(jt=1),this[w+ot]=(g/Ht>>0)-jt&255;return w+O},E.prototype.writeIntBE=function(g,w,O,Z){if(g=+g,w>>>=0,!Z){var it=Math.pow(2,8*O-1);T(this,g,w,O,it-1,-it)}var ot=O-1,Ht=1,jt=0;for(this[w+ot]=255&g;--ot>=0&&(Ht*=256);)g<0&&0===jt&&0!==this[w+ot+1]&&(jt=1),this[w+ot]=(g/Ht>>0)-jt&255;return w+O},E.prototype.writeInt8=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,1,127,-128),g<0&&(g=255+g+1),this[w]=255&g,w+1},E.prototype.writeInt16LE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,2,32767,-32768),this[w]=255&g,this[w+1]=g>>>8,w+2},E.prototype.writeInt16BE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,2,32767,-32768),this[w]=g>>>8,this[w+1]=255&g,w+2},E.prototype.writeInt32LE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,4,2147483647,-2147483648),this[w]=255&g,this[w+1]=g>>>8,this[w+2]=g>>>16,this[w+3]=g>>>24,w+4},E.prototype.writeInt32BE=function(g,w,O){return g=+g,w>>>=0,O||T(this,g,w,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[w]=g>>>24,this[w+1]=g>>>16,this[w+2]=g>>>8,this[w+3]=255&g,w+4},E.prototype.writeFloatLE=function(g,w,O){return B(this,g,w,!0,O)},E.prototype.writeFloatBE=function(g,w,O){return B(this,g,w,!1,O)},E.prototype.writeDoubleLE=function(g,w,O){return k(this,g,w,!0,O)},E.prototype.writeDoubleBE=function(g,w,O){return k(this,g,w,!1,O)},E.prototype.copy=function(g,w,O,Z){if(!E.isBuffer(g))throw new TypeError("argument should be a Buffer");if(O||(O=0),!Z&&0!==Z&&(Z=this.length),w>=g.length&&(w=g.length),w||(w=0),Z>0&&Z<O&&(Z=O),Z===O||0===g.length||0===this.length)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),g.length-w<Z-O&&(Z=g.length-w+O);var it=Z-O;return this===g&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(w,O,Z):Uint8Array.prototype.set.call(g,this.subarray(O,Z),w),it},E.prototype.fill=function(g,w,O,Z){if("string"==typeof g){if("string"==typeof w?(Z=w,w=0,O=this.length):"string"==typeof O&&(Z=O,O=this.length),void 0!==Z&&"string"!=typeof Z)throw new TypeError("encoding must be a string");if("string"==typeof Z&&!E.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(1===g.length){var it=g.charCodeAt(0);("utf8"===Z&&it<128||"latin1"===Z)&&(g=it)}}else"number"==typeof g?g&=255:"boolean"==typeof g&&(g=Number(g));if(w<0||this.length<w||this.length<O)throw new RangeError("Out of range index");if(O<=w)return this;var ot;if(w>>>=0,O=void 0===O?this.length:O>>>0,g||(g=0),"number"==typeof g)for(ot=w;ot<O;++ot)this[ot]=g;else{var Ht=E.isBuffer(g)?g:E.from(g,Z),jt=Ht.length;if(0===jt)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(ot=0;ot<O-w;++ot)this[ot+w]=Ht[ot%jt]}return this};var A=/[^+/0-9A-Za-z-_]/g;function V(P,g){g=g||1/0;for(var w,O=P.length,Z=null,it=[],ot=0;ot<O;++ot){if((w=P.charCodeAt(ot))>55295&&w<57344){if(!Z){if(w>56319){(g-=3)>-1&&it.push(239,191,189);continue}if(ot+1===O){(g-=3)>-1&&it.push(239,191,189);continue}Z=w;continue}if(w<56320){(g-=3)>-1&&it.push(239,191,189),Z=w;continue}w=65536+(Z-55296<<10|w-56320)}else Z&&(g-=3)>-1&&it.push(239,191,189);if(Z=null,w<128){if((g-=1)<0)break;it.push(w)}else if(w<2048){if((g-=2)<0)break;it.push(w>>6|192,63&w|128)}else if(w<65536){if((g-=3)<0)break;it.push(w>>12|224,w>>6&63|128,63&w|128)}else{if(!(w<1114112))throw new Error("Invalid code point");if((g-=4)<0)break;it.push(w>>18|240,w>>12&63|128,w>>6&63|128,63&w|128)}}return it}function ae(P){return D.toByteArray(function N(P){if((P=(P=P.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;P.length%4!=0;)P+="=";return P}(P))}function oe(P,g,w,O){for(var Z=0;Z<O&&!(Z+w>=g.length||Z>=P.length);++Z)g[Z+w]=P[Z];return Z}function ne(P,g){return P instanceof g||null!=P&&null!=P.constructor&&null!=P.constructor.name&&P.constructor.name===g.name}function Ae(P){return P!=P}var fe=function(){for(var P="0123456789abcdef",g=new Array(256),w=0;w<16;++w)for(var O=16*w,Z=0;Z<16;++Z)g[O+Z]=P[w]+P[Z];return g}()},8461:(Pe,Bt)=>{Bt.read=function(wt,D,Ut,Y,ut){var x,f,E=8*ut-Y-1,I=(1<<E)-1,nt=I>>1,qt=-7,Ft=Ut?ut-1:0,Dt=Ut?-1:1,ct=wt[D+Ft];for(Ft+=Dt,x=ct&(1<<-qt)-1,ct>>=-qt,qt+=E;qt>0;x=256*x+wt[D+Ft],Ft+=Dt,qt-=8);for(f=x&(1<<-qt)-1,x>>=-qt,qt+=Y;qt>0;f=256*f+wt[D+Ft],Ft+=Dt,qt-=8);if(0===x)x=1-nt;else{if(x===I)return f?NaN:1/0*(ct?-1:1);f+=Math.pow(2,Y),x-=nt}return(ct?-1:1)*f*Math.pow(2,x-Y)},Bt.write=function(wt,D,Ut,Y,ut,x){var f,E,I,nt=8*x-ut-1,qt=(1<<nt)-1,Ft=qt>>1,Dt=23===ut?Math.pow(2,-24)-Math.pow(2,-77):0,ct=Y?0:x-1,Q=Y?1:-1,zt=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(E=isNaN(D)?1:0,f=qt):(f=Math.floor(Math.log(D)/Math.LN2),D*(I=Math.pow(2,-f))<1&&(f--,I*=2),(D+=f+Ft>=1?Dt/I:Dt*Math.pow(2,1-Ft))*I>=2&&(f++,I/=2),f+Ft>=qt?(E=0,f=qt):f+Ft>=1?(E=(D*I-1)*Math.pow(2,ut),f+=Ft):(E=D*Math.pow(2,Ft-1)*Math.pow(2,ut),f=0));ut>=8;wt[Ut+ct]=255&E,ct+=Q,E/=256,ut-=8);for(f=f<<ut|E,nt+=ut;nt>0;wt[Ut+ct]=255&f,ct+=Q,f/=256,nt-=8);wt[Ut+ct-Q]|=128*zt}},3678:(Pe,Bt,wt)=>{"use strict";const D=wt(5955).v4,Ut=wt(6746),Y=function(ut,x){if(!(this instanceof Y))return new Y(ut,x);x||(x={}),this.options={reviver:typeof x.reviver<"u"?x.reviver:null,replacer:typeof x.replacer<"u"?x.replacer:null,generator:typeof x.generator<"u"?x.generator:function(){return D()},version:typeof x.version<"u"?x.version:2,notificationIdNull:"boolean"==typeof x.notificationIdNull&&x.notificationIdNull},this.callServer=ut};Pe.exports=Y,Y.prototype.request=function(ut,x,f,E){const I=this;let nt=null;const qt=Array.isArray(ut)&&"function"==typeof x;if(1===this.options.version&&qt)throw new TypeError("JSON-RPC 1.0 does not support batching");if(qt||!qt&&ut&&"object"==typeof ut&&"function"==typeof x)E=x,nt=ut;else{"function"==typeof f&&(E=f,f=void 0);const ct="function"==typeof E;try{nt=Ut(ut,x,f,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(Q){if(ct)return E(Q);throw Q}if(!ct)return nt}let Dt;try{Dt=JSON.stringify(nt,this.options.replacer)}catch(ct){return E(ct)}return this.callServer(Dt,function(ct,Q){I._parseResponse(ct,Q,E)}),nt},Y.prototype._parseResponse=function(ut,x,f){if(ut)return void f(ut);if(!x)return f();let E;try{E=JSON.parse(x,this.options.reviver)}catch(I){return f(I)}if(3===f.length){if(Array.isArray(E)){const I=function(qt){return typeof qt.error<"u"},nt=function(qt){return!I(qt)};return f(null,E.filter(I),E.filter(nt))}return f(null,E.error,E.result)}f(null,E)}},6746:(Pe,Bt,wt)=>{"use strict";const D=wt(5955).v4;Pe.exports=function(Y,ut,x,f){if("string"!=typeof Y)throw new TypeError(Y+" must be a string");const E="number"==typeof(f=f||{}).version?f.version:2;if(1!==E&&2!==E)throw new TypeError(E+" must be 1 or 2");const I={method:Y};if(2===E&&(I.jsonrpc="2.0"),ut){if("object"!=typeof ut&&!Array.isArray(ut))throw new TypeError(ut+" must be an object, array or omitted");I.params=ut}return typeof x>"u"?I.id=("function"==typeof f.generator?f.generator:function(){return D()})(I,f):2===E&&null===x?f.notificationIdNull&&(I.id=null):I.id=x,I}},4091:(Pe,Bt,wt)=>{"use strict";const Ut=wt(5343),Y=wt(8461),ut="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.lW=I,Bt.h2=50;const x=2147483647;function E(s){if(s>x)throw new RangeError('The value "'+s+'" is invalid for option "size"');const n=new Uint8Array(s);return Object.setPrototypeOf(n,I.prototype),n}function I(s,n,r){if("number"==typeof s){if("string"==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return Dt(s)}return nt(s,n,r)}function nt(s,n,r){if("string"==typeof s)return function ct(s,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!I.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const r=0|Lt(s,n);let u=E(r);const y=u.write(s,n);return y!==r&&(u=u.slice(0,y)),u}(s,n);if(ArrayBuffer.isView(s))return function zt(s){if(Ht(s,Uint8Array)){const n=new Uint8Array(s);return at(n.buffer,n.byteOffset,n.byteLength)}return Q(s)}(s);if(null==s)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(Ht(s,ArrayBuffer)||s&&Ht(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ht(s,SharedArrayBuffer)||s&&Ht(s.buffer,SharedArrayBuffer)))return at(s,n,r);if("number"==typeof s)throw new TypeError('The "value" argument must not be of type number. Received type number');const u=s.valueOf&&s.valueOf();if(null!=u&&u!==s)return I.from(u,n,r);const y=function et(s){if(I.isBuffer(s)){const n=0|At(s.length),r=E(n);return 0===r.length||s.copy(r,0,0,n),r}return void 0!==s.length?"number"!=typeof s.length||jt(s.length)?E(0):Q(s):"Buffer"===s.type&&Array.isArray(s.data)?Q(s.data):void 0}(s);if(y)return y;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof s[Symbol.toPrimitive])return I.from(s[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}function qt(s){if("number"!=typeof s)throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function Dt(s){return qt(s),E(s<0?0:0|At(s))}function Q(s){const n=s.length<0?0:0|At(s.length),r=E(n);for(let u=0;u<n;u+=1)r[u]=255&s[u];return r}function at(s,n,r){if(n<0||s.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');let u;return u=void 0===n&&void 0===r?new Uint8Array(s):void 0===r?new Uint8Array(s,n):new Uint8Array(s,n,r),Object.setPrototypeOf(u,I.prototype),u}function At(s){if(s>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|s}function Lt(s,n){if(I.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Ht(s,ArrayBuffer))return s.byteLength;if("string"!=typeof s)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);const r=s.length,u=arguments.length>2&&!0===arguments[2];if(!u&&0===r)return 0;let y=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return w(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return it(s).length;default:if(y)return u?-1:w(s).length;n=(""+n).toLowerCase(),y=!0}}function yt(s,n,r){let u=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(n>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return $(this,n,r);case"utf8":case"utf-8":return l(this,n,r);case"ascii":return M(this,n,r);case"latin1":case"binary":return F(this,n,r);case"base64":return C(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,n,r);default:if(u)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),u=!0}}function Rt(s,n,r){const u=s[n];s[n]=s[r],s[r]=u}function re(s,n,r,u,y){if(0===s.length)return-1;if("string"==typeof r?(u=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),jt(r=+r)&&(r=y?0:s.length-1),r<0&&(r=s.length+r),r>=s.length){if(y)return-1;r=s.length-1}else if(r<0){if(!y)return-1;r=0}if("string"==typeof n&&(n=I.from(n,u)),I.isBuffer(n))return 0===n.length?-1:Jt(s,n,r,u,y);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?y?Uint8Array.prototype.indexOf.call(s,n,r):Uint8Array.prototype.lastIndexOf.call(s,n,r):Jt(s,[n],r,u,y);throw new TypeError("val must be string, number or Buffer")}function Jt(s,n,r,u,y){let _t,_=1,U=s.length,ft=n.length;if(void 0!==u&&("ucs2"===(u=String(u).toLowerCase())||"ucs-2"===u||"utf16le"===u||"utf-16le"===u)){if(s.length<2||n.length<2)return-1;_=2,U/=2,ft/=2,r/=2}function kt(Mt,Pt){return 1===_?Mt[Pt]:Mt.readUInt16BE(Pt*_)}if(y){let Mt=-1;for(_t=r;_t<U;_t++)if(kt(s,_t)===kt(n,-1===Mt?0:_t-Mt)){if(-1===Mt&&(Mt=_t),_t-Mt+1===ft)return Mt*_}else-1!==Mt&&(_t-=_t-Mt),Mt=-1}else for(r+ft>U&&(r=U-ft),_t=r;_t>=0;_t--){let Mt=!0;for(let Pt=0;Pt<ft;Pt++)if(kt(s,_t+Pt)!==kt(n,Pt)){Mt=!1;break}if(Mt)return _t}return-1}function Be(s,n,r,u){r=Number(r)||0;const y=s.length-r;u?(u=Number(u))>y&&(u=y):u=y;const _=n.length;let U;for(u>_/2&&(u=_/2),U=0;U<u;++U){const ft=parseInt(n.substr(2*U,2),16);if(jt(ft))return U;s[r+U]=ft}return U}function xt(s,n,r,u){return ot(w(n,s.length-r),s,r,u)}function rt(s,n,r,u){return ot(function O(s){const n=[];for(let r=0;r<s.length;++r)n.push(255&s.charCodeAt(r));return n}(n),s,r,u)}function lt(s,n,r,u){return ot(it(n),s,r,u)}function mt(s,n,r,u){return ot(function Z(s,n){let r,u,y;const _=[];for(let U=0;U<s.length&&!((n-=2)<0);++U)r=s.charCodeAt(U),u=r>>8,y=r%256,_.push(y),_.push(u);return _}(n,s.length-r),s,r,u)}function C(s,n,r){return Ut.fromByteArray(0===n&&r===s.length?s:s.slice(n,r))}function l(s,n,r){r=Math.min(s.length,r);const u=[];let y=n;for(;y<r;){const _=s[y];let U=null,ft=_>239?4:_>223?3:_>191?2:1;if(y+ft<=r){let kt,_t,Mt,Pt;switch(ft){case 1:_<128&&(U=_);break;case 2:kt=s[y+1],128==(192&kt)&&(Pt=(31&_)<<6|63&kt,Pt>127&&(U=Pt));break;case 3:kt=s[y+1],_t=s[y+2],128==(192&kt)&&128==(192&_t)&&(Pt=(15&_)<<12|(63&kt)<<6|63&_t,Pt>2047&&(Pt<55296||Pt>57343)&&(U=Pt));break;case 4:kt=s[y+1],_t=s[y+2],Mt=s[y+3],128==(192&kt)&&128==(192&_t)&&128==(192&Mt)&&(Pt=(15&_)<<18|(63&kt)<<12|(63&_t)<<6|63&Mt,Pt>65535&&Pt<1114112&&(U=Pt))}}null===U?(U=65533,ft=1):U>65535&&(U-=65536,u.push(U>>>10&1023|55296),U=56320|1023&U),u.push(U),y+=ft}return function v(s){const n=s.length;if(n<=m)return String.fromCharCode.apply(String,s);let r="",u=0;for(;u<n;)r+=String.fromCharCode.apply(String,s.slice(u,u+=m));return r}(u)}!(I.TYPED_ARRAY_SUPPORT=function f(){try{const s=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(s,n),42===s.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(I.prototype,"parent",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.buffer}}),Object.defineProperty(I.prototype,"offset",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.byteOffset}}),I.poolSize=8192,I.from=function(s,n,r){return nt(s,n,r)},Object.setPrototypeOf(I.prototype,Uint8Array.prototype),Object.setPrototypeOf(I,Uint8Array),I.alloc=function(s,n,r){return function Ft(s,n,r){return qt(s),s<=0?E(s):void 0!==n?"string"==typeof r?E(s).fill(n,r):E(s).fill(n):E(s)}(s,n,r)},I.allocUnsafe=function(s){return Dt(s)},I.allocUnsafeSlow=function(s){return Dt(s)},I.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==I.prototype},I.compare=function(n,r){if(Ht(n,Uint8Array)&&(n=I.from(n,n.offset,n.byteLength)),Ht(r,Uint8Array)&&(r=I.from(r,r.offset,r.byteLength)),!I.isBuffer(n)||!I.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===r)return 0;let u=n.length,y=r.length;for(let _=0,U=Math.min(u,y);_<U;++_)if(n[_]!==r[_]){u=n[_],y=r[_];break}return u<y?-1:y<u?1:0},I.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.concat=function(n,r){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return I.alloc(0);let u;if(void 0===r)for(r=0,u=0;u<n.length;++u)r+=n[u].length;const y=I.allocUnsafe(r);let _=0;for(u=0;u<n.length;++u){let U=n[u];if(Ht(U,Uint8Array))_+U.length>y.length?(I.isBuffer(U)||(U=I.from(U)),U.copy(y,_)):Uint8Array.prototype.set.call(y,U,_);else{if(!I.isBuffer(U))throw new TypeError('"list" argument must be an Array of Buffers');U.copy(y,_)}_+=U.length}return y},I.byteLength=Lt,I.prototype._isBuffer=!0,I.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<n;r+=2)Rt(this,r,r+1);return this},I.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<n;r+=4)Rt(this,r,r+3),Rt(this,r+1,r+2);return this},I.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<n;r+=8)Rt(this,r,r+7),Rt(this,r+1,r+6),Rt(this,r+2,r+5),Rt(this,r+3,r+4);return this},I.prototype.toLocaleString=I.prototype.toString=function(){const n=this.length;return 0===n?"":0===arguments.length?l(this,0,n):yt.apply(this,arguments)},I.prototype.equals=function(n){if(!I.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===I.compare(this,n)},I.prototype.inspect=function(){let n="";const r=Bt.h2;return n=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(n+=" ... "),"<Buffer "+n+">"},ut&&(I.prototype[ut]=I.prototype.inspect),I.prototype.compare=function(n,r,u,y,_){if(Ht(n,Uint8Array)&&(n=I.from(n,n.offset,n.byteLength)),!I.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(void 0===r&&(r=0),void 0===u&&(u=n?n.length:0),void 0===y&&(y=0),void 0===_&&(_=this.length),r<0||u>n.length||y<0||_>this.length)throw new RangeError("out of range index");if(y>=_&&r>=u)return 0;if(y>=_)return-1;if(r>=u)return 1;if(this===n)return 0;let U=(_>>>=0)-(y>>>=0),ft=(u>>>=0)-(r>>>=0);const kt=Math.min(U,ft),_t=this.slice(y,_),Mt=n.slice(r,u);for(let Pt=0;Pt<kt;++Pt)if(_t[Pt]!==Mt[Pt]){U=_t[Pt],ft=Mt[Pt];break}return U<ft?-1:ft<U?1:0},I.prototype.includes=function(n,r,u){return-1!==this.indexOf(n,r,u)},I.prototype.indexOf=function(n,r,u){return re(this,n,r,u,!0)},I.prototype.lastIndexOf=function(n,r,u){return re(this,n,r,u,!1)},I.prototype.write=function(n,r,u,y){if(void 0===r)y="utf8",u=this.length,r=0;else if(void 0===u&&"string"==typeof r)y=r,u=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(u)?(u>>>=0,void 0===y&&(y="utf8")):(y=u,u=void 0)}const _=this.length-r;if((void 0===u||u>_)&&(u=_),n.length>0&&(u<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let U=!1;for(;;)switch(y){case"hex":return Be(this,n,r,u);case"utf8":case"utf-8":return xt(this,n,r,u);case"ascii":case"latin1":case"binary":return rt(this,n,r,u);case"base64":return lt(this,n,r,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,n,r,u);default:if(U)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),U=!0}},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const m=4096;function M(s,n,r){let u="";r=Math.min(s.length,r);for(let y=n;y<r;++y)u+=String.fromCharCode(127&s[y]);return u}function F(s,n,r){let u="";r=Math.min(s.length,r);for(let y=n;y<r;++y)u+=String.fromCharCode(s[y]);return u}function $(s,n,r){const u=s.length;(!n||n<0)&&(n=0),(!r||r<0||r>u)&&(r=u);let y="";for(let _=n;_<r;++_)y+=Yt[s[_]];return y}function W(s,n,r){const u=s.slice(n,r);let y="";for(let _=0;_<u.length-1;_+=2)y+=String.fromCharCode(u[_]+256*u[_+1]);return y}function T(s,n,r){if(s%1!=0||s<0)throw new RangeError("offset is not uint");if(s+n>r)throw new RangeError("Trying to access beyond buffer length")}function d(s,n,r,u,y,_){if(!I.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>y||n<_)throw new RangeError('"value" argument is out of bounds');if(r+u>s.length)throw new RangeError("Index out of range")}function B(s,n,r,u,y){ne(n,u,y,s,r,7);let _=Number(n&BigInt(4294967295));s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_;let U=Number(n>>BigInt(32)&BigInt(4294967295));return s[r++]=U,U>>=8,s[r++]=U,U>>=8,s[r++]=U,U>>=8,s[r++]=U,r}function k(s,n,r,u,y){ne(n,u,y,s,r,7);let _=Number(n&BigInt(4294967295));s[r+7]=_,_>>=8,s[r+6]=_,_>>=8,s[r+5]=_,_>>=8,s[r+4]=_;let U=Number(n>>BigInt(32)&BigInt(4294967295));return s[r+3]=U,U>>=8,s[r+2]=U,U>>=8,s[r+1]=U,U>>=8,s[r]=U,r+8}function A(s,n,r,u,y,_){if(r+u>s.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(s,n,r,u,y){return n=+n,r>>>=0,y||A(s,0,r,4),Y.write(s,n,r,u,23,4),r+4}function V(s,n,r,u,y){return n=+n,r>>>=0,y||A(s,0,r,8),Y.write(s,n,r,u,52,8),r+8}I.prototype.slice=function(n,r){const u=this.length;(n=~~n)<0?(n+=u)<0&&(n=0):n>u&&(n=u),(r=void 0===r?u:~~r)<0?(r+=u)<0&&(r=0):r>u&&(r=u),r<n&&(r=n);const y=this.subarray(n,r);return Object.setPrototypeOf(y,I.prototype),y},I.prototype.readUintLE=I.prototype.readUIntLE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=this[n],_=1,U=0;for(;++U<r&&(_*=256);)y+=this[n+U]*_;return y},I.prototype.readUintBE=I.prototype.readUIntBE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=this[n+--r],_=1;for(;r>0&&(_*=256);)y+=this[n+--r]*_;return y},I.prototype.readUint8=I.prototype.readUInt8=function(n,r){return n>>>=0,r||T(n,1,this.length),this[n]},I.prototype.readUint16LE=I.prototype.readUInt16LE=function(n,r){return n>>>=0,r||T(n,2,this.length),this[n]|this[n+1]<<8},I.prototype.readUint16BE=I.prototype.readUInt16BE=function(n,r){return n>>>=0,r||T(n,2,this.length),this[n]<<8|this[n+1]},I.prototype.readUint32LE=I.prototype.readUInt32LE=function(n,r){return n>>>=0,r||T(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},I.prototype.readUint32BE=I.prototype.readUInt32BE=function(n,r){return n>>>=0,r||T(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},I.prototype.readBigUInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const y=r+256*this[++n]+65536*this[++n]+this[++n]*2**24,_=this[++n]+256*this[++n]+65536*this[++n]+u*2**24;return BigInt(y)+(BigInt(_)<<BigInt(32))}),I.prototype.readBigUInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const y=r*2**24+65536*this[++n]+256*this[++n]+this[++n],_=this[++n]*2**24+65536*this[++n]+256*this[++n]+u;return(BigInt(y)<<BigInt(32))+BigInt(_)}),I.prototype.readIntLE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=this[n],_=1,U=0;for(;++U<r&&(_*=256);)y+=this[n+U]*_;return _*=128,y>=_&&(y-=Math.pow(2,8*r)),y},I.prototype.readIntBE=function(n,r,u){n>>>=0,r>>>=0,u||T(n,r,this.length);let y=r,_=1,U=this[n+--y];for(;y>0&&(_*=256);)U+=this[n+--y]*_;return _*=128,U>=_&&(U-=Math.pow(2,8*r)),U},I.prototype.readInt8=function(n,r){return n>>>=0,r||T(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},I.prototype.readInt16LE=function(n,r){n>>>=0,r||T(n,2,this.length);const u=this[n]|this[n+1]<<8;return 32768&u?4294901760|u:u},I.prototype.readInt16BE=function(n,r){n>>>=0,r||T(n,2,this.length);const u=this[n+1]|this[n]<<8;return 32768&u?4294901760|u:u},I.prototype.readInt32LE=function(n,r){return n>>>=0,r||T(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},I.prototype.readInt32BE=function(n,r){return n>>>=0,r||T(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},I.prototype.readBigInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];return(void 0===r||void 0===u)&&fe(n,this.length-8),(BigInt(this[n+4]+256*this[n+5]+65536*this[n+6]+(u<<24))<<BigInt(32))+BigInt(r+256*this[++n]+65536*this[++n]+this[++n]*2**24)}),I.prototype.readBigInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const y=(r<<24)+65536*this[++n]+256*this[++n]+this[++n];return(BigInt(y)<<BigInt(32))+BigInt(this[++n]*2**24+65536*this[++n]+256*this[++n]+u)}),I.prototype.readFloatLE=function(n,r){return n>>>=0,r||T(n,4,this.length),Y.read(this,n,!0,23,4)},I.prototype.readFloatBE=function(n,r){return n>>>=0,r||T(n,4,this.length),Y.read(this,n,!1,23,4)},I.prototype.readDoubleLE=function(n,r){return n>>>=0,r||T(n,8,this.length),Y.read(this,n,!0,52,8)},I.prototype.readDoubleBE=function(n,r){return n>>>=0,r||T(n,8,this.length),Y.read(this,n,!1,52,8)},I.prototype.writeUintLE=I.prototype.writeUIntLE=function(n,r,u,y){n=+n,r>>>=0,u>>>=0,y||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=1,U=0;for(this[r]=255&n;++U<u&&(_*=256);)this[r+U]=n/_&255;return r+u},I.prototype.writeUintBE=I.prototype.writeUIntBE=function(n,r,u,y){n=+n,r>>>=0,u>>>=0,y||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=u-1,U=1;for(this[r+_]=255&n;--_>=0&&(U*=256);)this[r+_]=n/U&255;return r+u},I.prototype.writeUint8=I.prototype.writeUInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,255,0),this[r]=255&n,r+1},I.prototype.writeUint16LE=I.prototype.writeUInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=255&n,this[r+1]=n>>>8,r+2},I.prototype.writeUint16BE=I.prototype.writeUInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=n>>>8,this[r+1]=255&n,r+2},I.prototype.writeUint32LE=I.prototype.writeUInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r+3]=n>>>24,this[r+2]=n>>>16,this[r+1]=n>>>8,this[r]=255&n,r+4},I.prototype.writeUint32BE=I.prototype.writeUInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},I.prototype.writeBigUInt64LE=ue(function(n,r=0){return B(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeBigUInt64BE=ue(function(n,r=0){return k(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeIntLE=function(n,r,u,y){if(n=+n,r>>>=0,!y){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=0,U=1,ft=0;for(this[r]=255&n;++_<u&&(U*=256);)n<0&&0===ft&&0!==this[r+_-1]&&(ft=1),this[r+_]=(n/U>>0)-ft&255;return r+u},I.prototype.writeIntBE=function(n,r,u,y){if(n=+n,r>>>=0,!y){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=u-1,U=1,ft=0;for(this[r+_]=255&n;--_>=0&&(U*=256);)n<0&&0===ft&&0!==this[r+_+1]&&(ft=1),this[r+_]=(n/U>>0)-ft&255;return r+u},I.prototype.writeInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,127,-128),n<0&&(n=255+n+1),this[r]=255&n,r+1},I.prototype.writeInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=255&n,this[r+1]=n>>>8,r+2},I.prototype.writeInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=n>>>8,this[r+1]=255&n,r+2},I.prototype.writeInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),this[r]=255&n,this[r+1]=n>>>8,this[r+2]=n>>>16,this[r+3]=n>>>24,r+4},I.prototype.writeInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},I.prototype.writeBigInt64LE=ue(function(n,r=0){return B(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),I.prototype.writeBigInt64BE=ue(function(n,r=0){return k(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),I.prototype.writeFloatLE=function(n,r,u){return N(this,n,r,!0,u)},I.prototype.writeFloatBE=function(n,r,u){return N(this,n,r,!1,u)},I.prototype.writeDoubleLE=function(n,r,u){return V(this,n,r,!0,u)},I.prototype.writeDoubleBE=function(n,r,u){return V(this,n,r,!1,u)},I.prototype.copy=function(n,r,u,y){if(!I.isBuffer(n))throw new TypeError("argument should be a Buffer");if(u||(u=0),!y&&0!==y&&(y=this.length),r>=n.length&&(r=n.length),r||(r=0),y>0&&y<u&&(y=u),y===u||0===n.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),n.length-r<y-u&&(y=n.length-r+u);const _=y-u;return this===n&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,u,y):Uint8Array.prototype.set.call(n,this.subarray(u,y),r),_},I.prototype.fill=function(n,r,u,y){if("string"==typeof n){if("string"==typeof r?(y=r,r=0,u=this.length):"string"==typeof u&&(y=u,u=this.length),void 0!==y&&"string"!=typeof y)throw new TypeError("encoding must be a string");if("string"==typeof y&&!I.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(1===n.length){const U=n.charCodeAt(0);("utf8"===y&&U<128||"latin1"===y)&&(n=U)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(r<0||this.length<r||this.length<u)throw new RangeError("Out of range index");if(u<=r)return this;let _;if(r>>>=0,u=void 0===u?this.length:u>>>0,n||(n=0),"number"==typeof n)for(_=r;_<u;++_)this[_]=n;else{const U=I.isBuffer(n)?n:I.from(n,y),ft=U.length;if(0===ft)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(_=0;_<u-r;++_)this[_+r]=U[_%ft]}return this};const X={};function Kt(s,n,r){X[s]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,delete this.name}get code(){return s}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}function ae(s){let n="",r=s.length;const u="-"===s[0]?1:0;for(;r>=u+4;r-=3)n=`_${s.slice(r-3,r)}${n}`;return`${s.slice(0,r)}${n}`}function ne(s,n,r,u,y,_){if(s>r||s<n){const U="bigint"==typeof n?"n":"";let ft;throw ft=_>3?0===n||n===BigInt(0)?`>= 0${U} and < 2${U} ** ${8*(_+1)}${U}`:`>= -(2${U} ** ${8*(_+1)-1}${U}) and < 2 ** ${8*(_+1)-1}${U}`:`>= ${n}${U} and <= ${r}${U}`,new X.ERR_OUT_OF_RANGE("value",ft,s)}!function oe(s,n,r){Ae(n,"offset"),(void 0===s[n]||void 0===s[n+r])&&fe(n,s.length-(r+1))}(u,y,_)}function Ae(s,n){if("number"!=typeof s)throw new X.ERR_INVALID_ARG_TYPE(n,"number",s)}function fe(s,n,r){throw Math.floor(s)!==s?(Ae(s,r),new X.ERR_OUT_OF_RANGE(r||"offset","an integer",s)):n<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${n}`,s)}Kt("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Kt("ERR_INVALID_ARG_TYPE",function(s,n){return`The "${s}" argument must be of type number. Received type ${typeof n}`},TypeError),Kt("ERR_OUT_OF_RANGE",function(s,n,r){let u=`The value of "${s}" is out of range.`,y=r;return Number.isInteger(r)&&Math.abs(r)>2**32?y=ae(String(r)):"bigint"==typeof r&&(y=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(y=ae(y)),y+="n"),u+=` It must be ${n}. Received ${y}`,u},RangeError);const P=/[^+/0-9A-Za-z-_]/g;function w(s,n){let r;n=n||1/0;const u=s.length;let y=null;const _=[];for(let U=0;U<u;++U){if(r=s.charCodeAt(U),r>55295&&r<57344){if(!y){if(r>56319){(n-=3)>-1&&_.push(239,191,189);continue}if(U+1===u){(n-=3)>-1&&_.push(239,191,189);continue}y=r;continue}if(r<56320){(n-=3)>-1&&_.push(239,191,189),y=r;continue}r=65536+(y-55296<<10|r-56320)}else y&&(n-=3)>-1&&_.push(239,191,189);if(y=null,r<128){if((n-=1)<0)break;_.push(r)}else if(r<2048){if((n-=2)<0)break;_.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;_.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;_.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return _}function it(s){return Ut.toByteArray(function g(s){if((s=(s=s.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(s))}function ot(s,n,r,u){let y;for(y=0;y<u&&!(y+r>=n.length||y>=s.length);++y)n[y+r]=s[y];return y}function Ht(s,n){return s instanceof n||null!=s&&null!=s.constructor&&null!=s.constructor.name&&s.constructor.name===n.name}function jt(s){return s!=s}const Yt=function(){const s="0123456789abcdef",n=new Array(256);for(let r=0;r<16;++r){const u=16*r;for(let y=0;y<16;++y)n[u+y]=s[r]+s[y]}return n}();function ue(s){return typeof BigInt>"u"?S:s}function S(){throw new Error("BigInt not supported")}},2985:Pe=>{"use strict";var Bt=Object.prototype.hasOwnProperty,wt="~";function D(){}function Ut(f,E,I){this.fn=f,this.context=E,this.once=I||!1}function Y(f,E,I,nt,qt){if("function"!=typeof I)throw new TypeError("The listener must be a function");var Ft=new Ut(I,nt||f,qt),Dt=wt?wt+E:E;return f._events[Dt]?f._events[Dt].fn?f._events[Dt]=[f._events[Dt],Ft]:f._events[Dt].push(Ft):(f._events[Dt]=Ft,f._eventsCount++),f}function ut(f,E){0==--f._eventsCount?f._events=new D:delete f._events[E]}function x(){this._events=new D,this._eventsCount=0}Object.create&&(D.prototype=Object.create(null),(new D).__proto__||(wt=!1)),x.prototype.eventNames=function(){var I,nt,E=[];if(0===this._eventsCount)return E;for(nt in I=this._events)Bt.call(I,nt)&&E.push(wt?nt.slice(1):nt);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(I)):E},x.prototype.listeners=function(E){var nt=this._events[wt?wt+E:E];if(!nt)return[];if(nt.fn)return[nt.fn];for(var qt=0,Ft=nt.length,Dt=new Array(Ft);qt<Ft;qt++)Dt[qt]=nt[qt].fn;return Dt},x.prototype.listenerCount=function(E){var nt=this._events[wt?wt+E:E];return nt?nt.fn?1:nt.length:0},x.prototype.emit=function(E,I,nt,qt,Ft,Dt){var ct=wt?wt+E:E;if(!this._events[ct])return!1;var at,et,Q=this._events[ct],zt=arguments.length;if(Q.fn){switch(Q.once&&this.removeListener(E,Q.fn,void 0,!0),zt){case 1:return Q.fn.call(Q.context),!0;case 2:return Q.fn.call(Q.context,I),!0;case 3:return Q.fn.call(Q.context,I,nt),!0;case 4:return Q.fn.call(Q.context,I,nt,qt),!0;case 5:return Q.fn.call(Q.context,I,nt,qt,Ft),!0;case 6:return Q.fn.call(Q.context,I,nt,qt,Ft,Dt),!0}for(et=1,at=new Array(zt-1);et<zt;et++)at[et-1]=arguments[et];Q.fn.apply(Q.context,at)}else{var bt,At=Q.length;for(et=0;et<At;et++)switch(Q[et].once&&this.removeListener(E,Q[et].fn,void 0,!0),zt){case 1:Q[et].fn.call(Q[et].context);break;case 2:Q[et].fn.call(Q[et].context,I);break;case 3:Q[et].fn.call(Q[et].context,I,nt);break;case 4:Q[et].fn.call(Q[et].context,I,nt,qt);break;default:if(!at)for(bt=1,at=new Array(zt-1);bt<zt;bt++)at[bt-1]=arguments[bt];Q[et].fn.apply(Q[et].context,at)}}return!0},x.prototype.on=function(E,I,nt){return Y(this,E,I,nt,!1)},x.prototype.once=function(E,I,nt){return Y(this,E,I,nt,!0)},x.prototype.removeListener=function(E,I,nt,qt){var Ft=wt?wt+E:E;if(!this._events[Ft])return this;if(!I)return ut(this,Ft),this;var Dt=this._events[Ft];if(Dt.fn)Dt.fn===I&&(!qt||Dt.once)&&(!nt||Dt.context===nt)&&ut(this,Ft);else{for(var ct=0,Q=[],zt=Dt.length;ct<zt;ct++)(Dt[ct].fn!==I||qt&&!Dt[ct].once||nt&&Dt[ct].context!==nt)&&Q.push(Dt[ct]);Q.length?this._events[Ft]=1===Q.length?Q[0]:Q:ut(this,Ft)}return this},x.prototype.removeAllListeners=function(E){var I;return E?this._events[I=wt?wt+E:E]&&ut(this,I):(this._events=new D,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=wt,x.EventEmitter=x,Pe.exports=x},3502:(Pe,Bt,wt)=>{var D=wt(3172),Ut=D.Buffer;function Y(x,f){for(var E in x)f[E]=x[E]}function ut(x,f,E){return Ut(x,f,E)}Ut.from&&Ut.alloc&&Ut.allocUnsafe&&Ut.allocUnsafeSlow?Pe.exports=D:(Y(D,Bt),Bt.Buffer=ut),ut.prototype=Object.create(Ut.prototype),Y(Ut,ut),ut.from=function(x,f,E){if("number"==typeof x)throw new TypeError("Argument must not be a number");return Ut(x,f,E)},ut.alloc=function(x,f,E){if("number"!=typeof x)throw new TypeError("Argument must be a number");var I=Ut(x);return void 0!==f?"string"==typeof E?I.fill(f,E):I.fill(f):I.fill(0),I},ut.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return Ut(x)},ut.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return D.SlowBuffer(x)}},5955:(Pe,Bt,wt)=>{"use strict";wt.d(Bt,{v4:()=>Dt});var D,Ut=new Uint8Array(16);function Y(){if(!D&&!(D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D(Ut)}const ut=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,f=function x(ct){return"string"==typeof ct&&ut.test(ct)};for(var E=[],I=0;I<256;++I)E.push((I+256).toString(16).substr(1));const Dt=function Ft(ct,Q,zt){var at=(ct=ct||{}).random||(ct.rng||Y)();if(at[6]=15&at[6]|64,at[8]=63&at[8]|128,Q){zt=zt||0;for(var et=0;et<16;++et)Q[zt+et]=at[et];return Q}return function nt(ct){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,zt=(E[ct[Q+0]]+E[ct[Q+1]]+E[ct[Q+2]]+E[ct[Q+3]]+"-"+E[ct[Q+4]]+E[ct[Q+5]]+"-"+E[ct[Q+6]]+E[ct[Q+7]]+"-"+E[ct[Q+8]]+E[ct[Q+9]]+"-"+E[ct[Q+10]]+E[ct[Q+11]]+E[ct[Q+12]]+E[ct[Q+13]]+E[ct[Q+14]]+E[ct[Q+15]]).toLowerCase();if(!f(zt))throw TypeError("Stringified UUID is invalid");return zt}(at)}},6601:()=>{},2949:(Pe,Bt,wt)=>{"use strict";function D(at,et,At){return et<=at&&at<=At}function Ut(at){if(void 0===at)return{};if(at===Object(at))return at;throw TypeError("Could not convert argument to dictionary")}wt.r(Bt),wt.d(Bt,{TextDecoder:()=>Dt,TextEncoder:()=>ct});var x=-1;function f(at){this.tokens=[].slice.call(at)}f.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():x},prepend:function(at){if(Array.isArray(at))for(var et=at;et.length;)this.tokens.unshift(et.pop());else this.tokens.unshift(at)},push:function(at){if(Array.isArray(at))for(var et=at;et.length;)this.tokens.push(et.shift());else this.tokens.push(at)}};var E=-1;function I(at,et){if(at)throw TypeError("Decoder error");return et||65533}var Ft="utf-8";function Dt(at,et){if(!(this instanceof Dt))return new Dt(at,et);if((at=void 0!==at?String(at).toLowerCase():Ft)!==Ft)throw new Error("Encoding not supported. Only utf-8 is supported");et=Ut(et),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(et.fatal),this._ignoreBOM=Boolean(et.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function ct(at,et){if(!(this instanceof ct))return new ct(at,et);if((at=void 0!==at?String(at).toLowerCase():Ft)!==Ft)throw new Error("Encoding not supported. Only utf-8 is supported");et=Ut(et),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(et.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function Q(at){var et=at.fatal,At=0,bt=0,Lt=0,yt=128,Rt=191;this.handler=function(re,Jt){if(Jt===x&&0!==Lt)return Lt=0,I(et);if(Jt===x)return E;if(0===Lt){if(D(Jt,0,127))return Jt;if(D(Jt,194,223))Lt=1,At=Jt-192;else if(D(Jt,224,239))224===Jt&&(yt=160),237===Jt&&(Rt=159),Lt=2,At=Jt-224;else{if(!D(Jt,240,244))return I(et);240===Jt&&(yt=144),244===Jt&&(Rt=143),Lt=3,At=Jt-240}return At<<=6*Lt,null}if(!D(Jt,yt,Rt))return At=Lt=bt=0,yt=128,Rt=191,re.prepend(Jt),I(et);if(yt=128,Rt=191,At+=Jt-128<<6*(Lt-(bt+=1)),bt!==Lt)return null;var Be=At;return At=Lt=bt=0,Be}}function zt(at){this.handler=function(At,bt){if(bt===x)return E;if(D(bt,0,127))return bt;var Lt,yt;D(bt,128,2047)?(Lt=1,yt=192):D(bt,2048,65535)?(Lt=2,yt=224):D(bt,65536,1114111)&&(Lt=3,yt=240);for(var Rt=[(bt>>6*Lt)+yt];Lt>0;)Rt.push(128|63&bt>>6*(Lt-1)),Lt-=1;return Rt}}Dt.prototype={decode:function(et,At){var bt;bt="object"==typeof et&&et instanceof ArrayBuffer?new Uint8Array(et):"object"==typeof et&&"buffer"in et&&et.buffer instanceof ArrayBuffer?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):new Uint8Array(0),At=Ut(At),this._streaming||(this._decoder=new Q({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(At.stream);for(var Rt,Lt=new f(bt),yt=[];!Lt.endOfStream()&&(Rt=this._decoder.handler(Lt,Lt.read()))!==E;)null!==Rt&&(Array.isArray(Rt)?yt.push.apply(yt,Rt):yt.push(Rt));if(!this._streaming){do{if((Rt=this._decoder.handler(Lt,Lt.read()))===E)break;null!==Rt&&(Array.isArray(Rt)?yt.push.apply(yt,Rt):yt.push(Rt))}while(!Lt.endOfStream());this._decoder=null}return yt.length&&-1!==["utf-8"].indexOf(this.encoding)&&!this._ignoreBOM&&!this._BOMseen&&(65279===yt[0]?(this._BOMseen=!0,yt.shift()):this._BOMseen=!0),function ut(at){for(var et="",At=0;At<at.length;++At){var bt=at[At];bt<=65535?et+=String.fromCharCode(bt):(bt-=65536,et+=String.fromCharCode(55296+(bt>>10),56320+(1023&bt)))}return et}(yt)}},ct.prototype={encode:function(et,At){et=et?String(et):"",At=Ut(At),this._streaming||(this._encoder=new zt(this._options)),this._streaming=Boolean(At.stream);for(var yt,bt=[],Lt=new f(function Y(at){for(var et=String(at),At=et.length,bt=0,Lt=[];bt<At;){var yt=et.charCodeAt(bt);if(yt<55296||yt>57343)Lt.push(yt);else if(56320<=yt&&yt<=57343)Lt.push(65533);else if(55296<=yt&&yt<=56319)if(bt===At-1)Lt.push(65533);else{var Rt=at.charCodeAt(bt+1);56320<=Rt&&Rt<=57343?(Lt.push(65536+((1023&yt)<<10)+(1023&Rt)),bt+=1):Lt.push(65533)}bt+=1}return Lt}(et));!Lt.endOfStream()&&(yt=this._encoder.handler(Lt,Lt.read()))!==E;)Array.isArray(yt)?bt.push.apply(bt,yt):bt.push(yt);if(!this._streaming){for(;(yt=this._encoder.handler(Lt,Lt.read()))!==E;)Array.isArray(yt)?bt.push.apply(bt,yt):bt.push(yt);this._encoder=null}return new Uint8Array(bt)}}}}]);
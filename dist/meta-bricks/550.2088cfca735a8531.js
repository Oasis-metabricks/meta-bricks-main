(self.webpackChunkmeta_bricks=self.webpackChunkmeta_bricks||[]).push([[550],{550:(Ce,Bt,wt)=>{"use strict";wt.r(Bt),wt.d(Bt,{HomeModule:()=>zl});var D={};wt.r(D),wt.d(D,{abytes:()=>Oe,bitGet:()=>Er,bitLen:()=>kr,bitMask:()=>Qn,bitSet:()=>Br,bytesToHex:()=>Pe,bytesToNumberBE:()=>Mn,bytesToNumberLE:()=>On,concatBytes:()=>Pn,createHmacDrbg:()=>hr,ensureBytes:()=>$e,equalBytes:()=>xr,hexToBytes:()=>Rn,hexToNumber:()=>ur,isBytes:()=>Me,numberToBytesBE:()=>Un,numberToBytesLE:()=>Wn,numberToHexUnpadded:()=>We,numberToVarBytesBE:()=>br,utf8ToBytes:()=>_r,validateObject:()=>Ln});var Ot=wt(6895),Y=wt(4752);function ut(o,t,e,i,a,c,h){try{var p=o[c](h),b=p.value}catch(P){return void e(P)}p.done?t(b):Promise.resolve(b).then(i,a)}function x(o){return function(){var t=this,e=arguments;return new Promise(function(i,a){var c=o.apply(t,e);function h(b){ut(c,i,a,h,p,"next",b)}function p(b){ut(c,i,a,h,p,"throw",b)}h(void 0)})}}var f=wt(1571),E=wt(9326);let S=(()=>{class o{constructor(e){this.modalRef=e,this.showContent=!0}goBack(){this.modalRef.hide()}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-share-referrals"]],decls:40,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn",3,"click"],[1,"custom-modal-content"],[1,"left-section"],["src","/assets/images/share-popup-icon.png","alt",""],[1,"right-section"],[1,"social-icons-list"],[1,"single-social"],[1,"icon"],[1,"ref-link"],[1,"bottom-text"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return a.goBack()}),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"SHARE & REFERRALS"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"Another brick bites the dust!"),f.qZA()(),f.TgZ(11,"div",6)(12,"p"),f._uU(13,"We're grateful for your support to Metabricks!"),f.qZA(),f.TgZ(14,"p"),f._uU(15,"You could also share and refer the Metabricks to a friend. Earning 5% of the sales made from the link."),f.qZA()()(),f.TgZ(16,"div",7)(17,"div",8),f._UZ(18,"div",9),f.TgZ(19,"p"),f._uU(20,"Socials1"),f.qZA()(),f.TgZ(21,"div",8),f._UZ(22,"div",9),f.TgZ(23,"p"),f._uU(24,"Socials1"),f.qZA()(),f.TgZ(25,"div",8),f._UZ(26,"div",9),f.TgZ(27,"p"),f._uU(28,"Socials1"),f.qZA()(),f.TgZ(29,"div",8),f._UZ(30,"div",9),f.TgZ(31,"p"),f._uU(32,"Socials1"),f.qZA()()(),f.TgZ(33,"div",10)(34,"p"),f._uU(35,"Link "),f.TgZ(36,"span"),f._uU(37,"mek.gallery\\f78ds9afdsahu"),f.qZA()()(),f.TgZ(38,"p",11),f._uU(39," You could share and refer the Metabricks to a friend. Earning 5% of the sales made from the link. "),f.qZA()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:grid;grid-gap:50px;align-items:center;grid-template-columns:1fr 1fr}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]{margin:30px 0;padding:20px;display:flex;grid-gap:50px;justify-content:center}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]   .single-social[_ngcontent-%COMP%]{display:grid;grid-gap:10px}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]   .single-social[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background-color:#b0ffec}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:10px;justify-content:center;height:40px;background-color:#20249a}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:32px;font-style:normal;font-weight:400;font-family:MEK!important;color:#679bff!important}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b0ffec!important}.modal-body[_ngcontent-%COMP%]   p.bottom-text[_ngcontent-%COMP%]{margin:30px 0 0;color:#679bff!important;font-family:MEK!important;font-size:24px;font-style:normal;font-weight:400}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{grid-template-columns:1fr!important;grid-gap:30px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px!important;text-align:center!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{grid-gap:15px!important}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]{margin:20px 0!important;padding:15px!important;grid-gap:30px!important}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]   .single-social[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px!important;height:40px!important}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]{height:35px!important}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px!important}.modal-body[_ngcontent-%COMP%]   p.bottom-text[_ngcontent-%COMP%]{margin:20px 0 0!important;font-size:20px!important;text-align:center!important}}@media (max-width: 480px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{grid-gap:20px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{grid-gap:10px!important}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]{margin:15px 0!important;padding:10px!important;grid-gap:20px!important;flex-wrap:wrap!important}.modal-body[_ngcontent-%COMP%]   .social-icons-list[_ngcontent-%COMP%]   .single-social[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:35px!important;height:35px!important}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]{height:30px!important}.modal-body[_ngcontent-%COMP%]   .ref-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px!important}.modal-body[_ngcontent-%COMP%]   p.bottom-text[_ngcontent-%COMP%]{margin:15px 0 0!important;font-size:18px!important}}"]})}return o})();var nt=wt(3733);function zt(o){if(!Number.isSafeInteger(o)||o<0)throw new Error(`positive integer expected, not ${o}`)}function ct(o,...t){if(!function Dt(o){return o instanceof Uint8Array||null!=o&&"object"==typeof o&&"Uint8Array"===o.constructor.name}(o))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(o.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${o.length}`)}function qt(o,t=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(t&&o.finished)throw new Error("Hash#digest() has already been called")}function at(o,t){ct(o);const e=t.outputLen;if(o.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const bt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,re=o=>new DataView(o.buffer,o.byteOffset,o.byteLength),Jt=(o,t)=>o<<32-t|o>>>t,xt=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],rt=o=>o<<24&4278190080|o<<8&16711680|o>>>8&65280|o>>>24&255;function yt(o){for(let t=0;t<o.length;t++)o[t]=rt(o[t])}function d(o){return"string"==typeof o&&(o=function M(o){if("string"!=typeof o)throw new Error("utf8ToBytes expected string, got "+typeof o);return new Uint8Array((new TextEncoder).encode(o))}(o)),ct(o),o}class k{clone(){return this._cloneInto()}}function V(o){const t=i=>o().update(d(i)).digest(),e=o();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>o(),t}function ae(o=32){if(bt&&"function"==typeof bt.getRandomValues)return bt.getRandomValues(new Uint8Array(o));throw new Error("crypto.getRandomValues must be defined")}const ne=(o,t,e)=>o&t^~o&e,Ae=(o,t,e)=>o&t^o&e^t&e;class fe extends k{constructor(t,e,i,a){super(),this.blockLen=t,this.outputLen=e,this.padOffset=i,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=re(this.buffer)}update(t){qt(this);const{view:e,buffer:i,blockLen:a}=this,c=(t=d(t)).length;for(let h=0;h<c;){const p=Math.min(a-this.pos,c-h);if(p!==a)i.set(t.subarray(h,h+p),this.pos),this.pos+=p,h+=p,this.pos===a&&(this.process(e,0),this.pos=0);else{const b=re(t);for(;a<=c-h;h+=a)this.process(b,h)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){qt(this),at(t,this),this.finished=!0;const{buffer:e,view:i,blockLen:a,isLE:c}=this;let{pos:h}=this;e[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>a-h&&(this.process(i,0),h=0);for(let K=h;K<a;K++)e[K]=0;(function oe(o,t,e,i){if("function"==typeof o.setBigUint64)return o.setBigUint64(t,e,i);const a=BigInt(32),c=BigInt(4294967295),h=Number(e>>a&c),p=Number(e&c),P=i?0:4;o.setUint32(t+(i?4:0),h,i),o.setUint32(t+P,p,i)})(i,a-8,BigInt(8*this.length),c),this.process(i,0);const p=re(t),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const P=b/4,U=this.get();if(P>U.length)throw new Error("_sha2: outputLen bigger than state");for(let K=0;K<P;K++)p.setUint32(4*K,U[K],c)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const i=t.slice(0,e);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:i,length:a,finished:c,destroyed:h,pos:p}=this;return t.length=a,t.pos=p,t.finished=c,t.destroyed=h,a%e&&t.buffer.set(i),t}}const C=BigInt(2**32-1),m=BigInt(32);function w(o,t=!1){return t?{h:Number(o&C),l:Number(o>>m&C)}:{h:0|Number(o>>m&C),l:0|Number(o&C)}}function F(o,t=!1){let e=new Uint32Array(o.length),i=new Uint32Array(o.length);for(let a=0;a<o.length;a++){const{h:c,l:h}=w(o[a],t);[e[a],i[a]]=[c,h]}return[e,i]}const n=(o,t,e)=>o<<e|t>>>32-e,r=(o,t,e)=>t<<e|o>>>32-e,u=(o,t,e)=>t<<e-32|o>>>64-e,g=(o,t,e)=>o<<e-32|t>>>64-e,ce={fromBig:w,split:F,toBig:(o,t)=>BigInt(o>>>0)<<m|BigInt(t>>>0),shrSH:(o,t,e)=>o>>>e,shrSL:(o,t,e)=>o<<32-e|t>>>e,rotrSH:(o,t,e)=>o>>>e|t<<32-e,rotrSL:(o,t,e)=>o<<32-e|t>>>e,rotrBH:(o,t,e)=>o<<64-e|t>>>e-32,rotrBL:(o,t,e)=>o>>>e-32|t<<64-e,rotr32H:(o,t)=>t,rotr32L:(o,t)=>o,rotlSH:n,rotlSL:r,rotlBH:u,rotlBL:g,add:function _(o,t,e,i){const a=(t>>>0)+(i>>>0);return{h:o+e+(a/2**32|0)|0,l:0|a}},add3L:(o,t,e)=>(o>>>0)+(t>>>0)+(e>>>0),add3H:(o,t,e,i)=>t+e+i+(o/2**32|0)|0,add4L:(o,t,e,i)=>(o>>>0)+(t>>>0)+(e>>>0)+(i>>>0),add4H:(o,t,e,i,a)=>t+e+i+a+(o/2**32|0)|0,add5H:(o,t,e,i,a,c)=>t+e+i+a+c+(o/2**32|0)|0,add5L:(o,t,e,i,a)=>(o>>>0)+(t>>>0)+(e>>>0)+(i>>>0)+(a>>>0)},[Ve,Ge]=(()=>ce.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(o=>BigInt(o))))(),An=new Uint32Array(80),ve=new Uint32Array(80);class je extends fe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:i,Bl:a,Ch:c,Cl:h,Dh:p,Dl:b,Eh:P,El:U,Fh:K,Fl:X,Gh:st,Gl:J,Hh:z,Hl:H}=this;return[t,e,i,a,c,h,p,b,P,U,K,X,st,J,z,H]}set(t,e,i,a,c,h,p,b,P,U,K,X,st,J,z,H){this.Ah=0|t,this.Al=0|e,this.Bh=0|i,this.Bl=0|a,this.Ch=0|c,this.Cl=0|h,this.Dh=0|p,this.Dl=0|b,this.Eh=0|P,this.El=0|U,this.Fh=0|K,this.Fl=0|X,this.Gh=0|st,this.Gl=0|J,this.Hh=0|z,this.Hl=0|H}process(t,e){for(let mt=0;mt<16;mt++,e+=4)An[mt]=t.getUint32(e),ve[mt]=t.getUint32(e+=4);for(let mt=16;mt<80;mt++){const Wt=0|An[mt-15],vt=0|ve[mt-15],$t=ce.rotrSH(Wt,vt,1)^ce.rotrSH(Wt,vt,8)^ce.shrSH(Wt,vt,7),Qt=ce.rotrSL(Wt,vt,1)^ce.rotrSL(Wt,vt,8)^ce.shrSL(Wt,vt,7),te=0|An[mt-2],Te=0|ve[mt-2],_e=ce.rotrSH(te,Te,19)^ce.rotrBH(te,Te,61)^ce.shrSH(te,Te,6),de=ce.rotrSL(te,Te,19)^ce.rotrBL(te,Te,61)^ce.shrSL(te,Te,6),un=ce.add4L(Qt,de,ve[mt-7],ve[mt-16]),sn=ce.add4H(un,$t,_e,An[mt-7],An[mt-16]);An[mt]=0|sn,ve[mt]=0|un}let{Ah:i,Al:a,Bh:c,Bl:h,Ch:p,Cl:b,Dh:P,Dl:U,Eh:K,El:X,Fh:st,Fl:J,Gh:z,Gl:H,Hh:j,Hl:dt}=this;for(let mt=0;mt<80;mt++){const Wt=ce.rotrSH(K,X,14)^ce.rotrSH(K,X,18)^ce.rotrBH(K,X,41),vt=ce.rotrSL(K,X,14)^ce.rotrSL(K,X,18)^ce.rotrBL(K,X,41),$t=K&st^~K&z,te=ce.add5L(dt,vt,X&J^~X&H,Ge[mt],ve[mt]),Te=ce.add5H(te,j,Wt,$t,Ve[mt],An[mt]),_e=0|te,de=ce.rotrSH(i,a,28)^ce.rotrBH(i,a,34)^ce.rotrBH(i,a,39),un=ce.rotrSL(i,a,28)^ce.rotrBL(i,a,34)^ce.rotrBL(i,a,39),sn=i&c^i&p^c&p,vn=a&h^a&b^h&b;j=0|z,dt=0|H,z=0|st,H=0|J,st=0|K,J=0|X,({h:K,l:X}=ce.add(0|P,0|U,0|Te,0|_e)),P=0|p,U=0|b,p=0|c,b=0|h,c=0|i,h=0|a;const Mt=ce.add3L(_e,un,vn);i=ce.add3H(Mt,Te,de,sn),a=0|Mt}({h:i,l:a}=ce.add(0|this.Ah,0|this.Al,0|i,0|a)),({h:c,l:h}=ce.add(0|this.Bh,0|this.Bl,0|c,0|h)),({h:p,l:b}=ce.add(0|this.Ch,0|this.Cl,0|p,0|b)),({h:P,l:U}=ce.add(0|this.Dh,0|this.Dl,0|P,0|U)),({h:K,l:X}=ce.add(0|this.Eh,0|this.El,0|K,0|X)),({h:st,l:J}=ce.add(0|this.Fh,0|this.Fl,0|st,0|J)),({h:z,l:H}=ce.add(0|this.Gh,0|this.Gl,0|z,0|H)),({h:j,l:dt}=ce.add(0|this.Hh,0|this.Hl,0|j,0|dt)),this.set(i,a,c,h,p,b,P,U,K,X,st,J,z,H,j,dt)}roundClean(){An.fill(0),ve.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Nr=V(()=>new je),qe=BigInt(0),Fe=BigInt(1),Dr=BigInt(2);function Me(o){return o instanceof Uint8Array||null!=o&&"object"==typeof o&&"Uint8Array"===o.constructor.name}function Oe(o){if(!Me(o))throw new Error("Uint8Array expected")}const zr=Array.from({length:256},(o,t)=>t.toString(16).padStart(2,"0"));function Pe(o){Oe(o);let t="";for(let e=0;e<o.length;e++)t+=zr[o[e]];return t}function We(o){const t=o.toString(16);return 1&t.length?`0${t}`:t}function ur(o){if("string"!=typeof o)throw new Error("hex string expected, got "+typeof o);return BigInt(""===o?"0":`0x${o}`)}const Ie={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ke(o){return o>=Ie._0&&o<=Ie._9?o-Ie._0:o>=Ie._A&&o<=Ie._F?o-(Ie._A-10):o>=Ie._a&&o<=Ie._f?o-(Ie._a-10):void 0}function Rn(o){if("string"!=typeof o)throw new Error("hex string expected, got "+typeof o);const t=o.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(e);for(let a=0,c=0;a<e;a++,c+=2){const h=Ke(o.charCodeAt(c)),p=Ke(o.charCodeAt(c+1));if(void 0===h||void 0===p)throw new Error('hex string expected, got non-hex character "'+(o[c]+o[c+1])+'" at index '+c);i[a]=16*h+p}return i}function Mn(o){return ur(Pe(o))}function On(o){return Oe(o),ur(Pe(Uint8Array.from(o).reverse()))}function Un(o,t){return Rn(o.toString(16).padStart(2*t,"0"))}function Wn(o,t){return Un(o,t).reverse()}function br(o){return Rn(We(o))}function $e(o,t,e){let i;if("string"==typeof t)try{i=Rn(t)}catch(c){throw new Error(`${o} must be valid hex string, got "${t}". Cause: ${c}`)}else{if(!Me(t))throw new Error(`${o} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const a=i.length;if("number"==typeof e&&a!==e)throw new Error(`${o} expected ${e} bytes, got ${a}`);return i}function Pn(...o){let t=0;for(let i=0;i<o.length;i++){const a=o[i];Oe(a),t+=a.length}const e=new Uint8Array(t);for(let i=0,a=0;i<o.length;i++){const c=o[i];e.set(c,a),a+=c.length}return e}function xr(o,t){if(o.length!==t.length)return!1;let e=0;for(let i=0;i<o.length;i++)e|=o[i]^t[i];return 0===e}function _r(o){if("string"!=typeof o)throw new Error("utf8ToBytes expected string, got "+typeof o);return new Uint8Array((new TextEncoder).encode(o))}function kr(o){let t;for(t=0;o>qe;o>>=Fe,t+=1);return t}function Er(o,t){return o>>BigInt(t)&Fe}function Br(o,t,e){return o|(e?Fe:qe)<<BigInt(t)}const Qn=o=>(Dr<<BigInt(o-1))-Fe,tr=o=>new Uint8Array(o),lr=o=>Uint8Array.from(o);function hr(o,t,e){if("number"!=typeof o||o<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof e)throw new Error("hmacFn must be a function");let i=tr(o),a=tr(o),c=0;const h=()=>{i.fill(1),a.fill(0),c=0},p=(...K)=>e(a,i,...K),b=(K=tr())=>{a=p(lr([0]),K),i=p(),0!==K.length&&(a=p(lr([1]),K),i=p())},P=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let K=0;const X=[];for(;K<t;){i=p();const st=i.slice();X.push(st),K+=i.length}return Pn(...X)};return(K,X)=>{let st;for(h(),b(K);!(st=X(P()));)b();return h(),st}}const Ir={bigint:o=>"bigint"==typeof o,function:o=>"function"==typeof o,boolean:o=>"boolean"==typeof o,string:o=>"string"==typeof o,stringOrUint8Array:o=>"string"==typeof o||Me(o),isSafeInteger:o=>Number.isSafeInteger(o),array:o=>Array.isArray(o),field:(o,t)=>t.Fp.isValid(o),hash:o=>"function"==typeof o&&Number.isSafeInteger(o.outputLen)};function Ln(o,t,e={}){const i=(a,c,h)=>{const p=Ir[c];if("function"!=typeof p)throw new Error(`Invalid validator "${c}", expected function`);const b=o[a];if(!(h&&void 0===b||p(b,o)))throw new Error(`Invalid param ${String(a)}=${b} (${typeof b}), expected ${c}`)};for(const[a,c]of Object.entries(t))i(a,c,!1);for(const[a,c]of Object.entries(e))i(a,c,!0);return o}const hn=BigInt(0),Re=BigInt(1),Vn=BigInt(2),Ws=BigInt(3),fi=BigInt(4),io=BigInt(5),oo=BigInt(8);function Ne(o,t){const e=o%t;return e>=hn?e:t+e}function Zs(o,t,e){if(e<=hn||t<hn)throw new Error("Expected power/modulo > 0");if(e===Re)return hn;let i=Re;for(;t>hn;)t&Re&&(i=i*o%e),o=o*o%e,t>>=Re;return i}function Ye(o,t,e){let i=o;for(;t-- >hn;)i*=i,i%=e;return i}function qr(o,t){if(o===hn||t<=hn)throw new Error(`invert: expected positive integers, got n=${o} mod=${t}`);let e=Ne(o,t),i=t,a=hn,c=Re,h=Re,p=hn;for(;e!==hn;){const P=i/e,U=i%e,K=a-h*P,X=c-p*P;i=e,e=U,a=h,c=p,h=K,p=X}if(i!==Re)throw new Error("invert: does not exist");return Ne(a,t)}BigInt(9),BigInt(16);const Gs=(o,t)=>(Ne(o,t)&Re)===Re,js=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function di(o,t){const e=void 0!==t?t:o.toString(2).length;return{nBitLength:e,nByteLength:Math.ceil(e/8)}}function so(o,t,e=!1,i={}){if(o<=hn)throw new Error(`Expected Field ORDER > 0, got ${o}`);const{nBitLength:a,nByteLength:c}=di(o,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const h=function Vs(o){if(o%fi===Ws){const t=(o+Re)/fi;return function(i,a){const c=i.pow(a,t);if(!i.eql(i.sqr(c),a))throw new Error("Cannot find square root");return c}}if(o%oo===io){const t=(o-io)/oo;return function(i,a){const c=i.mul(a,Vn),h=i.pow(c,t),p=i.mul(a,h),b=i.mul(i.mul(p,Vn),h),P=i.mul(p,i.sub(b,i.ONE));if(!i.eql(i.sqr(P),a))throw new Error("Cannot find square root");return P}}return function Hs(o){const t=(o-Re)/Vn;let e,i,a;for(e=o-Re,i=0;e%Vn===hn;e/=Vn,i++);for(a=Vn;a<o&&Zs(a,t,o)!==o-Re;a++);if(1===i){const h=(o+Re)/fi;return function(b,P){const U=b.pow(P,h);if(!b.eql(b.sqr(U),P))throw new Error("Cannot find square root");return U}}const c=(e+Re)/Vn;return function(p,b){if(p.pow(b,t)===p.neg(p.ONE))throw new Error("Cannot find square root");let P=i,U=p.pow(p.mul(p.ONE,a),e),K=p.pow(b,c),X=p.pow(b,e);for(;!p.eql(X,p.ONE);){if(p.eql(X,p.ZERO))return p.ZERO;let st=1;for(let z=p.sqr(X);st<P&&!p.eql(z,p.ONE);st++)z=p.sqr(z);const J=p.pow(U,Re<<BigInt(P-st-1));U=p.sqr(J),K=p.mul(K,J),X=p.mul(X,U),P=st}return K}}(o)}(o),p=Object.freeze({ORDER:o,BITS:a,BYTES:c,MASK:Qn(a),ZERO:hn,ONE:Re,create:b=>Ne(b,o),isValid:b=>{if("bigint"!=typeof b)throw new Error("Invalid field element: expected bigint, got "+typeof b);return hn<=b&&b<o},is0:b=>b===hn,isOdd:b=>(b&Re)===Re,neg:b=>Ne(-b,o),eql:(b,P)=>b===P,sqr:b=>Ne(b*b,o),add:(b,P)=>Ne(b+P,o),sub:(b,P)=>Ne(b-P,o),mul:(b,P)=>Ne(b*P,o),pow:(b,P)=>function Js(o,t,e){if(e<hn)throw new Error("Expected power > 0");if(e===hn)return o.ONE;if(e===Re)return t;let i=o.ONE,a=t;for(;e>hn;)e&Re&&(i=o.mul(i,a)),a=o.sqr(a),e>>=Re;return i}(p,b,P),div:(b,P)=>Ne(b*qr(P,o),o),sqrN:b=>b*b,addN:(b,P)=>b+P,subN:(b,P)=>b-P,mulN:(b,P)=>b*P,inv:b=>qr(b,o),sqrt:i.sqrt||(b=>h(p,b)),invertBatch:b=>function Xs(o,t){const e=new Array(t.length),i=t.reduce((c,h,p)=>o.is0(h)?c:(e[p]=c,o.mul(c,h)),o.ONE),a=o.inv(i);return t.reduceRight((c,h,p)=>o.is0(h)?c:(e[p]=o.mul(c,e[p]),o.mul(c,h)),a),e}(p,b),cmov:(b,P,U)=>U?P:b,toBytes:b=>e?Wn(b,c):Un(b,c),fromBytes:b=>{if(b.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${b.length}`);return e?On(b):Mn(b)}});return Object.freeze(p)}function ao(o){if("bigint"!=typeof o)throw new Error("field order must be bigint");const t=o.toString(2).length;return Math.ceil(t/8)}function co(o){const t=ao(o);return t+Math.ceil(t/2)}const ta=BigInt(0),pi=BigInt(1);function uo(o,t){const e=(a,c)=>{const h=c.negate();return a?h:c},i=a=>({windows:Math.ceil(t/a)+1,windowSize:2**(a-1)});return{constTimeNegate:e,unsafeLadder(a,c){let h=o.ZERO,p=a;for(;c>ta;)c&pi&&(h=h.add(p)),p=p.double(),c>>=pi;return h},precomputeWindow(a,c){const{windows:h,windowSize:p}=i(c),b=[];let P=a,U=P;for(let K=0;K<h;K++){U=P,b.push(U);for(let X=1;X<p;X++)U=U.add(P),b.push(U);P=U.double()}return b},wNAF(a,c,h){const{windows:p,windowSize:b}=i(a);let P=o.ZERO,U=o.BASE;const K=BigInt(2**a-1),X=2**a,st=BigInt(a);for(let J=0;J<p;J++){const z=J*b;let H=Number(h&K);h>>=st,H>b&&(H-=X,h+=pi);const j=z,dt=z+Math.abs(H)-1,Wt=H<0;0===H?U=U.add(e(J%2!=0,c[j])):P=P.add(e(Wt,c[dt]))}return{p:P,f:U}},wNAFCached(a,c,h,p){const b=a._WINDOW_SIZE||1;let P=c.get(a);return P||(P=this.precomputeWindow(a,b),1!==b&&c.set(a,p(P))),this.wNAF(b,P,h)}}}function gi(o){return function Ys(o){Ln(o,js.reduce((i,a)=>(i[a]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(o.Fp),Ln(o,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...di(o.n,o.nBitLength),...o,p:o.Fp.ORDER})}const Tn=BigInt(0),En=BigInt(1),Wr=BigInt(2),ea=BigInt(8),na={zip215:!0};const mi=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),lo=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Fn=(BigInt(0),BigInt(1)),yi=BigInt(2),ho=(BigInt(3),BigInt(5)),fo=BigInt(8);function aa(o){return o[0]&=248,o[31]&=127,o[31]|=64,o}function wi(o,t){const e=mi,i=Ne(t*t*t,e),c=function sa(o){const t=BigInt(10),e=BigInt(20),i=BigInt(40),a=BigInt(80),c=mi,p=o*o%c*o%c,b=Ye(p,yi,c)*p%c,P=Ye(b,Fn,c)*o%c,U=Ye(P,ho,c)*P%c,K=Ye(U,t,c)*U%c,X=Ye(K,e,c)*K%c,st=Ye(X,i,c)*X%c,J=Ye(st,a,c)*st%c,z=Ye(J,a,c)*st%c,H=Ye(z,t,c)*U%c;return{pow_p_5_8:Ye(H,yi,c)*o%c,b2:p}}(o*Ne(i*i*t,e)).pow_p_5_8;let h=Ne(o*i*c,e);const p=Ne(t*h*h,e),b=h,P=Ne(h*lo,e),U=p===o,K=p===Ne(-o,e),X=p===Ne(-o*lo,e);return U&&(h=b),(K||X)&&(h=P),Gs(h,e)&&(h=Ne(-h,e)),{isValid:U||K,value:h}}const Vt=(()=>so(mi,void 0,!0))(),bi=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:fo,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Nr,randomBytes:ae,adjustScalarBytes:aa,uvRatio:wi}))(),an=(()=>function ia(o){const t=function ra(o){const t=gi(o);return Ln(o,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(o),{Fp:e,n:i,prehash:a,hash:c,randomBytes:h,nByteLength:p,h:b}=t,P=Wr<<BigInt(8*p)-En,U=e.create,K=t.uvRatio||((Rt,pt)=>{try{return{isValid:!0,value:e.sqrt(Rt*e.inv(pt))}}catch{return{isValid:!1,value:Tn}}}),X=t.adjustScalarBytes||(Rt=>Rt),st=t.domain||((Rt,pt,Zt)=>{if(pt.length||Zt)throw new Error("Contexts/pre-hash are not supported");return Rt}),J=Rt=>"bigint"==typeof Rt&&Tn<Rt,z=(Rt,pt)=>J(Rt)&&J(pt)&&Rt<pt,H=Rt=>Rt===Tn||z(Rt,P);function j(Rt,pt){if(z(Rt,pt))return Rt;throw new Error(`Expected valid scalar < ${pt}, got ${typeof Rt} ${Rt}`)}function dt(Rt){return Rt===Tn?Rt:j(Rt,i)}const mt=new Map;function Wt(Rt){if(!(Rt instanceof vt))throw new Error("ExtendedPoint expected")}class vt{constructor(pt,Zt,ee,se){if(this.ex=pt,this.ey=Zt,this.ez=ee,this.et=se,!H(pt))throw new Error("x required");if(!H(Zt))throw new Error("y required");if(!H(ee))throw new Error("z required");if(!H(se))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(pt){if(pt instanceof vt)throw new Error("extended point not allowed");const{x:Zt,y:ee}=pt||{};if(!H(Zt)||!H(ee))throw new Error("invalid affine point");return new vt(Zt,ee,En,U(Zt*ee))}static normalizeZ(pt){const Zt=e.invertBatch(pt.map(ee=>ee.ez));return pt.map((ee,se)=>ee.toAffine(Zt[se])).map(vt.fromAffine)}_setWindowSize(pt){this._WINDOW_SIZE=pt,mt.delete(this)}assertValidity(){const{a:pt,d:Zt}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:ee,ey:se,ez:ge,et:me}=this,Ee=U(ee*ee),be=U(se*se),ke=U(ge*ge),ln=U(ke*ke),Qe=U(Ee*pt);if(U(ke*U(Qe+be))!==U(ln+U(Zt*U(Ee*be))))throw new Error("bad point: equation left != right (1)");if(U(ee*se)!==U(ge*me))throw new Error("bad point: equation left != right (2)")}equals(pt){Wt(pt);const{ex:Zt,ey:ee,ez:se}=this,{ex:ge,ey:me,ez:Ee}=pt,be=U(Zt*Ee),ke=U(ge*se),ln=U(ee*Ee),Qe=U(me*se);return be===ke&&ln===Qe}is0(){return this.equals(vt.ZERO)}negate(){return new vt(U(-this.ex),this.ey,this.ez,U(-this.et))}double(){const{a:pt}=t,{ex:Zt,ey:ee,ez:se}=this,ge=U(Zt*Zt),me=U(ee*ee),Ee=U(Wr*U(se*se)),be=U(pt*ge),ke=Zt+ee,ln=U(U(ke*ke)-ge-me),Qe=be+me,mn=Qe-Ee,yn=be-me,dn=U(ln*mn),wn=U(Qe*yn),Hn=U(ln*yn),cr=U(mn*Qe);return new vt(dn,wn,cr,Hn)}add(pt){Wt(pt);const{a:Zt,d:ee}=t,{ex:se,ey:ge,ez:me,et:Ee}=this,{ex:be,ey:ke,ez:ln,et:Qe}=pt;if(Zt===BigInt(-1)){const Us=U((ge-se)*(ke+be)),Ls=U((ge+se)*(ke-be)),ro=U(Ls-Us);if(ro===Tn)return this.double();const Fs=U(me*Wr*Qe),Ns=U(Ee*Wr*ln),Ds=Ns+Fs,zs=Ls+Us,qs=Ns-Fs,Zl=U(Ds*ro),Hl=U(zs*qs),Vl=U(Ds*qs),Gl=U(ro*zs);return new vt(Zl,Hl,Gl,Vl)}const mn=U(se*be),yn=U(ge*ke),dn=U(Ee*ee*Qe),wn=U(me*ln),Hn=U((se+ge)*(be+ke)-mn-yn),cr=wn-dn,Fr=wn+dn,Os=U(yn-Zt*mn),ql=U(Hn*cr),Wl=U(Fr*Os),Kl=U(Hn*Os),$l=U(cr*Fr);return new vt(ql,Wl,$l,Kl)}subtract(pt){return this.add(pt.negate())}wNAF(pt){return te.wNAFCached(this,mt,pt,vt.normalizeZ)}multiply(pt){const{p:Zt,f:ee}=this.wNAF(j(pt,i));return vt.normalizeZ([Zt,ee])[0]}multiplyUnsafe(pt){let Zt=dt(pt);return Zt===Tn?Qt:this.equals(Qt)||Zt===En?this:this.equals($t)?this.wNAF(Zt).p:te.unsafeLadder(this,Zt)}isSmallOrder(){return this.multiplyUnsafe(b).is0()}isTorsionFree(){return te.unsafeLadder(this,i).is0()}toAffine(pt){const{ex:Zt,ey:ee,ez:se}=this,ge=this.is0();null==pt&&(pt=ge?ea:e.inv(se));const me=U(Zt*pt),Ee=U(ee*pt),be=U(se*pt);if(ge)return{x:Tn,y:En};if(be!==En)throw new Error("invZ was invalid");return{x:me,y:Ee}}clearCofactor(){const{h:pt}=t;return pt===En?this:this.multiplyUnsafe(pt)}static fromHex(pt,Zt=!1){const{d:ee,a:se}=t,ge=e.BYTES,me=(pt=$e("pointHex",pt,ge)).slice(),Ee=pt[ge-1];me[ge-1]=-129&Ee;const be=On(me);be===Tn||j(be,Zt?P:e.ORDER);const ke=U(be*be),ln=U(ke-En),Qe=U(ee*ke-se);let{isValid:mn,value:yn}=K(ln,Qe);if(!mn)throw new Error("Point.fromHex: invalid y coordinate");const dn=(yn&En)===En,wn=0!=(128&Ee);if(!Zt&&yn===Tn&&wn)throw new Error("Point.fromHex: x=0 and x_0=1");return wn!==dn&&(yn=U(-yn)),vt.fromAffine({x:yn,y:be})}static fromPrivateKey(pt){return de(pt).point}toRawBytes(){const{x:pt,y:Zt}=this.toAffine(),ee=Wn(Zt,e.BYTES);return ee[ee.length-1]|=pt&En?128:0,ee}toHex(){return Pe(this.toRawBytes())}}vt.BASE=new vt(t.Gx,t.Gy,En,U(t.Gx*t.Gy)),vt.ZERO=new vt(Tn,En,En,Tn);const{BASE:$t,ZERO:Qt}=vt,te=uo(vt,8*p);function Te(Rt){return Ne(Rt,i)}function _e(Rt){return Te(On(Rt))}function de(Rt){const pt=p;Rt=$e("private key",Rt,pt);const Zt=$e("hashed private key",c(Rt),2*pt),ee=X(Zt.slice(0,pt)),se=Zt.slice(pt,2*pt),ge=_e(ee),me=$t.multiply(ge),Ee=me.toRawBytes();return{head:ee,prefix:se,scalar:ge,point:me,pointBytes:Ee}}function sn(Rt=new Uint8Array,...pt){const Zt=Pn(...pt);return _e(c(st(Zt,$e("context",Rt),!!a)))}const Mt=na;return $t._setWindowSize(8),{CURVE:t,getPublicKey:function un(Rt){return de(Rt).pointBytes},sign:function vn(Rt,pt,Zt={}){Rt=$e("message",Rt),a&&(Rt=a(Rt));const{prefix:ee,scalar:se,pointBytes:ge}=de(pt),me=sn(Zt.context,ee,Rt),Ee=$t.multiply(me).toRawBytes(),ke=Te(me+sn(Zt.context,Ee,ge,Rt)*se);return dt(ke),$e("result",Pn(Ee,Wn(ke,e.BYTES)),2*p)},verify:function Gt(Rt,pt,Zt,ee=Mt){const{context:se,zip215:ge}=ee,me=e.BYTES;Rt=$e("signature",Rt,2*me),pt=$e("message",pt),a&&(pt=a(pt));const Ee=On(Rt.slice(me,2*me));let be,ke,ln;try{be=vt.fromHex(Zt,ge),ke=vt.fromHex(Rt.slice(0,me),ge),ln=$t.multiplyUnsafe(Ee)}catch{return!1}if(!ge&&be.isSmallOrder())return!1;const Qe=sn(se,ke.toRawBytes(),be.toRawBytes(),pt);return ke.add(be.multiplyUnsafe(Qe)).subtract(ln).clearCofactor().equals(vt.ZERO)},ExtendedPoint:vt,utils:{getExtendedPublicKey:de,randomPrivateKey:()=>h(e.BYTES),precompute:(Rt=8,pt=vt.BASE)=>(pt._setWindowSize(Rt),pt.multiply(BigInt(3)),pt)}}}(bi))();var ma=wt(8538),yo=wt.n(ma),ya=wt(129),pn=wt.n(ya);const wa=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jn=new Uint32Array(64);class ba extends fe{constructor(){super(64,32,8,!1),this.A=0|Gn[0],this.B=0|Gn[1],this.C=0|Gn[2],this.D=0|Gn[3],this.E=0|Gn[4],this.F=0|Gn[5],this.G=0|Gn[6],this.H=0|Gn[7]}get(){const{A:t,B:e,C:i,D:a,E:c,F:h,G:p,H:b}=this;return[t,e,i,a,c,h,p,b]}set(t,e,i,a,c,h,p,b){this.A=0|t,this.B=0|e,this.C=0|i,this.D=0|a,this.E=0|c,this.F=0|h,this.G=0|p,this.H=0|b}process(t,e){for(let K=0;K<16;K++,e+=4)jn[K]=t.getUint32(e,!1);for(let K=16;K<64;K++){const X=jn[K-15],st=jn[K-2],J=Jt(X,7)^Jt(X,18)^X>>>3,z=Jt(st,17)^Jt(st,19)^st>>>10;jn[K]=z+jn[K-7]+J+jn[K-16]|0}let{A:i,B:a,C:c,D:h,E:p,F:b,G:P,H:U}=this;for(let K=0;K<64;K++){const st=U+(Jt(p,6)^Jt(p,11)^Jt(p,25))+ne(p,b,P)+wa[K]+jn[K]|0,z=(Jt(i,2)^Jt(i,13)^Jt(i,22))+Ae(i,a,c)|0;U=P,P=b,b=p,p=h+st|0,h=c,c=a,a=i,i=st+z|0}i=i+this.A|0,a=a+this.B|0,c=c+this.C|0,h=h+this.D|0,p=p+this.E|0,b=b+this.F|0,P=P+this.G|0,U=U+this.H|0,this.set(i,a,c,h,p,b,P,U)}roundClean(){jn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ei=V(()=>new ba);var Bi=wt(1531),q=wt(1141),Ii=wt(3841);class xa extends TypeError{constructor(t,e){let i;const{message:a,explanation:c,...h}=t,{path:p}=t,b=0===p.length?a:`At path: ${p.join(".")} -- ${a}`;super(c??b),null!=c&&(this.cause=b),Object.assign(this,h),this.name=this.constructor.name,this.failures=()=>i??(i=[t,...e()])}}function fr(o){return"object"==typeof o&&null!=o}function dr(o){return fr(o)&&!Array.isArray(o)}function fn(o){return"symbol"==typeof o?o.toString():"string"==typeof o?JSON.stringify(o):`${o}`}function Ea(o,t,e,i){if(!0===o)return;!1===o?o={}:"string"==typeof o&&(o={message:o});const{path:a,branch:c}=t,{type:h}=e,{refinement:p,message:b=`Expected a value of type \`${h}\`${p?` with refinement \`${p}\``:""}, but received: \`${fn(i)}\``}=o;return{value:i,type:h,refinement:p,key:a[a.length-1],path:a,branch:c,...o,message:b}}function*Si(o,t,e,i){(function _a(o){return fr(o)&&"function"==typeof o[Symbol.iterator]})(o)||(o=[o]);for(const a of o){const c=Ea(a,t,e,i);c&&(yield c)}}function*vi(o,t,e={}){const{path:i=[],branch:a=[o],coerce:c=!1,mask:h=!1}=e,p={path:i,branch:a,mask:h};c&&(o=t.coercer(o,p));let b="valid";for(const P of t.validator(o,p))P.explanation=e.message,b="not_valid",yield[P,void 0];for(let[P,U,K]of t.entries(o,p)){const X=vi(U,K,{path:void 0===P?i:[...i,P],branch:void 0===P?a:[...a,U],coerce:c,mask:h,message:e.message});for(const st of X)st[0]?(b=null!=st[0].refinement?"not_refined":"not_valid",yield[st[0],void 0]):c&&(U=st[1],void 0===P?o=U:o instanceof Map?o.set(P,U):o instanceof Set?o.add(U):fr(o)&&(void 0!==U||P in o)&&(o[P]=U))}if("not_valid"!==b)for(const P of t.refiner(o,p))P.explanation=e.message,b="not_refined",yield[P,void 0];"valid"===b&&(yield[void 0,o])}class cn{constructor(t){const{type:e,schema:i,validator:a,refiner:c,coercer:h=(b=>b),entries:p=function*(){}}=t;this.type=e,this.schema=i,this.entries=p,this.coercer=h,this.validator=a?(b,P)=>Si(a(b,P),P,this,b):()=>[],this.refiner=c?(b,P)=>Si(c(b,P),P,this,b):()=>[]}assert(t,e){return function Ba(o,t,e){const i=Sr(o,t,{message:e});if(i[0])throw i[0]}(t,this,e)}create(t,e){return St(t,this,e)}is(t){return bo(t,this)}mask(t,e){return function Ia(o,t,e){const i=Sr(o,t,{coerce:!0,mask:!0,message:e});if(i[0])throw i[0];return i[1]}(t,this,e)}validate(t,e={}){return Sr(t,this,e)}}function St(o,t,e){const i=Sr(o,t,{coerce:!0,message:e});if(i[0])throw i[0];return i[1]}function bo(o,t){return!Sr(o,t)[0]}function Sr(o,t,e={}){const i=vi(o,t,e),a=function ka(o){const{done:t,value:e}=o.next();return t?void 0:e}(i);return a[0]?[new xa(a[0],function*(){for(const h of i)h[0]&&(yield h[0])}),void 0]:[void 0,a[1]]}function Bn(o,t){return new cn({type:o,schema:null,validator:t})}function Ft(o){return new cn({type:"array",schema:o,*entries(t){if(o&&Array.isArray(t))for(const[e,i]of t.entries())yield[e,i,o]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${fn(t)}`})}function Nn(){return Bn("boolean",o=>"boolean"==typeof o)}function Ai(o){return Bn("instance",t=>t instanceof o||`Expected a \`${o.name}\` instance, but received: ${fn(t)}`)}function Ze(o){const t=fn(o),e=typeof o;return new cn({type:"literal",schema:"string"===e||"number"===e||"boolean"===e?o:null,validator:i=>i===o||`Expected the literal \`${t}\`, but received: ${fn(i)}`})}function Nt(o){return new cn({...o,validator:(t,e)=>null===t||o.validator(t,e),refiner:(t,e)=>null===t||o.refiner(t,e)})}function G(){return Bn("number",o=>"number"==typeof o&&!isNaN(o)||`Expected a number, but received: ${fn(o)}`)}function ie(o){return new cn({...o,validator:(t,e)=>void 0===t||o.validator(t,e),refiner:(t,e)=>void 0===t||o.refiner(t,e)})}function _o(o,t){return new cn({type:"record",schema:null,*entries(e){if(fr(e))for(const i in e){const a=e[i];yield[i,i,o],yield[i,a,t]}},validator:e=>dr(e)||`Expected an object, but received: ${fn(e)}`,coercer:e=>dr(e)?{...e}:e})}function Et(){return Bn("string",o=>"string"==typeof o||`Expected a string, but received: ${fn(o)}`)}function Mi(o){const t=function xo(){return Bn("never",()=>!1)}();return new cn({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const i=Math.max(o.length,e.length);for(let a=0;a<i;a++)yield[a,e[a],o[a]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${fn(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function ht(o){const t=Object.keys(o);return new cn({type:"type",schema:o,*entries(e){if(fr(e))for(const i of t)yield[i,e[i],o[i]]},validator:e=>dr(e)||`Expected an object, but received: ${fn(e)}`,coercer:e=>dr(e)?{...e}:e})}function bn(o){const t=o.map(e=>e.type).join(" | ");return new cn({type:"union",schema:null,coercer(e,i){for(const a of o){const[c,h]=a.validate(e,{coerce:!0,mask:i.mask});if(!c)return h}return e},validator(e,i){const a=[];for(const c of o){const[...h]=vi(e,c,i),[p]=h;if(!p[0])return[];for(const[b]of h)b&&a.push(b)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${fn(e)}`,...a]}})}function er(){return Bn("unknown",()=>!0)}function nr(o,t,e){return new cn({...o,coercer:(i,a)=>bo(i,t)?o.coercer(e(i,a),a):o.coercer(i,a)})}var va=wt(3678),Aa=wt.n(va),Ma=wt(4091),Eo=wt(2985),Pa=class extends Eo{socket;constructor(o,t,e){super(),this.socket=new window.WebSocket(o,e),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(o,t,e){const i=e||t;try{this.socket.send(o),i()}catch(a){i(a)}}close(o,t){this.socket.close(o,t)}addEventListener(o,t,e){this.socket.addEventListener(o,t,e)}};var Ca=class extends Eo{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(o,t="ws://localhost:8080",{autoconnect:e=!0,reconnect:i=!0,reconnect_interval:a=1e3,max_reconnects:c=5,...h}={},p,b){super(),this.webSocketFactory=o,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=e,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=a,this.max_reconnects=c,this.rest_options=h,this.current_reconnects=0,this.generate_request_id=p||(()=>++this.rpc_id),this.dataPack=b||new class{encode(o){return JSON.stringify(o)}decode(o){return JSON.parse(o)}},this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(o,t,e,i){return!i&&"object"==typeof e&&(i=e,e=null),new Promise((a,c)=>{if(!this.ready)return c(new Error("socket not ready"));const h=this.generate_request_id(o,t);this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:o,params:t||void 0,id:h}),i,b=>{if(b)return c(b);this.queue[h]={promise:[a,c]},e&&(this.queue[h].timeout=setTimeout(()=>{delete this.queue[h],c(new Error("reply timeout"))},e))})})}login(o){var t=this;return x(function*(){const e=yield t.call("rpc.login",o);if(!e)throw new Error("authentication failed");return e})()}listMethods(){var o=this;return x(function*(){return yield o.call("__listMethods")})()}notify(o,t){return new Promise((e,i)=>{if(!this.ready)return i(new Error("socket not ready"));this.socket.send(this.dataPack.encode({jsonrpc:"2.0",method:o,params:t}),c=>{if(c)return i(c);e()})})}subscribe(o){var t=this;return x(function*(){"string"==typeof o&&(o=[o]);const e=yield t.call("rpc.on",o);if("string"==typeof o&&"ok"!==e[o])throw new Error("Failed subscribing to an event '"+o+"' with: "+e[o]);return e})()}unsubscribe(o){var t=this;return x(function*(){"string"==typeof o&&(o=[o]);const e=yield t.call("rpc.off",o);if("string"==typeof o&&"ok"!==e[o])throw new Error("Failed unsubscribing from an event with: "+e);return e})()}close(o,t){this.socket.close(o||1e3,t)}setAutoReconnect(o){this.reconnect=o}setReconnectInterval(o){this.reconnect_interval=o}setMaxReconnects(o){this.max_reconnects=o}_connect(o,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(o,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=Ma.lW.from(e).toString());try{e=this.dataPack.decode(e)}catch{return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const i=[e.notification];if(e.params.constructor===Object)i.push(e.params);else for(let a=0;a<e.params.length;a++)i.push(e.params[a]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:e,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",e,i),0),this.ready=!1,this.socket=void 0,1e3!==e&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(o,t),this.reconnect_interval)))})}};const Io=[],So=[],vo=[],Ra=BigInt(0),vr=BigInt(1),Oa=BigInt(2),Ua=BigInt(7),La=BigInt(256),Fa=BigInt(113);for(let o=0,t=vr,e=1,i=0;o<24;o++){[e,i]=[i,(2*e+3*i)%5],Io.push(2*(5*i+e)),So.push((o+1)*(o+2)/2%64);let a=Ra;for(let c=0;c<7;c++)t=(t<<vr^(t>>Ua)*Fa)%La,t&Oa&&(a^=vr<<(vr<<BigInt(c))-vr);vo.push(a)}const[Na,Da]=F(vo,!0),Ao=(o,t,e)=>e>32?u(o,t,e):n(o,t,e),Mo=(o,t,e)=>e>32?g(o,t,e):r(o,t,e);class $r extends k{constructor(t,e,i,a=!1,c=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=i,this.enableXOF=a,this.rounds=c,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,zt(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){xt||yt(this.state32),function za(o,t=24){const e=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let h=0;h<10;h++)e[h]=o[h]^o[h+10]^o[h+20]^o[h+30]^o[h+40];for(let h=0;h<10;h+=2){const p=(h+8)%10,b=(h+2)%10,P=e[b],U=e[b+1],K=Ao(P,U,1)^e[p],X=Mo(P,U,1)^e[p+1];for(let st=0;st<50;st+=10)o[h+st]^=K,o[h+st+1]^=X}let a=o[2],c=o[3];for(let h=0;h<24;h++){const p=So[h],b=Ao(a,c,p),P=Mo(a,c,p),U=Io[h];a=o[U],c=o[U+1],o[U]=b,o[U+1]=P}for(let h=0;h<50;h+=10){for(let p=0;p<10;p++)e[p]=o[h+p];for(let p=0;p<10;p++)o[h+p]^=~e[(p+2)%10]&e[(p+4)%10]}o[0]^=Na[i],o[1]^=Da[i]}e.fill(0)}(this.state32,this.rounds),xt||yt(this.state32),this.posOut=0,this.pos=0}update(t){qt(this);const{blockLen:e,state:i}=this,a=(t=d(t)).length;for(let c=0;c<a;){const h=Math.min(e-this.pos,a-c);for(let p=0;p<h;p++)i[this.pos++]^=t[c++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:i,blockLen:a}=this;t[i]^=e,128&e&&i===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){qt(this,!1),ct(t),this.finish();const e=this.state,{blockLen:i}=this;for(let a=0,c=t.length;a<c;){this.posOut>=i&&this.keccak();const h=Math.min(i-this.posOut,c-a);t.set(e.subarray(this.posOut,this.posOut+h),a),this.posOut+=h,a+=h}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return zt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(at(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:i,outputLen:a,rounds:c,enableXOF:h}=this;return t||(t=new $r(e,i,a,h,c)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=c,t.suffix=i,t.outputLen=a,t.enableXOF=h,t.destroyed=this.destroyed,t}}const Po=((o,t,e)=>V(()=>new $r(136,1,32)))();class To extends k{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,function tt(o){if("function"!=typeof o||"function"!=typeof o.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");zt(o.outputLen),zt(o.blockLen)}(t);const i=d(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,c=new Uint8Array(a);c.set(i.length>a?t.create().update(i).digest():i);for(let h=0;h<c.length;h++)c[h]^=54;this.iHash.update(c),this.oHash=t.create();for(let h=0;h<c.length;h++)c[h]^=106;this.oHash.update(c),c.fill(0)}update(t){return qt(this),this.iHash.update(t),this}digestInto(t){qt(this),ct(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:i,finished:a,destroyed:c,blockLen:h,outputLen:p}=this;return t.finished=a,t.destroyed=c,t.blockLen=h,t.outputLen=p,t.oHash=e._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Co=(o,t,e)=>new To(o,t).update(e).digest();Co.create=(o,t)=>new To(o,t);const{bytesToNumberBE:Ka,hexToBytes:$a}=D,rr={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(o){const{Err:t}=rr;if(o.length<2||2!==o[0])throw new t("Invalid signature integer tag");const e=o[1],i=o.subarray(2,e+2);if(!e||i.length!==e)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Ka(i),l:o.subarray(e+2)}},toSig(o){const{Err:t}=rr,e="string"==typeof o?$a(o):o;Oe(e);let i=e.length;if(i<2||48!=e[0])throw new t("Invalid signature tag");if(e[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:a,l:c}=rr._parseInt(e.subarray(2)),{d:h,l:p}=rr._parseInt(c);if(p.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:h}},hexFromSig(o){const t=P=>8&Number.parseInt(P[0],16)?"00"+P:P,e=P=>{const U=P.toString(16);return 1&U.length?`0${U}`:U},i=t(e(o.s)),a=t(e(o.r)),c=i.length/2,h=a.length/2,p=e(c),b=e(h);return`30${e(h+c+4)}02${b}${a}02${p}${i}`}},Cn=BigInt(0),Je=BigInt(1),Zr=(BigInt(2),BigInt(3));function Va(o){const t=function Ha(o){const t=gi(o);return Ln(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(o),{Fp:e,n:i}=t,a=e.BYTES+1,c=2*e.BYTES+1;function p(Mt){return Ne(Mt,i)}function b(Mt){return qr(Mt,i)}const{ProjectivePoint:P,normPrivateKeyToScalar:U,weierstrassEquation:K,isWithinCurveOrder:X}=function Za(o){const t=function Wa(o){const t=gi(o);Ln(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:i,a}=t;if(e){if(!i.eql(a,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof e||"bigint"!=typeof e.beta||"function"!=typeof e.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(o),{Fp:e}=t,i=t.toBytes||((J,z,H)=>{const j=z.toAffine();return Pn(Uint8Array.from([4]),e.toBytes(j.x),e.toBytes(j.y))}),a=t.fromBytes||(J=>{const z=J.subarray(1);return{x:e.fromBytes(z.subarray(0,e.BYTES)),y:e.fromBytes(z.subarray(e.BYTES,2*e.BYTES))}});function c(J){const{a:z,b:H}=t,j=e.sqr(J),dt=e.mul(j,J);return e.add(e.add(dt,e.mul(J,z)),H)}if(!e.eql(e.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function h(J){return"bigint"==typeof J&&Cn<J&&J<t.n}function p(J){if(!h(J))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function b(J){const{allowedPrivateKeyLengths:z,nByteLength:H,wrapPrivateKey:j,n:dt}=t;if(z&&"bigint"!=typeof J){if(Me(J)&&(J=Pe(J)),"string"!=typeof J||!z.includes(J.length))throw new Error("Invalid key");J=J.padStart(2*H,"0")}let mt;try{mt="bigint"==typeof J?J:Mn($e("private key",J,H))}catch{throw new Error(`private key must be ${H} bytes, hex or bigint, not ${typeof J}`)}return j&&(mt=Ne(mt,dt)),p(mt),mt}const P=new Map;function U(J){if(!(J instanceof K))throw new Error("ProjectivePoint expected")}class K{constructor(z,H,j){if(this.px=z,this.py=H,this.pz=j,null==z||!e.isValid(z))throw new Error("x required");if(null==H||!e.isValid(H))throw new Error("y required");if(null==j||!e.isValid(j))throw new Error("z required")}static fromAffine(z){const{x:H,y:j}=z||{};if(!z||!e.isValid(H)||!e.isValid(j))throw new Error("invalid affine point");if(z instanceof K)throw new Error("projective point not allowed");const dt=mt=>e.eql(mt,e.ZERO);return dt(H)&&dt(j)?K.ZERO:new K(H,j,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(z){const H=e.invertBatch(z.map(j=>j.pz));return z.map((j,dt)=>j.toAffine(H[dt])).map(K.fromAffine)}static fromHex(z){const H=K.fromAffine(a($e("pointHex",z)));return H.assertValidity(),H}static fromPrivateKey(z){return K.BASE.multiply(b(z))}_setWindowSize(z){this._WINDOW_SIZE=z,P.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:z,y:H}=this.toAffine();if(!e.isValid(z)||!e.isValid(H))throw new Error("bad point: x or y not FE");const j=e.sqr(H),dt=c(z);if(!e.eql(j,dt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:z}=this.toAffine();if(e.isOdd)return!e.isOdd(z);throw new Error("Field doesn't support isOdd")}equals(z){U(z);const{px:H,py:j,pz:dt}=this,{px:mt,py:Wt,pz:vt}=z,$t=e.eql(e.mul(H,vt),e.mul(mt,dt)),Qt=e.eql(e.mul(j,vt),e.mul(Wt,dt));return $t&&Qt}negate(){return new K(this.px,e.neg(this.py),this.pz)}double(){const{a:z,b:H}=t,j=e.mul(H,Zr),{px:dt,py:mt,pz:Wt}=this;let vt=e.ZERO,$t=e.ZERO,Qt=e.ZERO,te=e.mul(dt,dt),Te=e.mul(mt,mt),_e=e.mul(Wt,Wt),de=e.mul(dt,mt);return de=e.add(de,de),Qt=e.mul(dt,Wt),Qt=e.add(Qt,Qt),vt=e.mul(z,Qt),$t=e.mul(j,_e),$t=e.add(vt,$t),vt=e.sub(Te,$t),$t=e.add(Te,$t),$t=e.mul(vt,$t),vt=e.mul(de,vt),Qt=e.mul(j,Qt),_e=e.mul(z,_e),de=e.sub(te,_e),de=e.mul(z,de),de=e.add(de,Qt),Qt=e.add(te,te),te=e.add(Qt,te),te=e.add(te,_e),te=e.mul(te,de),$t=e.add($t,te),_e=e.mul(mt,Wt),_e=e.add(_e,_e),te=e.mul(_e,de),vt=e.sub(vt,te),Qt=e.mul(_e,Te),Qt=e.add(Qt,Qt),Qt=e.add(Qt,Qt),new K(vt,$t,Qt)}add(z){U(z);const{px:H,py:j,pz:dt}=this,{px:mt,py:Wt,pz:vt}=z;let $t=e.ZERO,Qt=e.ZERO,te=e.ZERO;const Te=t.a,_e=e.mul(t.b,Zr);let de=e.mul(H,mt),un=e.mul(j,Wt),sn=e.mul(dt,vt),vn=e.add(H,j),Mt=e.add(mt,Wt);vn=e.mul(vn,Mt),Mt=e.add(de,un),vn=e.sub(vn,Mt),Mt=e.add(H,dt);let Gt=e.add(mt,vt);return Mt=e.mul(Mt,Gt),Gt=e.add(de,sn),Mt=e.sub(Mt,Gt),Gt=e.add(j,dt),$t=e.add(Wt,vt),Gt=e.mul(Gt,$t),$t=e.add(un,sn),Gt=e.sub(Gt,$t),te=e.mul(Te,Mt),$t=e.mul(_e,sn),te=e.add($t,te),$t=e.sub(un,te),te=e.add(un,te),Qt=e.mul($t,te),un=e.add(de,de),un=e.add(un,de),sn=e.mul(Te,sn),Mt=e.mul(_e,Mt),un=e.add(un,sn),sn=e.sub(de,sn),sn=e.mul(Te,sn),Mt=e.add(Mt,sn),de=e.mul(un,Mt),Qt=e.add(Qt,de),de=e.mul(Gt,Mt),$t=e.mul(vn,$t),$t=e.sub($t,de),de=e.mul(vn,un),te=e.mul(Gt,te),te=e.add(te,de),new K($t,Qt,te)}subtract(z){return this.add(z.negate())}is0(){return this.equals(K.ZERO)}wNAF(z){return st.wNAFCached(this,P,z,H=>{const j=e.invertBatch(H.map(dt=>dt.pz));return H.map((dt,mt)=>dt.toAffine(j[mt])).map(K.fromAffine)})}multiplyUnsafe(z){const H=K.ZERO;if(z===Cn)return H;if(p(z),z===Je)return this;const{endo:j}=t;if(!j)return st.unsafeLadder(this,z);let{k1neg:dt,k1:mt,k2neg:Wt,k2:vt}=j.splitScalar(z),$t=H,Qt=H,te=this;for(;mt>Cn||vt>Cn;)mt&Je&&($t=$t.add(te)),vt&Je&&(Qt=Qt.add(te)),te=te.double(),mt>>=Je,vt>>=Je;return dt&&($t=$t.negate()),Wt&&(Qt=Qt.negate()),Qt=new K(e.mul(Qt.px,j.beta),Qt.py,Qt.pz),$t.add(Qt)}multiply(z){p(z);let j,dt,H=z;const{endo:mt}=t;if(mt){const{k1neg:Wt,k1:vt,k2neg:$t,k2:Qt}=mt.splitScalar(H);let{p:te,f:Te}=this.wNAF(vt),{p:_e,f:de}=this.wNAF(Qt);te=st.constTimeNegate(Wt,te),_e=st.constTimeNegate($t,_e),_e=new K(e.mul(_e.px,mt.beta),_e.py,_e.pz),j=te.add(_e),dt=Te.add(de)}else{const{p:Wt,f:vt}=this.wNAF(H);j=Wt,dt=vt}return K.normalizeZ([j,dt])[0]}multiplyAndAddUnsafe(z,H,j){const dt=K.BASE,mt=(vt,$t)=>$t!==Cn&&$t!==Je&&vt.equals(dt)?vt.multiply($t):vt.multiplyUnsafe($t),Wt=mt(this,H).add(mt(z,j));return Wt.is0()?void 0:Wt}toAffine(z){const{px:H,py:j,pz:dt}=this,mt=this.is0();null==z&&(z=mt?e.ONE:e.inv(dt));const Wt=e.mul(H,z),vt=e.mul(j,z),$t=e.mul(dt,z);if(mt)return{x:e.ZERO,y:e.ZERO};if(!e.eql($t,e.ONE))throw new Error("invZ was invalid");return{x:Wt,y:vt}}isTorsionFree(){const{h:z,isTorsionFree:H}=t;if(z===Je)return!0;if(H)return H(K,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:z,clearCofactor:H}=t;return z===Je?this:H?H(K,this):this.multiplyUnsafe(t.h)}toRawBytes(z=!0){return this.assertValidity(),i(K,this,z)}toHex(z=!0){return Pe(this.toRawBytes(z))}}K.BASE=new K(t.Gx,t.Gy,e.ONE),K.ZERO=new K(e.ZERO,e.ONE,e.ZERO);const X=t.nBitLength,st=uo(K,t.endo?Math.ceil(X/2):X);return{CURVE:t,ProjectivePoint:K,normPrivateKeyToScalar:b,weierstrassEquation:c,isWithinCurveOrder:h}}({...t,toBytes(Mt,Gt,pe){const Rt=Gt.toAffine(),pt=e.toBytes(Rt.x),Zt=Pn;return pe?Zt(Uint8Array.from([Gt.hasEvenY()?2:3]),pt):Zt(Uint8Array.from([4]),pt,e.toBytes(Rt.y))},fromBytes(Mt){const Gt=Mt.length,pe=Mt[0],Rt=Mt.subarray(1);if(Gt!==a||2!==pe&&3!==pe){if(Gt===c&&4===pe)return{x:e.fromBytes(Rt.subarray(0,e.BYTES)),y:e.fromBytes(Rt.subarray(e.BYTES,2*e.BYTES))};throw new Error(`Point of length ${Gt} was invalid. Expected ${a} compressed bytes or ${c} uncompressed bytes`)}{const pt=Mn(Rt);if(!function h(Mt){return Cn<Mt&&Mt<e.ORDER}(pt))throw new Error("Point is not on curve");const Zt=K(pt);let ee;try{ee=e.sqrt(Zt)}catch(me){const Ee=me instanceof Error?": "+me.message:"";throw new Error("Point is not on curve"+Ee)}return 1==(1&pe)!=((ee&Je)===Je)&&(ee=e.neg(ee)),{x:pt,y:ee}}}}),st=Mt=>Pe(Un(Mt,t.nByteLength));function J(Mt){return Mt>i>>Je}const H=(Mt,Gt,pe)=>Mn(Mt.slice(Gt,pe));class j{constructor(Gt,pe,Rt){this.r=Gt,this.s=pe,this.recovery=Rt,this.assertValidity()}static fromCompact(Gt){const pe=t.nByteLength;return Gt=$e("compactSignature",Gt,2*pe),new j(H(Gt,0,pe),H(Gt,pe,2*pe))}static fromDER(Gt){const{r:pe,s:Rt}=rr.toSig($e("DER",Gt));return new j(pe,Rt)}assertValidity(){if(!X(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!X(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Gt){return new j(this.r,this.s,Gt)}recoverPublicKey(Gt){const{r:pe,s:Rt,recovery:pt}=this,Zt=Qt($e("msgHash",Gt));if(null==pt||![0,1,2,3].includes(pt))throw new Error("recovery id invalid");const ee=2===pt||3===pt?pe+t.n:pe;if(ee>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const ge=P.fromHex((1&pt?"03":"02")+st(ee)),me=b(ee),Ee=p(-Zt*me),be=p(Rt*me),ke=P.BASE.multiplyAndAddUnsafe(ge,Ee,be);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return J(this.s)}normalizeS(){return this.hasHighS()?new j(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return Rn(this.toDERHex())}toDERHex(){return rr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Rn(this.toCompactHex())}toCompactHex(){return st(this.r)+st(this.s)}}const dt={isValidPrivateKey(Mt){try{return U(Mt),!0}catch{return!1}},normPrivateKeyToScalar:U,randomPrivateKey:()=>{const Mt=co(t.n);return function Qs(o,t,e=!1){const i=o.length,a=ao(t),c=co(t);if(i<16||i<c||i>1024)throw new Error(`expected ${c}-1024 bytes of input, got ${i}`);const p=Ne(e?Mn(o):On(o),t-Re)+Re;return e?Wn(p,a):Un(p,a)}(t.randomBytes(Mt),t.n)},precompute:(Mt=8,Gt=P.BASE)=>(Gt._setWindowSize(Mt),Gt.multiply(BigInt(3)),Gt)};function Wt(Mt){const Gt=Me(Mt),pe="string"==typeof Mt,Rt=(Gt||pe)&&Mt.length;return Gt?Rt===a||Rt===c:pe?Rt===2*a||Rt===2*c:Mt instanceof P}const $t=t.bits2int||function(Mt){const Gt=Mn(Mt),pe=8*Mt.length-t.nBitLength;return pe>0?Gt>>BigInt(pe):Gt},Qt=t.bits2int_modN||function(Mt){return p($t(Mt))},te=Qn(t.nBitLength);function Te(Mt){if("bigint"!=typeof Mt)throw new Error("bigint expected");if(!(Cn<=Mt&&Mt<te))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Un(Mt,t.nByteLength)}const de={lowS:t.lowS,prehash:!1},un={lowS:t.lowS,prehash:!1};return P.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function mt(Mt,Gt=!0){return P.fromPrivateKey(Mt).toRawBytes(Gt)},getSharedSecret:function vt(Mt,Gt,pe=!0){if(Wt(Mt))throw new Error("first arg must be private key");if(!Wt(Gt))throw new Error("second arg must be public key");return P.fromHex(Gt).multiply(U(Mt)).toRawBytes(pe)},sign:function sn(Mt,Gt,pe=de){const{seed:Rt,k2sig:pt}=function _e(Mt,Gt,pe=de){if(["recovered","canonical"].some(Qe=>Qe in pe))throw new Error("sign() legacy options not supported");const{hash:Rt,randomBytes:pt}=t;let{lowS:Zt,prehash:ee,extraEntropy:se}=pe;null==Zt&&(Zt=!0),Mt=$e("msgHash",Mt),ee&&(Mt=$e("prehashed msgHash",Rt(Mt)));const ge=Qt(Mt),me=U(Gt),Ee=[Te(me),Te(ge)];if(null!=se&&!1!==se){const Qe=!0===se?pt(e.BYTES):se;Ee.push($e("extraEntropy",Qe))}const be=Pn(...Ee),ke=ge;return{seed:be,k2sig:function ln(Qe){const mn=$t(Qe);if(!X(mn))return;const yn=b(mn),dn=P.BASE.multiply(mn).toAffine(),wn=p(dn.x);if(wn===Cn)return;const Hn=p(yn*p(ke+wn*me));if(Hn===Cn)return;let cr=(dn.x===wn?0:2)|Number(dn.y&Je),Fr=Hn;return Zt&&J(Hn)&&(Fr=function z(Mt){return J(Mt)?p(-Mt):Mt}(Hn),cr^=1),new j(wn,Fr,cr)}}}(Mt,Gt,pe);return hr(t.hash.outputLen,t.nByteLength,t.hmac)(Rt,pt)},verify:function vn(Mt,Gt,pe,Rt=un){const pt=Mt;if(Gt=$e("msgHash",Gt),pe=$e("publicKey",pe),"strict"in Rt)throw new Error("options.strict was renamed to lowS");const{lowS:Zt,prehash:ee}=Rt;let se,ge;try{if("string"==typeof pt||Me(pt))try{se=j.fromDER(pt)}catch(dn){if(!(dn instanceof rr.Err))throw dn;se=j.fromCompact(pt)}else{if("object"!=typeof pt||"bigint"!=typeof pt.r||"bigint"!=typeof pt.s)throw new Error("PARSE");{const{r:dn,s:wn}=pt;se=new j(dn,wn)}}ge=P.fromHex(pe)}catch(dn){if("PARSE"===dn.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Zt&&se.hasHighS())return!1;ee&&(Gt=t.hash(Gt));const{r:me,s:Ee}=se,be=Qt(Gt),ke=b(Ee),ln=p(be*ke),Qe=p(me*ke),mn=P.BASE.multiplyAndAddUnsafe(ge,ln,Qe)?.toAffine();return!!mn&&p(mn.x)===me},ProjectivePoint:P,Signature:j,utils:dt}}function ja(o){return{hash:o,hmac:(t,...e)=>Co(o,t,function B(...o){let t=0;for(let i=0;i<o.length;i++){const a=o[i];ct(a),t+=a.length}const e=new Uint8Array(t);for(let i=0,a=0;i<o.length;i++){const c=o[i];e.set(c,a),a+=c.length}return e}(...e)),randomBytes:ae}}BigInt(4);const Hr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Vr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Oo=BigInt(1),Gr=BigInt(2),Uo=(o,t)=>(o+t/Gr)/t;const Pi=so(Hr,void 0,void 0,{sqrt:function Lo(o){const t=Hr,e=BigInt(3),i=BigInt(6),a=BigInt(11),c=BigInt(22),h=BigInt(23),p=BigInt(44),b=BigInt(88),P=o*o*o%t,U=P*P*o%t,K=Ye(U,e,t)*U%t,X=Ye(K,e,t)*U%t,st=Ye(X,Gr,t)*P%t,J=Ye(st,a,t)*st%t,z=Ye(J,c,t)*J%t,H=Ye(z,p,t)*z%t,j=Ye(H,b,t)*H%t,dt=Ye(j,p,t)*z%t,mt=Ye(dt,e,t)*U%t,Wt=Ye(mt,h,t)*J%t,vt=Ye(Wt,i,t)*P%t,$t=Ye(vt,Gr,t);if(!Pi.eql(Pi.sqr($t),o))throw new Error("Cannot find square root");return $t}}),Ar=function Ya(o,t){const e=i=>Va({...o,...ja(i)});return Object.freeze({...e(t),create:e})}({a:BigInt(0),b:BigInt(7),Fp:Pi,n:Vr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:o=>{const t=Vr,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Oo*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),c=e,h=BigInt("0x100000000000000000000000000000000"),p=Uo(c*o,t),b=Uo(-i*o,t);let P=Ne(o-p*e-b*a,t),U=Ne(-p*i-b*c,t);const K=P>h,X=U>h;if(K&&(P=t-P),X&&(U=t-U),P>h||U>h)throw new Error("splitScalar: Endomorphism failed, k="+o);return{k1neg:K,k1:P,k2neg:X,k2:U}}}},Ei);BigInt(0);const qo=()=>{const o=an.utils.randomPrivateKey(),t=Yr(o),e=new Uint8Array(64);return e.set(o),e.set(t,32),{publicKey:t,secretKey:e}},Yr=an.getPublicKey;function Wo(o){try{return an.ExtendedPoint.fromHex(o),!0}catch{return!1}}const Li=(o,t)=>an.sign(o,t.slice(0,32)),nc=an.verify,le=o=>nt.lW.isBuffer(o)?o:o instanceof Uint8Array?nt.lW.from(o.buffer,o.byteOffset,o.byteLength):nt.lW.from(o);class rc{constructor(t){Object.assign(this,t)}encode(){return nt.lW.from((0,Bi.serialize)(Jr,this))}static decode(t){return(0,Bi.deserialize)(Jr,this,t)}static decodeUnchecked(t){return(0,Bi.deserializeUnchecked)(Jr,this,t)}}const Jr=new Map;let $o=1;class It extends rc{constructor(t){if(super({}),this._bn=void 0,function oc(o){return void 0!==o._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=pn().decode(t);if(32!=e.length)throw new Error("Invalid public key input");this._bn=new(yo())(e)}else this._bn=new(yo())(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const t=new It($o);return $o+=1,new It(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return pn().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(nt.lW);if(32===t.length)return t;const e=nt.lW.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static createWithSeed(t,e,i){return x(function*(){const a=nt.lW.concat([t.toBuffer(),nt.lW.from(e),i.toBuffer()]),c=Ei(a);return new It(c)})()}static createProgramAddressSync(t,e){let i=nt.lW.alloc(0);t.forEach(function(c){if(c.length>32)throw new TypeError("Max seed length exceeded");i=nt.lW.concat([i,le(c)])}),i=nt.lW.concat([i,e.toBuffer(),nt.lW.from("ProgramDerivedAddress")]);const a=Ei(i);if(Wo(a))throw new Error("Invalid seeds, address must fall off the curve");return new It(a)}static createProgramAddress(t,e){var i=this;return x(function*(){return i.createProgramAddressSync(t,e)})()}static findProgramAddressSync(t,e){let a,i=255;for(;0!=i;){try{const c=t.concat(nt.lW.from([i]));a=this.createProgramAddressSync(c,e)}catch(c){if(c instanceof TypeError)throw c;i--;continue}return[a,i]}throw new Error("Unable to find a viable program address nonce")}static findProgramAddress(t,e){var i=this;return x(function*(){return i.findProgramAddressSync(t,e)})()}static isOnCurve(t){return Wo(new It(t).toBytes())}}It.default=new It("11111111111111111111111111111111"),Jr.set(It,{kind:"struct",fields:[["_bn","u256"]]}),new It("BPFLoader1111111111111111111111111111111111");const ir=1232;class Zo extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Zo.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ho extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Ho.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Pr extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Pr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Qr{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((c,h)=>{i.set(c.toBase58(),h)});const a=c=>{const h=i.get(c.toBase58());if(void 0===h)throw new Error("Encountered an unknown instruction account key during compilation");return h};return t.map(c=>({programIdIndex:a(c.programId),accountKeyIndexes:c.keys.map(h=>a(h.pubkey)),data:c.data}))}}const ye=(o="publicKey")=>q.Ik(32,o),or=(o="string")=>{const t=q.n_([q.Jq("length"),q.Jq("lengthPadding"),q.Ik(q.cv(q.Jq(),-8),"chars")],o),e=t.decode.bind(t),i=t.encode.bind(t),a=t;return a.decode=(c,h)=>e(c,h).chars.toString(),a.encode=(c,h,p)=>{const b={chars:nt.lW.from(c,"utf8")};return i(b,h,p)},a.alloc=c=>q.Jq().span+q.Jq().span+nt.lW.from(c,"utf8").length,a};function Vo(o,t){const e=a=>{if(a.span>=0)return a.span;if("function"==typeof a.alloc)return a.alloc(t[a.property]);if("count"in a&&"elementLayout"in a){const c=t[a.property];if(Array.isArray(c))return c.length*e(a.elementLayout)}else if("fields"in a)return Vo({layout:a},t[a.property]);return 0};let i=0;return o.layout.fields.forEach(a=>{i+=e(a)}),i}function xn(o){let t=0,e=0;for(;;){let i=o.shift();if(t|=(127&i)<<7*e,e+=1,!(128&i))break}return t}function In(o,t){let e=t;for(;;){let i=127&e;if(e>>=7,0==e){o.push(i);break}i|=128,o.push(i)}}function xe(o,t){if(!o)throw new Error(t||"Assertion failed")}class ti{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const i=new Map,a=h=>{const p=h.toBase58();let b=i.get(p);return void 0===b&&(b={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(p,b)),b},c=a(e);c.isSigner=!0,c.isWritable=!0;for(const h of t){a(h.programId).isInvoked=!0;for(const p of h.keys){const b=a(p.pubkey);b.isSigner||=p.isSigner,b.isWritable||=p.isWritable}}return new ti(e,i)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];xe(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,b])=>b.isSigner&&b.isWritable),i=t.filter(([,b])=>b.isSigner&&!b.isWritable),a=t.filter(([,b])=>!b.isSigner&&b.isWritable),c=t.filter(([,b])=>!b.isSigner&&!b.isWritable),h={numRequiredSignatures:e.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:c.length};{xe(e.length>0,"Expected at least one writable signer key");const[b]=e[0];xe(b===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[h,[...e.map(([b])=>new It(b)),...i.map(([b])=>new It(b)),...a.map(([b])=>new It(b)),...c.map(([b])=>new It(b))]]}extractTableLookup(t){const[e,i]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&h.isWritable),[a,c]=this.drainKeysFoundInLookupTable(t.state.addresses,h=>!h.isSigner&&!h.isInvoked&&!h.isWritable);if(0!==e.length||0!==a.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:a},{writable:i,readonly:c}]}drainKeysFoundInLookupTable(t,e){const i=new Array,a=new Array;for(const[c,h]of this.keyMetaMap.entries())if(e(h)){const p=new It(c),b=t.findIndex(P=>P.equals(p));b>=0&&(xe(b<256,"Max lookup table index exceeded"),i.push(b),a.push(p),this.keyMetaMap.delete(c))}return[i,a]}}const Go="Reached end of buffer unexpectedly";function Dn(o){if(0===o.length)throw new Error(Go);return o.shift()}function _n(o,...t){const[e]=t;if(2===t.length?e+(t[1]??0)>o.length:e>=o.length)throw new Error(Go);return o.splice(...t)}class zn{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new It(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:pn().decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Qr(this.staticAccountKeys)}static compile(t){const e=ti.compile(t.instructions,t.payerKey),[i,a]=e.getMessageComponents(),h=new Qr(a).compileInstructions(t.instructions).map(p=>({programIdIndex:p.programIdIndex,accounts:p.accountKeyIndexes,data:pn().encode(p.data)}));return new zn({header:i,accountKeys:a,recentBlockhash:t.recentBlockhash,instructions:h})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;return t>=this.header.numRequiredSignatures?t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];In(e,t);const i=this.instructions.map(K=>{const{accounts:X,programIdIndex:st}=K,J=Array.from(pn().decode(K.data));let z=[];In(z,X.length);let H=[];return In(H,J.length),{programIdIndex:st,keyIndicesCount:nt.lW.from(z),keyIndices:X,dataLength:nt.lW.from(H),data:J}});let a=[];In(a,i.length);let c=nt.lW.alloc(ir);nt.lW.from(a).copy(c);let h=a.length;i.forEach(K=>{const st=q.n_([q.u8("programIdIndex"),q.Ik(K.keyIndicesCount.length,"keyIndicesCount"),q.A9(q.u8("keyIndex"),K.keyIndices.length,"keyIndices"),q.Ik(K.dataLength.length,"dataLength"),q.A9(q.u8("userdatum"),K.data.length,"data")]).encode(K,c,h);h+=st}),c=c.slice(0,h);const p=q.n_([q.Ik(1,"numRequiredSignatures"),q.Ik(1,"numReadonlySignedAccounts"),q.Ik(1,"numReadonlyUnsignedAccounts"),q.Ik(e.length,"keyCount"),q.A9(ye("key"),t,"keys"),ye("recentBlockhash")]),b={numRequiredSignatures:nt.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:nt.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:nt.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:nt.lW.from(e),keys:this.accountKeys.map(K=>le(K.toBytes())),recentBlockhash:pn().decode(this.recentBlockhash)};let P=nt.lW.alloc(2048);const U=p.encode(b,P);return c.copy(P,U),P.slice(0,U+c.length)}static from(t){let e=[...t];const i=Dn(e);if(i!==(127&i))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=Dn(e),c=Dn(e),h=xn(e);let p=[];for(let X=0;X<h;X++){const st=_n(e,0,32);p.push(new It(nt.lW.from(st)))}const b=_n(e,0,32),P=xn(e);let U=[];for(let X=0;X<P;X++){const st=Dn(e),z=_n(e,0,xn(e)),j=_n(e,0,xn(e)),dt=pn().encode(nt.lW.from(j));U.push({programIdIndex:st,accounts:z,data:dt})}const K={header:{numRequiredSignatures:i,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c},recentBlockhash:pn().encode(nt.lW.from(b)),accountKeys:p,instructions:U};return new zn(K)}}class gr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Qr(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;return t>=i?t-i<this.addressTableLookups.reduce((h,p)=>h+p.writableIndexes.length,0):t>=this.header.numRequiredSignatures?t-e<i-e-this.header.numReadonlyUnsignedAccounts:t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const i of this.addressTableLookups){const a=t.find(c=>c.key.equals(i.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const c of i.writableIndexes){if(!(c<a.state.addresses.length))throw new Error(`Failed to find address for index ${c} in address lookup table ${i.accountKey.toBase58()}`);e.writable.push(a.state.addresses[c])}for(const c of i.readonlyIndexes){if(!(c<a.state.addresses.length))throw new Error(`Failed to find address for index ${c} in address lookup table ${i.accountKey.toBase58()}`);e.readonly.push(a.state.addresses[c])}}return e}static compile(t){const e=ti.compile(t.instructions,t.payerKey),i=new Array,a={writable:new Array,readonly:new Array},c=t.addressLookupTableAccounts||[];for(const U of c){const K=e.extractTableLookup(U);if(void 0!==K){const[X,{writable:st,readonly:J}]=K;i.push(X),a.writable.push(...st),a.readonly.push(...J)}}const[h,p]=e.getMessageComponents(),P=new Qr(p,a).compileInstructions(t.instructions);return new gr({header:h,staticAccountKeys:p,recentBlockhash:t.recentBlockhash,compiledInstructions:P,addressTableLookups:i})}serialize(){const t=Array();In(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),i=Array();In(i,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),c=Array();In(c,this.addressTableLookups.length);const h=q.n_([q.u8("prefix"),q.n_([q.u8("numRequiredSignatures"),q.u8("numReadonlySignedAccounts"),q.u8("numReadonlyUnsignedAccounts")],"header"),q.Ik(t.length,"staticAccountKeysLength"),q.A9(ye(),this.staticAccountKeys.length,"staticAccountKeys"),ye("recentBlockhash"),q.Ik(i.length,"instructionsLength"),q.Ik(e.length,"serializedInstructions"),q.Ik(c.length,"addressTableLookupsLength"),q.Ik(a.length,"serializedAddressTableLookups")]),p=new Uint8Array(ir),P=h.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(U=>U.toBytes()),recentBlockhash:pn().decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(c),serializedAddressTableLookups:a},p);return p.slice(0,P)}serializeInstructions(){let t=0;const e=new Uint8Array(ir);for(const i of this.compiledInstructions){const a=Array();In(a,i.accountKeyIndexes.length);const c=Array();In(c,i.data.length),t+=q.n_([q.u8("programIdIndex"),q.Ik(a.length,"encodedAccountKeyIndexesLength"),q.A9(q.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),q.Ik(c.length,"encodedDataLength"),q.Ik(i.data.length,"data")]).encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(c),data:i.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(ir);for(const i of this.addressTableLookups){const a=Array();In(a,i.writableIndexes.length);const c=Array();In(c,i.readonlyIndexes.length),t+=q.n_([ye("accountKey"),q.Ik(a.length,"encodedWritableIndexesLength"),q.A9(q.u8(),i.writableIndexes.length,"writableIndexes"),q.Ik(c.length,"encodedReadonlyIndexesLength"),q.A9(q.u8(),i.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(c),readonlyIndexes:i.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const i=Dn(e),a=127&i;xe(i!==a,"Expected versioned message but received legacy message"),xe(0===a,`Expected versioned message with version 0 but found version ${a}`);const h={numRequiredSignatures:Dn(e),numReadonlySignedAccounts:Dn(e),numReadonlyUnsignedAccounts:Dn(e)},p=[],b=xn(e);for(let J=0;J<b;J++)p.push(new It(_n(e,0,32)));const P=pn().encode(_n(e,0,32)),U=xn(e),K=[];for(let J=0;J<U;J++){const z=Dn(e),j=_n(e,0,xn(e)),dt=xn(e),mt=new Uint8Array(_n(e,0,dt));K.push({programIdIndex:z,accountKeyIndexes:j,data:mt})}const X=xn(e),st=[];for(let J=0;J<X;J++){const z=new It(_n(e,0,32)),j=_n(e,0,xn(e)),mt=_n(e,0,xn(e));st.push({accountKey:z,writableIndexes:j,readonlyIndexes:mt})}return new gr({header:h,staticAccountKeys:p,recentBlockhash:P,compiledInstructions:K,addressTableLookups:st})}}let Jn=function(o){return o[o.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",o[o.PROCESSED=1]="PROCESSED",o[o.TIMED_OUT=2]="TIMED_OUT",o[o.NONCE_INVALID=3]="NONCE_INVALID",o}({});const hc=nt.lW.alloc(64).fill(0);class Ue{constructor(t){this.keys=void 0,this.programId=void 0,this.data=nt.lW.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:i})=>({pubkey:t.toJSON(),isSigner:e,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class De{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:i}=t;this.minNonceContextSlot=e,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:i}=t;this.recentBlockhash=e,this.lastValidBlockHeight=i}else{const{recentBlockhash:e,nonceInfo:i}=t;i&&(this.nonceInfo=i),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):this.instructions.push("data"in e&&"programId"in e&&"keys"in e?e:new Ue(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,i;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)i=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");i=this.signatures[0].publicKey}for(let z=0;z<e.length;z++)if(void 0===e[z].programId)throw new Error(`Transaction instruction index ${z} has undefined program id`);const a=[],c=[];e.forEach(z=>{z.keys.forEach(j=>{c.push({...j})});const H=z.programId.toString();a.includes(H)||a.push(H)}),a.forEach(z=>{c.push({pubkey:new It(z),isSigner:!1,isWritable:!1})});const h=[];c.forEach(z=>{const H=z.pubkey.toString(),j=h.findIndex(dt=>dt.pubkey.toString()===H);j>-1?(h[j].isWritable=h[j].isWritable||z.isWritable,h[j].isSigner=h[j].isSigner||z.isSigner):h.push(z)}),h.sort(function(z,H){return z.isSigner!==H.isSigner?z.isSigner?-1:1:z.isWritable!==H.isWritable?z.isWritable?-1:1:z.pubkey.toBase58().localeCompare(H.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const p=h.findIndex(z=>z.pubkey.equals(i));if(p>-1){const[z]=h.splice(p,1);z.isSigner=!0,z.isWritable=!0,h.unshift(z)}else h.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const z of this.signatures){const H=h.findIndex(j=>j.pubkey.equals(z.publicKey));if(!(H>-1))throw new Error(`unknown signer: ${z.publicKey.toString()}`);h[H].isSigner||(h[H].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let b=0,P=0,U=0;const K=[],X=[];h.forEach(({pubkey:z,isSigner:H,isWritable:j})=>{H?(K.push(z.toString()),b+=1,j||(P+=1)):(X.push(z.toString()),j||(U+=1))});const st=K.concat(X),J=e.map(z=>{const{data:H,programId:j}=z;return{programIdIndex:st.indexOf(j.toString()),accounts:z.keys.map(dt=>st.indexOf(dt.pubkey.toString())),data:pn().encode(H)}});return J.forEach(z=>{xe(z.programIdIndex>=0),z.accounts.forEach(H=>xe(H>=0))}),new zn({header:{numRequiredSignatures:b,numReadonlySignedAccounts:P,numReadonlyUnsignedAccounts:U},accountKeys:st,recentBlockhash:t,instructions:J})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((a,c)=>e[c].equals(a.publicKey))||(this.signatures=e.map(i=>({signature:null,publicKey:i}))),t}serializeMessage(){return this._compile().serialize()}getEstimatedFee(t){var e=this;return x(function*(){return(yield t.getFeeForMessage(e.compileMessage())).value})()}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter(i=>{const a=i.toString();return!e.has(a)&&(e.add(a),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,i=[];for(const c of t){const h=c.publicKey.toString();e.has(h)||(e.add(h),i.push(c))}this.signatures=i.map(c=>({signature:null,publicKey:c.publicKey}));const a=this._compile();this._partialSign(a,...i)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,i=[];for(const c of t){const h=c.publicKey.toString();e.has(h)||(e.add(h),i.push(c))}const a=this._compile();this._partialSign(a,...i)}_partialSign(t,...e){const i=t.serialize();e.forEach(a=>{const c=Li(i,a.secretKey);this._addSignature(a.publicKey,le(c))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){xe(64===e.length);const i=this.signatures.findIndex(a=>t.equals(a.publicKey));if(i<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[i].signature=nt.lW.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const i={};for(const{signature:a,publicKey:c}of this.signatures)null===a?e&&(i.missing||=[]).push(c):nc(a,t,c.toBytes())||(i.invalid||=[]).push(c);return i.invalid||i.missing?i:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),a=this.serializeMessage();if(i){const c=this._getMessageSignednessErrors(a,e);if(c){let h="Signature verification failed.";throw c.invalid&&(h+=`\nInvalid signature for public key${1===c.invalid.length?"":"(s)"} [\`${c.invalid.map(p=>p.toBase58()).join("`, `")}\`].`),c.missing&&(h+=`\nMissing signature for public key${1===c.missing.length?"":"(s)"} [\`${c.missing.map(p=>p.toBase58()).join("`, `")}\`].`),new Error(h)}}return this._serialize(a)}_serialize(t){const{signatures:e}=this,i=[];In(i,e.length);const c=nt.lW.alloc(i.length+64*e.length+t.length);return xe(e.length<256),nt.lW.from(i).copy(c,0),e.forEach(({signature:h},p)=>{null!==h&&(xe(64===h.length,"signature has invalid length"),nt.lW.from(h).copy(c,i.length+64*p))}),t.copy(c,i.length+64*e.length),xe(c.length<=ir,`Transaction too large: ${c.length} > 1232`),c}get keys(){return xe(1===this.instructions.length),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return xe(1===this.instructions.length),this.instructions[0].programId}get data(){return xe(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const i=xn(e);let a=[];for(let c=0;c<i;c++){const h=_n(e,0,64);a.push(pn().encode(nt.lW.from(h)))}return De.populate(zn.from(e),a)}static populate(t,e=[]){const i=new De;return i.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(i.feePayer=t.accountKeys[0]),e.forEach((a,c)=>{const h={signature:a==pn().encode(hc)?null:pn().decode(a),publicKey:t.accountKeys[c]};i.signatures.push(h)}),t.instructions.forEach(a=>{const c=a.accounts.map(h=>{const p=t.accountKeys[h];return{pubkey:p,isSigner:i.signatures.some(b=>b.publicKey.toString()===p.toString())||t.isAccountSigner(h),isWritable:t.isAccountWritable(h)}});i.instructions.push(new Ue({keys:c,programId:t.accountKeys[a.programIdIndex],data:pn().decode(a.data)}))}),i._message=t,i._json=i.toJSON(),i}}const $n=new It("SysvarC1ock11111111111111111111111111111111"),Ni=(new It("SysvarEpochSchedu1e111111111111111111111111"),new It("Sysvar1nstructions1111111111111111111111111"),new It("SysvarRecentB1ockHashes11111111111111111111")),ei=new It("SysvarRent111111111111111111111111111111111"),Di=(new It("SysvarRewards111111111111111111111111111111"),new It("SysvarS1otHashes111111111111111111111111111"),new It("SysvarS1otHistory11111111111111111111111111"),new It("SysvarStakeHistory1111111111111111111111111"));class ni extends Error{constructor({action:t,signature:e,transactionMessage:i,logs:a}){const c=a?`Logs: \n${JSON.stringify(a.slice(-10),null,2)}. `:"",h="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let p;switch(t){case"send":p=`Transaction ${e} resulted in an error. \n${i}. `+c+h;break;case"simulate":p=`Simulation failed. \nMessage: ${i}. \n`+c+h;break;default:p=`Unknown action '${t}'`}super(p),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=i,this.transactionLogs=a||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}getLogs(t){var e=this;return x(function*(){return Array.isArray(e.transactionLogs)||(e.transactionLogs=new Promise((i,a)=>{t.getTransaction(e.signature).then(c=>{if(c&&c.meta&&c.meta.logMessages){const h=c.meta.logMessages;e.transactionLogs=h,i(h)}else a(new Error("Log messages not found"))}).catch(a)})),yield e.transactionLogs})()}}class Xt extends Error{constructor({code:t,message:e,data:i},a){super(null!=a?`${a}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=i,this.name="SolanaJSONRPCError"}}function mr(o){return new Promise(t=>setTimeout(t,o))}function we(o,t){const e=o.layout.span>=0?o.layout.span:Vo(o,t),i=nt.lW.alloc(e),a=Object.assign({instruction:o.index},t);return o.layout.encode(a,i),i}const dc=q._O("lamportsPerSignature"),Xo=q.n_([q.Jq("version"),q.Jq("state"),ye("authorizedPubkey"),ye("nonce"),q.n_([dc],"feeCalculator")]),Qo=Xo.span;class qi{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Xo.decode(le(t),0);return new qi({authorizedPubkey:new It(e.authorizedPubkey),nonce:new It(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const yr=t=>{const e=(0,q.Ik)(8,t),{encode:i,decode:a}={decode:(o=e).decode.bind(o),encode:o.encode.bind(o)},c=e;var o;return c.decode=(h,p)=>{const b=a(h,p);return(0,Ii.oU)(nt.lW.from(b))},c.encode=(h,p,b)=>{const P=(0,Ii.k$)(h,8);return i(P,p,b)},c},ze=Object.freeze({Create:{index:0,layout:q.n_([q.Jq("instruction"),q.gM("lamports"),q.gM("space"),ye("programId")])},Assign:{index:1,layout:q.n_([q.Jq("instruction"),ye("programId")])},Transfer:{index:2,layout:q.n_([q.Jq("instruction"),yr("lamports")])},CreateWithSeed:{index:3,layout:q.n_([q.Jq("instruction"),ye("base"),or("seed"),q.gM("lamports"),q.gM("space"),ye("programId")])},AdvanceNonceAccount:{index:4,layout:q.n_([q.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:q.n_([q.Jq("instruction"),q.gM("lamports")])},InitializeNonceAccount:{index:6,layout:q.n_([q.Jq("instruction"),ye("authorized")])},AuthorizeNonceAccount:{index:7,layout:q.n_([q.Jq("instruction"),ye("authorized")])},Allocate:{index:8,layout:q.n_([q.Jq("instruction"),q.gM("space")])},AllocateWithSeed:{index:9,layout:q.n_([q.Jq("instruction"),ye("base"),or("seed"),q.gM("space"),ye("programId")])},AssignWithSeed:{index:10,layout:q.n_([q.Jq("instruction"),ye("base"),or("seed"),ye("programId")])},TransferWithSeed:{index:11,layout:q.n_([q.Jq("instruction"),yr("lamports"),or("seed"),ye("programId")])},UpgradeNonceAccount:{index:12,layout:q.n_([q.Jq("instruction")])}});class kn{constructor(){}static createAccount(t){const i=we(ze.Create,{lamports:t.lamports,space:t.space,programId:le(t.programId.toBuffer())});return new Ue({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:i})}static transfer(t){let e,i;return"basePubkey"in t?(e=we(ze.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:le(t.programId.toBuffer())}),i=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]):(e=we(ze.Transfer,{lamports:BigInt(t.lamports)}),i=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]),new Ue({keys:i,programId:this.programId,data:e})}static assign(t){let e,i;return"basePubkey"in t?(e=we(ze.AssignWithSeed,{base:le(t.basePubkey.toBuffer()),seed:t.seed,programId:le(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=we(ze.Assign,{programId:le(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Ue({keys:i,programId:this.programId,data:e})}static createAccountWithSeed(t){const i=we(ze.CreateWithSeed,{base:le(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:le(t.programId.toBuffer())});let a=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&a.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Ue({keys:a,programId:this.programId,data:i})}static createNonceAccount(t){const e=new De;return e.add("basePubkey"in t&&"seed"in t?kn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Qo,programId:this.programId}):kn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Qo,programId:this.programId})),e.add(this.nonceInitialize({noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey})),e}static nonceInitialize(t){const i=we(ze.InitializeNonceAccount,{authorized:le(t.authorizedPubkey.toBuffer())});return new Ue({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ni,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:i})}static nonceAdvance(t){const i=we(ze.AdvanceNonceAccount);return new Ue({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ni,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceWithdraw(t){const i=we(ze.WithdrawNonceAccount,{lamports:t.lamports});return new Ue({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ni,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static nonceAuthorize(t){const i=we(ze.AuthorizeNonceAccount,{authorized:le(t.newAuthorizedPubkey.toBuffer())});return new Ue({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static allocate(t){let e,i;return"basePubkey"in t?(e=we(ze.AllocateWithSeed,{base:le(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:le(t.programId.toBuffer())}),i=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]):(e=we(ze.Allocate,{space:t.space}),i=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]),new Ue({keys:i,programId:this.programId,data:e})}}function gc(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}kn.programId=new It("11111111111111111111111111111111"),new It("BPFLoader2111111111111111111111111111111111");var mc=Object.prototype.toString,yc=Object.keys||function(o){var t=[];for(var e in o)t.push(e);return t};function Tr(o,t){var e,i,a,c,h,p,b;if(!0===o)return"true";if(!1===o)return"false";switch(typeof o){case"object":if(null===o)return null;if(o.toJSON&&"function"==typeof o.toJSON)return Tr(o.toJSON(),t);if("[object Array]"===(b=mc.call(o))){for(a="[",i=o.length-1,e=0;e<i;e++)a+=Tr(o[e],!0)+",";return i>-1&&(a+=Tr(o[e],!0)),a+"]"}if("[object Object]"===b){for(i=(c=yc(o).sort()).length,a="",e=0;e<i;)void 0!==(p=Tr(o[h=c[e]],!1))&&(a&&(a+=","),a+=JSON.stringify(h)+":"+p),e++;return"{"+a+"}"}return JSON.stringify(o);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(o);default:return isFinite(o)?o:null}}var es=gc(function(o){var t=Tr(o,!1);if(void 0!==t)return""+t});function Wi(o){let t=0;for(;o>1;)o/=2,t++;return t}class xc{constructor(t,e,i,a,c){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=i,this.firstNormalEpoch=a,this.firstNormalSlot=c}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=Wi(function bc(o){return 0===o?1:(o--,o|=o>>1,o|=o>>2,o|=o>>4,o|=o>>8,o|=o>>16,1+(o|=o>>32))}(t+32+1))-Wi(32)-1;return[e,t-(this.getSlotsInEpoch(e)-32)]}{const e=t-this.firstNormalSlot,i=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+i,e%this.slotsPerEpoch]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Wi(32)):this.slotsPerEpoch}}var _c=globalThis.fetch;class kc extends Ca{constructor(t,e,i){super(c=>{const h=function Bo(o,t){return new Pa(o,t)}(c,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in h?h.socket:h,h},t,e,i),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class rs{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function Ec(o,t){let e;try{e=o.layout.decode(t)}catch(i){throw new Error("invalid instruction; "+i)}if(e.typeIndex!==o.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${o.index}`);return e}(Bc,t),i=t.length-56;xe(i>=0,"lookup table is invalid"),xe(i%32==0,"lookup table is invalid");const a=i/32,{addresses:c}=q.n_([q.A9(ye(),a,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new It(e.authority[0]):void 0,addresses:c.map(h=>new It(h))}}}const Bc={index:1,layout:q.n_([q.Jq("typeIndex"),yr("deactivationSlot"),q._O("lastExtendedSlot"),q.u8("lastExtendedStartIndex"),q.u8(),q.A9(ye(),q.cv(q.u8(),-1),"authority")])},Ic=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i,He=nr(Ai(It),Et(),o=>new It(o)),is=Mi([Et(),Ze("base64")]),Ki=nr(Ai(nt.lW),is,o=>nt.lW.from(o[0],"base64"));function Le(o){let t,e;if("string"==typeof o)t=o;else if(o){const{commitment:i,...a}=o;t=i,e=a}return{commitment:t,config:e}}function os(o){return o.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function ss(o){return bn([ht({jsonrpc:Ze("2.0"),id:Et(),result:o}),ht({jsonrpc:Ze("2.0"),id:Et(),error:ht({code:er(),message:Et(),data:ie(Bn("any",()=>!0))})})])}const Mc=ss(er());function he(o){return nr(ss(o),Mc,t=>"error"in t?t:{...t,result:St(t.result,o)})}function Xe(o){return he(ht({context:ht({slot:G()}),value:o}))}function ri(o){return ht({context:ht({slot:G()}),value:o})}function $i(o,t){return 0===o?new gr({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new It(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:pn().decode(e.data)})),addressTableLookups:t.addressTableLookups}):new zn(t)}const Pc=ht({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()}),Tc=he(Ft(Nt(ht({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G(),commission:ie(Nt(G()))})))),Cc=Ft(ht({slot:G(),prioritizationFee:G()})),Rc=ht({total:G(),validator:G(),foundation:G(),epoch:G()}),Oc=ht({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:ie(G()),transactionCount:ie(G())}),Uc=ht({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:Nn(),firstNormalEpoch:G(),firstNormalSlot:G()}),Lc=_o(Et(),Ft(G())),sr=Nt(bn([ht({}),Et()])),Fc=ht({err:sr}),Nc=Ze("receivedSignature"),Dc=ht({"solana-core":Et(),"feature-set":ie(G())}),zc=ht({program:Et(),programId:He,parsed:er()}),qc=ht({programId:He,accounts:Ft(He),data:Et()}),as=Xe(ht({err:Nt(bn([ht({}),Et()])),logs:Nt(Ft(Et())),accounts:ie(Nt(Ft(Nt(ht({executable:Nn(),owner:Et(),lamports:G(),data:Ft(Et()),rentEpoch:ie(G())}))))),unitsConsumed:ie(G()),returnData:ie(Nt(ht({programId:Et(),data:Mi([Et(),Ze("base64")])}))),innerInstructions:ie(Nt(Ft(ht({index:G(),instructions:Ft(bn([zc,qc]))}))))})),Wc=Xe(ht({byIdentity:_o(Et(),Ft(G())),range:ht({firstSlot:G(),lastSlot:G()})})),Hc=he(Pc),Vc=he(Rc),Gc=he(Cc),jc=he(Oc),Yc=he(Uc),Jc=he(Lc),Xc=he(G()),Qc=Xe(ht({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:Ft(He)})),Zi=ht({amount:Et(),uiAmount:Nt(G()),decimals:G(),uiAmountString:ie(Et())}),tu=Xe(Ft(ht({address:He,amount:Et(),uiAmount:Nt(G()),decimals:G(),uiAmountString:ie(Et())}))),eu=Xe(Ft(ht({pubkey:He,account:ht({executable:Nn(),owner:He,lamports:G(),data:Ki,rentEpoch:G()})}))),Hi=ht({program:Et(),parsed:er(),space:G()}),nu=Xe(Ft(ht({pubkey:He,account:ht({executable:Nn(),owner:He,lamports:G(),data:Hi,rentEpoch:G()})}))),ru=Xe(Ft(ht({lamports:G(),address:He}))),Rr=ht({executable:Nn(),owner:He,lamports:G(),data:Ki,rentEpoch:G()}),iu=ht({pubkey:He,account:Rr}),ou=nr(bn([Ai(nt.lW),Hi]),bn([is,Hi]),o=>Array.isArray(o)?St(o,Ki):o),Vi=ht({executable:Nn(),owner:He,lamports:G(),data:ou,rentEpoch:G()}),su=ht({pubkey:He,account:Vi}),au=ht({state:bn([Ze("active"),Ze("inactive"),Ze("activating"),Ze("deactivating")]),active:G(),inactive:G()}),cu=he(Ft(ht({signature:Et(),slot:G(),err:sr,memo:Nt(Et()),blockTime:ie(Nt(G()))}))),uu=he(Ft(ht({signature:Et(),slot:G(),err:sr,memo:Nt(Et()),blockTime:ie(Nt(G()))}))),lu=ht({subscription:G(),result:ri(Rr)}),hu=ht({pubkey:He,account:Rr}),fu=ht({subscription:G(),result:ri(hu)}),du=ht({parent:G(),slot:G(),root:G()}),pu=ht({subscription:G(),result:du}),gu=bn([ht({type:bn([Ze("firstShredReceived"),Ze("completed"),Ze("optimisticConfirmation"),Ze("root")]),slot:G(),timestamp:G()}),ht({type:Ze("createdBank"),parent:G(),slot:G(),timestamp:G()}),ht({type:Ze("frozen"),slot:G(),timestamp:G(),stats:ht({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),ht({type:Ze("dead"),slot:G(),timestamp:G(),err:Et()})]),mu=ht({subscription:G(),result:gu}),yu=ht({subscription:G(),result:ri(bn([Fc,Nc]))}),wu=ht({subscription:G(),result:G()}),bu=ht({pubkey:Et(),gossip:Nt(Et()),tpu:Nt(Et()),rpc:Nt(Et()),version:Nt(Et())}),cs=ht({votePubkey:Et(),nodePubkey:Et(),activatedStake:G(),epochVoteAccount:Nn(),epochCredits:Ft(Mi([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:Nt(G())}),xu=he(ht({current:Ft(cs),delinquent:Ft(cs)})),_u=bn([Ze("processed"),Ze("confirmed"),Ze("finalized")]),ku=ht({slot:G(),confirmations:Nt(G()),err:sr,confirmationStatus:ie(_u)}),Eu=Xe(Ft(Nt(ku))),Bu=he(G()),us=ht({accountKey:He,writableIndexes:Ft(G()),readonlyIndexes:Ft(G())}),Gi=ht({signatures:Ft(Et()),message:ht({accountKeys:Ft(Et()),header:ht({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:Ft(ht({accounts:Ft(G()),data:Et(),programIdIndex:G()})),recentBlockhash:Et(),addressTableLookups:ie(Ft(us))})}),ls=ht({pubkey:He,signer:Nn(),writable:Nn(),source:ie(bn([Ze("transaction"),Ze("lookupTable")]))}),hs=ht({accountKeys:Ft(ls),signatures:Ft(Et())}),fs=ht({parsed:er(),program:Et(),programId:He}),ds=ht({accounts:Ft(He),data:Et(),programId:He}),ps=nr(bn([ds,fs]),bn([ht({parsed:er(),program:Et(),programId:Et()}),ht({accounts:Ft(Et()),data:Et(),programId:Et()})]),o=>St(o,"accounts"in o?ds:fs)),gs=ht({signatures:Ft(Et()),message:ht({accountKeys:Ft(ls),instructions:Ft(ps),recentBlockhash:Et(),addressTableLookups:ie(Nt(Ft(us)))})}),ii=ht({accountIndex:G(),mint:Et(),owner:ie(Et()),uiTokenAmount:Zi}),ms=ht({writable:Ft(He),readonly:Ft(He)}),oi=ht({err:sr,fee:G(),innerInstructions:ie(Nt(Ft(ht({index:G(),instructions:Ft(ht({accounts:Ft(G()),data:Et(),programIdIndex:G()}))})))),preBalances:Ft(G()),postBalances:Ft(G()),logMessages:ie(Nt(Ft(Et()))),preTokenBalances:ie(Nt(Ft(ii))),postTokenBalances:ie(Nt(Ft(ii))),loadedAddresses:ie(ms),computeUnitsConsumed:ie(G())}),ji=ht({err:sr,fee:G(),innerInstructions:ie(Nt(Ft(ht({index:G(),instructions:Ft(ps)})))),preBalances:Ft(G()),postBalances:Ft(G()),logMessages:ie(Nt(Ft(Et()))),preTokenBalances:ie(Nt(Ft(ii))),postTokenBalances:ie(Nt(Ft(ii))),loadedAddresses:ie(ms),computeUnitsConsumed:ie(G())}),wr=bn([Ze(0),Ze("legacy")]),ar=ht({pubkey:Et(),lamports:G(),postBalance:Nt(G()),rewardType:Nt(Et()),commission:ie(Nt(G()))}),vu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ft(ht({transaction:Gi,meta:Nt(oi),version:ie(wr)})),rewards:ie(Ft(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Au=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),rewards:ie(Ft(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Mu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ft(ht({transaction:hs,meta:Nt(oi),version:ie(wr)})),rewards:ie(Ft(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Pu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ft(ht({transaction:gs,meta:Nt(ji),version:ie(wr)})),rewards:ie(Ft(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Tu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ft(ht({transaction:hs,meta:Nt(ji),version:ie(wr)})),rewards:ie(Ft(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Cu=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),rewards:ie(Ft(ar)),blockTime:Nt(G()),blockHeight:Nt(G())}))),Ru=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),transactions:Ft(ht({transaction:Gi,meta:Nt(oi)})),rewards:ie(Ft(ar)),blockTime:Nt(G())}))),ys=he(Nt(ht({blockhash:Et(),previousBlockhash:Et(),parentSlot:G(),signatures:Ft(Et()),blockTime:Nt(G())}))),Yi=he(Nt(ht({slot:G(),meta:Nt(oi),blockTime:ie(Nt(G())),transaction:Gi,version:ie(wr)}))),si=he(Nt(ht({slot:G(),transaction:gs,meta:Nt(ji),blockTime:ie(Nt(G())),version:ie(wr)}))),Ou=Xe(ht({blockhash:Et(),feeCalculator:ht({lamportsPerSignature:G()})})),Uu=Xe(ht({blockhash:Et(),lastValidBlockHeight:G()})),Lu=Xe(Nn()),Nu=he(Ft(ht({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()}))),Du=Xe(Nt(ht({feeCalculator:ht({lamportsPerSignature:G()})}))),zu=he(Et()),qu=he(Et()),Wu=ht({err:sr,logs:Ft(Et()),signature:Et()}),Ku=ht({result:ri(Wu),subscription:G()}),$u={"solana-client":"js/0.0.0-development"};class ws{constructor(t,e){var i=this;let a,c,h,p,b,P;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const U={};return function(){var K=x(function*(X){const{commitment:st,config:J}=Le(X),z=i._buildArgs([],st,void 0,J),H=es(z);return U[H]=U[H]??x(function*(){try{const dt=St(yield i._rpcRequest("getBlockHeight",z),he(G()));if("error"in dt)throw new Xt(dt.error,"failed to get block height information");return dt.result}finally{delete U[H]}})(),yield U[H]});return function(X){return K.apply(this,arguments)}}()})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,a=e.wsEndpoint,c=e.httpHeaders,h=e.fetch,p=e.fetchMiddleware,b=e.disableRetryOnRateLimit,P=e.httpAgent),this._rpcEndpoint=function Ac(o){if(!1===/^https?:/.test(o))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return o}(t),this._rpcWsEndpoint=a||function Sc(o){const t=o.match(Ic);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${o}\``);const[e,i,a,c]=t,h=o.startsWith("https:")?"wss:":"ws:",p=null==a?null:parseInt(a.slice(1),10);return`${h}//${i}${null==p?"":`:${p+1}`}${c}`}(t),this._rpcClient=function Kc(o,t,e,i,a,c){const h=e||_c;let b;return null!=c&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),i&&(b=function(){var U=x(function*(K,X){const st=yield new Promise((J,z)=>{try{i(K,X,(H,j)=>J([H,j]))}catch(H){z(H)}});return yield h(...st)});return function(X,st){return U.apply(this,arguments)}}()),new(Aa())(function(){var U=x(function*(K,X){const st={method:"POST",body:K,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},$u)};try{let z,J=5,H=500;for(;z=b?yield b(o,st):yield h(o,st),429===z.status&&!0!==a&&(J-=1,0!==J);)console.error(`Server responded with ${z.status} ${z.statusText}.  Retrying after ${H}ms delay...`),yield mr(H),H*=2;const j=yield z.text();z.ok?X(null,j):X(new Error(`${z.status} ${z.statusText}: ${j}`))}catch(J){J instanceof Error&&X(J)}});return function(K,X){return U.apply(this,arguments)}}(),{})}(t,c,h,p,b,P),this._rpcRequest=function $c(o){return(t,e)=>new Promise((i,a)=>{o.request(t,e,(c,h)=>{c?a(c):i(h)})})}(this._rpcClient),this._rpcBatchRequest=function Zc(o){return t=>new Promise((e,i)=>{0===t.length&&e([]);const a=t.map(c=>o.request(c.methodName,c.args));o.request(a,(c,h)=>{c?i(c):e(h)})})}(this._rpcClient),this._rpcWebSocket=new kc(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}getBalanceAndContext(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgs([t.toBase58()],a,void 0,c),b=St(yield i._rpcRequest("getBalance",h),Xe(G()));if("error"in b)throw new Xt(b.error,`failed to get balance for ${t.toBase58()}`);return b.result})()}getBalance(t,e){var i=this;return x(function*(){return yield i.getBalanceAndContext(t,e).then(a=>a.value).catch(a=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+a)})})()}getBlockTime(t){var e=this;return x(function*(){const a=St(yield e._rpcRequest("getBlockTime",[t]),he(Nt(G())));if("error"in a)throw new Xt(a.error,`failed to get block time for slot ${t}`);return a.result})()}getMinimumLedgerSlot(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("minimumLedgerSlot",[]),he(G()));if("error"in i)throw new Xt(i.error,"failed to get minimum ledger slot");return i.result})()}getFirstAvailableBlock(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("getFirstAvailableBlock",[]),Xc);if("error"in i)throw new Xt(i.error,"failed to get first available block");return i.result})()}getSupply(t){var e=this;return x(function*(){let i={};i="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||e.commitment}:{commitment:e.commitment};const c=St(yield e._rpcRequest("getSupply",[i]),Qc);if("error"in c)throw new Xt(c.error,"failed to get supply");return c.result})()}getTokenSupply(t,e){var i=this;return x(function*(){const a=i._buildArgs([t.toBase58()],e),h=St(yield i._rpcRequest("getTokenSupply",a),Xe(Zi));if("error"in h)throw new Xt(h.error,"failed to get token supply");return h.result})()}getTokenAccountBalance(t,e){var i=this;return x(function*(){const a=i._buildArgs([t.toBase58()],e),h=St(yield i._rpcRequest("getTokenAccountBalance",a),Xe(Zi));if("error"in h)throw new Xt(h.error,"failed to get token account balance");return h.result})()}getTokenAccountsByOwner(t,e,i){var a=this;return x(function*(){const{commitment:c,config:h}=Le(i);let p=[t.toBase58()];p.push("mint"in e?{mint:e.mint.toBase58()}:{programId:e.programId.toBase58()});const b=a._buildArgs(p,c,"base64",h),U=St(yield a._rpcRequest("getTokenAccountsByOwner",b),eu);if("error"in U)throw new Xt(U.error,`failed to get token accounts owned by account ${t.toBase58()}`);return U.result})()}getParsedTokenAccountsByOwner(t,e,i){var a=this;return x(function*(){let c=[t.toBase58()];c.push("mint"in e?{mint:e.mint.toBase58()}:{programId:e.programId.toBase58()});const h=a._buildArgs(c,i,"jsonParsed"),b=St(yield a._rpcRequest("getTokenAccountsByOwner",h),nu);if("error"in b)throw new Xt(b.error,`failed to get token accounts owned by account ${t.toBase58()}`);return b.result})()}getLargestAccounts(t){var e=this;return x(function*(){const i={...t,commitment:t&&t.commitment||e.commitment},a=i.filter||i.commitment?[i]:[],h=St(yield e._rpcRequest("getLargestAccounts",a),ru);if("error"in h)throw new Xt(h.error,"failed to get largest accounts");return h.result})()}getTokenLargestAccounts(t,e){var i=this;return x(function*(){const a=i._buildArgs([t.toBase58()],e),h=St(yield i._rpcRequest("getTokenLargestAccounts",a),tu);if("error"in h)throw new Xt(h.error,"failed to get token largest accounts");return h.result})()}getAccountInfoAndContext(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgs([t.toBase58()],a,"base64",c),b=St(yield i._rpcRequest("getAccountInfo",h),Xe(Nt(Rr)));if("error"in b)throw new Xt(b.error,`failed to get info about account ${t.toBase58()}`);return b.result})()}getParsedAccountInfo(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgs([t.toBase58()],a,"jsonParsed",c),b=St(yield i._rpcRequest("getAccountInfo",h),Xe(Nt(Vi)));if("error"in b)throw new Xt(b.error,`failed to get info about account ${t.toBase58()}`);return b.result})()}getAccountInfo(t,e){var i=this;return x(function*(){try{return(yield i.getAccountInfoAndContext(t,e)).value}catch(a){throw new Error("failed to get info about account "+t.toBase58()+": "+a)}})()}getMultipleParsedAccounts(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=t.map(U=>U.toBase58()),p=i._buildArgs([h],a,"jsonParsed",c),P=St(yield i._rpcRequest("getMultipleAccounts",p),Xe(Ft(Nt(Vi))));if("error"in P)throw new Xt(P.error,`failed to get info for accounts ${h}`);return P.result})()}getMultipleAccountsInfoAndContext(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=t.map(U=>U.toBase58()),p=i._buildArgs([h],a,"base64",c),P=St(yield i._rpcRequest("getMultipleAccounts",p),Xe(Ft(Nt(Rr))));if("error"in P)throw new Xt(P.error,`failed to get info for accounts ${h}`);return P.result})()}getMultipleAccountsInfo(t,e){var i=this;return x(function*(){return(yield i.getMultipleAccountsInfoAndContext(t,e)).value})()}getStakeActivation(t,e,i){var a=this;return x(function*(){const{commitment:c,config:h}=Le(e),p=a._buildArgs([t.toBase58()],c,void 0,{...h,epoch:i??h?.epoch}),P=St(yield a._rpcRequest("getStakeActivation",p),he(au));if("error"in P)throw new Xt(P.error,`failed to get Stake Activation ${t.toBase58()}`);return P.result})()}getProgramAccounts(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),{encoding:h,...p}=c||{},b=i._buildArgs([t.toBase58()],a,h||"base64",{...p,...p.filters?{filters:os(p.filters)}:null}),P=yield i._rpcRequest("getProgramAccounts",b),U=Ft(iu),K=St(P,!0===p.withContext?Xe(U):he(U));if("error"in K)throw new Xt(K.error,`failed to get accounts owned by program ${t.toBase58()}`);return K.result})()}getParsedProgramAccounts(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgs([t.toBase58()],a,"jsonParsed",c),b=St(yield i._rpcRequest("getProgramAccounts",h),he(Ft(su)));if("error"in b)throw new Xt(b.error,`failed to get accounts owned by program ${t.toBase58()}`);return b.result})()}confirmTransaction(t,e){var i=this;return x(function*(){let a,c;if("string"==typeof t)a=t;else{const h=t;if(h.abortSignal?.aborted)return Promise.reject(h.abortSignal.reason);a=h.signature}try{c=pn().decode(a)}catch{throw new Error("signature must be base58 encoded: "+a)}return xe(64===c.length,"signature has invalid length"),"string"==typeof t?yield i.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||i.commitment,signature:a}):"lastValidBlockHeight"in t?yield i.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||i.commitment,strategy:t}):yield i.confirmTransactionUsingDurableNonceStrategy({commitment:e||i.commitment,strategy:t})})()}getCancellationPromise(t){return new Promise((e,i)=>{null!=t&&(t.aborted?i(t.reason):t.addEventListener("abort",()=>{i(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){var i=this;let a,c,h=!1;return{abortConfirmation:()=>{c&&(c(),c=void 0),null!=a&&(this.removeSignatureListener(a),a=void 0)},confirmationPromise:new Promise((P,U)=>{try{a=this.onSignature(e,(X,st)=>{a=void 0,P({__type:Jn.PROCESSED,response:{context:st,value:X}})},t);const K=new Promise(X=>{null==a?X():c=this._onSubscriptionStateChange(a,st=>{"subscribed"===st&&X()})});x(function*(){if(yield K,h)return;const X=yield i.getSignatureStatus(e);if(h||null==X)return;const{context:st,value:J}=X;if(null!=J)if(J?.err)U(J.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===J.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===J.confirmationStatus||"confirmed"===J.confirmationStatus)return}h=!0,P({__type:Jn.PROCESSED,response:{context:st,value:J}})}})()}catch(K){U(K)}})}}confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:i,signature:a}}){var c=this;return x(function*(){let h=!1;const p=new Promise(X=>{const st=function(){var J=x(function*(){try{return yield c.getBlockHeight(t)}catch{return-1}});return function(){return J.apply(this,arguments)}}();x(function*(){let J=yield st();if(!h){for(;J<=i;)if(yield mr(1e3),h||(J=yield st(),h))return;X({__type:Jn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:b,confirmationPromise:P}=c.getTransactionConfirmationPromise({commitment:t,signature:a}),U=c.getCancellationPromise(e);let K;try{const X=yield Promise.race([U,P,p]);if(X.__type!==Jn.PROCESSED)throw new Zo(a);K=X.response}finally{h=!0,b()}return K})()}confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:i,nonceAccountPubkey:a,nonceValue:c,signature:h}}){var p=this;return x(function*(){let b=!1;const P=new Promise(J=>{let z=c,H=null;const j=function(){var dt=x(function*(){try{const{context:mt,value:Wt}=yield p.getNonceAndContext(a,{commitment:t,minContextSlot:i});return H=mt.slot,Wt?.nonce}catch{return z}});return function(){return dt.apply(this,arguments)}}();x(function*(){if(z=yield j(),!b)for(;;){if(c!==z)return void J({__type:Jn.NONCE_INVALID,slotInWhichNonceDidAdvance:H});if(yield mr(2e3),b||(z=yield j(),b))return}})()}),{abortConfirmation:U,confirmationPromise:K}=p.getTransactionConfirmationPromise({commitment:t,signature:h}),X=p.getCancellationPromise(e);let st;try{const J=yield Promise.race([X,K,P]);if(J.__type===Jn.PROCESSED)st=J.response;else{let z;for(;;){const H=yield p.getSignatureStatus(h);if(null==H)break;if(!(H.context.slot<(J.slotInWhichNonceDidAdvance??i))){z=H;break}yield mr(400)}if(!z?.value)throw new Pr(h);{const H=t||"finalized",{confirmationStatus:j}=z.value;switch(H){case"processed":case"recent":if("processed"!==j&&"confirmed"!==j&&"finalized"!==j)throw new Pr(h);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==j&&"finalized"!==j)throw new Pr(h);break;case"finalized":case"max":case"root":if("finalized"!==j)throw new Pr(h)}st={context:z.context,value:{err:z.value.err}}}}}finally{b=!0,U()}return st})()}confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){var i=this;return x(function*(){let a;const c=new Promise(P=>{let U=i._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":U=i._confirmTransactionInitialTimeout||3e4}a=setTimeout(()=>P({__type:Jn.TIMED_OUT,timeoutMs:U}),U)}),{abortConfirmation:h,confirmationPromise:p}=i.getTransactionConfirmationPromise({commitment:t,signature:e});let b;try{const P=yield Promise.race([p,c]);if(P.__type!==Jn.PROCESSED)throw new Ho(e,P.timeoutMs/1e3);b=P.response}finally{clearTimeout(a),h()}return b})()}getClusterNodes(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("getClusterNodes",[]),he(Ft(bu)));if("error"in i)throw new Xt(i.error,"failed to get cluster nodes");return i.result})()}getVoteAccounts(t){var e=this;return x(function*(){const i=e._buildArgs([],t),c=St(yield e._rpcRequest("getVoteAccounts",i),xu);if("error"in c)throw new Xt(c.error,"failed to get vote accounts");return c.result})()}getSlot(t){var e=this;return x(function*(){const{commitment:i,config:a}=Le(t),c=e._buildArgs([],i,void 0,a),p=St(yield e._rpcRequest("getSlot",c),he(G()));if("error"in p)throw new Xt(p.error,"failed to get slot");return p.result})()}getSlotLeader(t){var e=this;return x(function*(){const{commitment:i,config:a}=Le(t),c=e._buildArgs([],i,void 0,a),p=St(yield e._rpcRequest("getSlotLeader",c),he(Et()));if("error"in p)throw new Xt(p.error,"failed to get slot leader");return p.result})()}getSlotLeaders(t,e){var i=this;return x(function*(){const a=[t,e],h=St(yield i._rpcRequest("getSlotLeaders",a),he(Ft(He)));if("error"in h)throw new Xt(h.error,"failed to get slot leaders");return h.result})()}getSignatureStatus(t,e){var i=this;return x(function*(){const{context:a,value:c}=yield i.getSignatureStatuses([t],e);return xe(1===c.length),{context:a,value:c[0]}})()}getSignatureStatuses(t,e){var i=this;return x(function*(){const a=[t];e&&a.push(e);const h=St(yield i._rpcRequest("getSignatureStatuses",a),Eu);if("error"in h)throw new Xt(h.error,"failed to get signature status");return h.result})()}getTransactionCount(t){var e=this;return x(function*(){const{commitment:i,config:a}=Le(t),c=e._buildArgs([],i,void 0,a),p=St(yield e._rpcRequest("getTransactionCount",c),he(G()));if("error"in p)throw new Xt(p.error,"failed to get transaction count");return p.result})()}getTotalSupply(t){var e=this;return x(function*(){return(yield e.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total})()}getInflationGovernor(t){var e=this;return x(function*(){const i=e._buildArgs([],t),c=St(yield e._rpcRequest("getInflationGovernor",i),Hc);if("error"in c)throw new Xt(c.error,"failed to get inflation");return c.result})()}getInflationReward(t,e,i){var a=this;return x(function*(){const{commitment:c,config:h}=Le(i),p=a._buildArgs([t.map(U=>U.toBase58())],c,void 0,{...h,epoch:e??h?.epoch}),P=St(yield a._rpcRequest("getInflationReward",p),Tc);if("error"in P)throw new Xt(P.error,"failed to get inflation reward");return P.result})()}getInflationRate(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("getInflationRate",[]),Vc);if("error"in i)throw new Xt(i.error,"failed to get inflation rate");return i.result})()}getEpochInfo(t){var e=this;return x(function*(){const{commitment:i,config:a}=Le(t),c=e._buildArgs([],i,void 0,a),p=St(yield e._rpcRequest("getEpochInfo",c),jc);if("error"in p)throw new Xt(p.error,"failed to get epoch info");return p.result})()}getEpochSchedule(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("getEpochSchedule",[]),Yc);if("error"in i)throw new Xt(i.error,"failed to get epoch schedule");const a=i.result;return new xc(a.slotsPerEpoch,a.leaderScheduleSlotOffset,a.warmup,a.firstNormalEpoch,a.firstNormalSlot)})()}getLeaderSchedule(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("getLeaderSchedule",[]),Jc);if("error"in i)throw new Xt(i.error,"failed to get leader schedule");return i.result})()}getMinimumBalanceForRentExemption(t,e){var i=this;return x(function*(){const a=i._buildArgs([t],e),h=St(yield i._rpcRequest("getMinimumBalanceForRentExemption",a),Bu);return"error"in h?(console.warn("Unable to fetch minimum balance for rent exemption"),0):h.result})()}getRecentBlockhashAndContext(t){var e=this;return x(function*(){const i=e._buildArgs([],t),c=St(yield e._rpcRequest("getRecentBlockhash",i),Ou);if("error"in c)throw new Xt(c.error,"failed to get recent blockhash");return c.result})()}getRecentPerformanceSamples(t){var e=this;return x(function*(){const a=St(yield e._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Nu);if("error"in a)throw new Xt(a.error,"failed to get recent performance samples");return a.result})()}getFeeCalculatorForBlockhash(t,e){var i=this;return x(function*(){const a=i._buildArgs([t],e),h=St(yield i._rpcRequest("getFeeCalculatorForBlockhash",a),Du);if("error"in h)throw new Xt(h.error,"failed to get fee calculator");const{context:p,value:b}=h.result;return{context:p,value:null!==b?b.feeCalculator:null}})()}getFeeForMessage(t,e){var i=this;return x(function*(){const a=le(t.serialize()).toString("base64"),c=i._buildArgs([a],e),p=St(yield i._rpcRequest("getFeeForMessage",c),Xe(Nt(G())));if("error"in p)throw new Xt(p.error,"failed to get fee for message");if(null===p.result)throw new Error("invalid blockhash");return p.result})()}getRecentPrioritizationFees(t){var e=this;return x(function*(){const i=t?.lockedWritableAccounts?.map(p=>p.toBase58()),a=i?.length?[i]:[],h=St(yield e._rpcRequest("getRecentPrioritizationFees",a),Gc);if("error"in h)throw new Xt(h.error,"failed to get recent prioritization fees");return h.result})()}getRecentBlockhash(t){var e=this;return x(function*(){try{return(yield e.getRecentBlockhashAndContext(t)).value}catch(i){throw new Error("failed to get recent blockhash: "+i)}})()}getLatestBlockhash(t){var e=this;return x(function*(){try{return(yield e.getLatestBlockhashAndContext(t)).value}catch(i){throw new Error("failed to get recent blockhash: "+i)}})()}getLatestBlockhashAndContext(t){var e=this;return x(function*(){const{commitment:i,config:a}=Le(t),c=e._buildArgs([],i,void 0,a),p=St(yield e._rpcRequest("getLatestBlockhash",c),Uu);if("error"in p)throw new Xt(p.error,"failed to get latest blockhash");return p.result})()}isBlockhashValid(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgs([t],a,void 0,c),b=St(yield i._rpcRequest("isBlockhashValid",h),Lu);if("error"in b)throw new Xt(b.error,"failed to determine if the blockhash `"+t+"`is valid");return b.result})()}getVersion(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("getVersion",[]),he(Dc));if("error"in i)throw new Xt(i.error,"failed to get version");return i.result})()}getGenesisHash(){var t=this;return x(function*(){const i=St(yield t._rpcRequest("getGenesisHash",[]),he(Et()));if("error"in i)throw new Xt(i.error,"failed to get genesis hash");return i.result})()}getBlock(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgsAtLeastConfirmed([t],a,void 0,c),p=yield i._rpcRequest("getBlock",h);try{switch(c?.transactionDetails){case"accounts":{const b=St(p,Mu);if("error"in b)throw b.error;return b.result}case"none":{const b=St(p,Au);if("error"in b)throw b.error;return b.result}default:{const b=St(p,vu);if("error"in b)throw b.error;const{result:P}=b;return P?{...P,transactions:P.transactions.map(({transaction:U,meta:K,version:X})=>({meta:K,transaction:{...U,message:$i(X,U.message)},version:X}))}:null}}}catch(b){throw new Xt(b,"failed to get confirmed block")}})()}getParsedBlock(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgsAtLeastConfirmed([t],a,"jsonParsed",c),p=yield i._rpcRequest("getBlock",h);try{switch(c?.transactionDetails){case"accounts":{const b=St(p,Tu);if("error"in b)throw b.error;return b.result}case"none":{const b=St(p,Cu);if("error"in b)throw b.error;return b.result}default:{const b=St(p,Pu);if("error"in b)throw b.error;return b.result}}}catch(b){throw new Xt(b,"failed to get block")}})()}getBlockProduction(t){var e=this;return x(function*(){let i,a;if("string"==typeof t)a=t;else if(t){const{commitment:b,...P}=t;a=b,i=P}const c=e._buildArgs([],a,"base64",i),p=St(yield e._rpcRequest("getBlockProduction",c),Wc);if("error"in p)throw new Xt(p.error,"failed to get block production information");return p.result})()}getTransaction(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgsAtLeastConfirmed([t],a,void 0,c),b=St(yield i._rpcRequest("getTransaction",h),Yi);if("error"in b)throw new Xt(b.error,"failed to get transaction");const P=b.result;return P&&{...P,transaction:{...P.transaction,message:$i(P.version,P.transaction.message)}}})()}getParsedTransaction(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=i._buildArgsAtLeastConfirmed([t],a,"jsonParsed",c),b=St(yield i._rpcRequest("getTransaction",h),si);if("error"in b)throw new Xt(b.error,"failed to get transaction");return b.result})()}getParsedTransactions(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=t.map(P=>({methodName:"getTransaction",args:i._buildArgsAtLeastConfirmed([P],a,"jsonParsed",c)}));return(yield i._rpcBatchRequest(h)).map(P=>{const U=St(P,si);if("error"in U)throw new Xt(U.error,"failed to get transactions");return U.result})})()}getTransactions(t,e){var i=this;return x(function*(){const{commitment:a,config:c}=Le(e),h=t.map(P=>({methodName:"getTransaction",args:i._buildArgsAtLeastConfirmed([P],a,void 0,c)}));return(yield i._rpcBatchRequest(h)).map(P=>{const U=St(P,Yi);if("error"in U)throw new Xt(U.error,"failed to get transactions");const K=U.result;return K&&{...K,transaction:{...K.transaction,message:$i(K.version,K.transaction.message)}}})})()}getConfirmedBlock(t,e){var i=this;return x(function*(){const a=i._buildArgsAtLeastConfirmed([t],e),h=St(yield i._rpcRequest("getConfirmedBlock",a),Ru);if("error"in h)throw new Xt(h.error,"failed to get confirmed block");const p=h.result;if(!p)throw new Error("Confirmed block "+t+" not found");const b={...p,transactions:p.transactions.map(({transaction:P,meta:U})=>{const K=new zn(P.message);return{meta:U,transaction:{...P,message:K}}})};return{...b,transactions:b.transactions.map(({transaction:P,meta:U})=>({meta:U,transaction:De.populate(P.message,P.signatures)}))}})()}getBlocks(t,e,i){var a=this;return x(function*(){const c=a._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],i),p=St(yield a._rpcRequest("getBlocks",c),he(Ft(G())));if("error"in p)throw new Xt(p.error,"failed to get blocks");return p.result})()}getBlockSignatures(t,e){var i=this;return x(function*(){const a=i._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),h=St(yield i._rpcRequest("getBlock",a),ys);if("error"in h)throw new Xt(h.error,"failed to get block");const p=h.result;if(!p)throw new Error("Block "+t+" not found");return p})()}getConfirmedBlockSignatures(t,e){var i=this;return x(function*(){const a=i._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),h=St(yield i._rpcRequest("getConfirmedBlock",a),ys);if("error"in h)throw new Xt(h.error,"failed to get confirmed block");const p=h.result;if(!p)throw new Error("Confirmed block "+t+" not found");return p})()}getConfirmedTransaction(t,e){var i=this;return x(function*(){const a=i._buildArgsAtLeastConfirmed([t],e),h=St(yield i._rpcRequest("getConfirmedTransaction",a),Yi);if("error"in h)throw new Xt(h.error,"failed to get transaction");const p=h.result;if(!p)return p;const b=new zn(p.transaction.message),P=p.transaction.signatures;return{...p,transaction:De.populate(b,P)}})()}getParsedConfirmedTransaction(t,e){var i=this;return x(function*(){const a=i._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),h=St(yield i._rpcRequest("getConfirmedTransaction",a),si);if("error"in h)throw new Xt(h.error,"failed to get confirmed transaction");return h.result})()}getParsedConfirmedTransactions(t,e){var i=this;return x(function*(){const a=t.map(p=>({methodName:"getConfirmedTransaction",args:i._buildArgsAtLeastConfirmed([p],e,"jsonParsed")}));return(yield i._rpcBatchRequest(a)).map(p=>{const b=St(p,si);if("error"in b)throw new Xt(b.error,"failed to get confirmed transactions");return b.result})})()}getConfirmedSignaturesForAddress(t,e,i){var a=this;return x(function*(){let c={},h=yield a.getFirstAvailableBlock();for(;!("until"in c||(e--,e<=0||e<h));)try{const P=yield a.getConfirmedBlockSignatures(e,"finalized");P.signatures.length>0&&(c.until=P.signatures[P.signatures.length-1].toString())}catch(P){if(P instanceof Error&&P.message.includes("skipped"))continue;throw P}let p=yield a.getSlot("finalized");for(;!("before"in c||(i++,i>p));)try{const P=yield a.getConfirmedBlockSignatures(i);P.signatures.length>0&&(c.before=P.signatures[P.signatures.length-1].toString())}catch(P){if(P instanceof Error&&P.message.includes("skipped"))continue;throw P}return(yield a.getConfirmedSignaturesForAddress2(t,c)).map(P=>P.signature)})()}getConfirmedSignaturesForAddress2(t,e,i){var a=this;return x(function*(){const c=a._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,e),p=St(yield a._rpcRequest("getConfirmedSignaturesForAddress2",c),cu);if("error"in p)throw new Xt(p.error,"failed to get confirmed signatures for address");return p.result})()}getSignaturesForAddress(t,e,i){var a=this;return x(function*(){const c=a._buildArgsAtLeastConfirmed([t.toBase58()],i,void 0,e),p=St(yield a._rpcRequest("getSignaturesForAddress",c),uu);if("error"in p)throw new Xt(p.error,"failed to get signatures for address");return p.result})()}getAddressLookupTable(t,e){var i=this;return x(function*(){const{context:a,value:c}=yield i.getAccountInfoAndContext(t,e);let h=null;return null!==c&&(h=new rs({key:t,state:rs.deserialize(c.data)})),{context:a,value:h}})()}getNonceAndContext(t,e){var i=this;return x(function*(){const{context:a,value:c}=yield i.getAccountInfoAndContext(t,e);let h=null;return null!==c&&(h=qi.fromAccountData(c.data)),{context:a,value:h}})()}getNonce(t,e){var i=this;return x(function*(){return yield i.getNonceAndContext(t,e).then(a=>a.value).catch(a=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+a)})})()}requestAirdrop(t,e){var i=this;return x(function*(){const c=St(yield i._rpcRequest("requestAirdrop",[t.toBase58(),e]),zu);if("error"in c)throw new Xt(c.error,`airdrop to ${t.toBase58()} failed`);return c.result})()}_blockhashWithExpiryBlockHeight(t){var e=this;return x(function*(){if(!t){for(;e._pollingBlockhash;)yield mr(100);const a=Date.now()-e._blockhashInfo.lastFetch>=3e4;if(null!==e._blockhashInfo.latestBlockhash&&!a)return e._blockhashInfo.latestBlockhash}return yield e._pollNewBlockhash()})()}_pollNewBlockhash(){var t=this;return x(function*(){t._pollingBlockhash=!0;try{const e=Date.now(),i=t._blockhashInfo.latestBlockhash,a=i?i.blockhash:null;for(let c=0;c<50;c++){const h=yield t.getLatestBlockhash("finalized");if(a!==h.blockhash)return t._blockhashInfo={latestBlockhash:h,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},h;yield mr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{t._pollingBlockhash=!1}})()}getStakeMinimumDelegation(t){var e=this;return x(function*(){const{commitment:i,config:a}=Le(t),c=e._buildArgs([],i,"base64",a),p=St(yield e._rpcRequest("getStakeMinimumDelegation",c),Xe(G()));if("error"in p)throw new Xt(p.error,"failed to get stake minimum delegation");return p.result})()}simulateTransaction(t,e,i){var a=this;return x(function*(){if("message"in t){const H=t.serialize(),j=nt.lW.from(H).toString("base64");if(Array.isArray(e)||void 0!==i)throw new Error("Invalid arguments");const dt=e||{};dt.encoding="base64","commitment"in dt||(dt.commitment=a.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(dt.innerInstructions=e.innerInstructions);const mt=[j,dt],vt=St(yield a._rpcRequest("simulateTransaction",mt),as);if("error"in vt)throw new Error("failed to simulate transaction: "+vt.error.message);return vt.result}let c;if(t instanceof De){let z=t;c=new De,c.feePayer=z.feePayer,c.instructions=t.instructions,c.nonceInfo=z.nonceInfo,c.signatures=z.signatures}else c=De.populate(t),c._message=c._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const h=e;if(c.nonceInfo&&h)c.sign(...h);else{let z=a._disableBlockhashCaching;for(;;){const H=yield a._blockhashWithExpiryBlockHeight(z);if(c.lastValidBlockHeight=H.lastValidBlockHeight,c.recentBlockhash=H.blockhash,!h)break;if(c.sign(...h),!c.signature)throw new Error("!signature");const j=c.signature.toString("base64");if(!a._blockhashInfo.simulatedSignatures.includes(j)&&!a._blockhashInfo.transactionSignatures.includes(j)){a._blockhashInfo.simulatedSignatures.push(j);break}z=!0}}const p=c._compile(),b=p.serialize(),U=c._serialize(b).toString("base64"),K={encoding:"base64",commitment:a.commitment};if(i){const z=(Array.isArray(i)?i:p.nonProgramIds()).map(H=>H.toBase58());K.accounts={encoding:"base64",addresses:z}}h&&(K.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(K.innerInstructions=e.innerInstructions);const X=[U,K],J=St(yield a._rpcRequest("simulateTransaction",X),as);if("error"in J){let z;if("data"in J.error&&(z=J.error.data.logs,z&&Array.isArray(z))){const H="\n    ",j=H+z.join(H);console.error(J.error.message,j)}throw new ni({action:"simulate",signature:"",transactionMessage:J.error.message,logs:z})}return J.result})()}sendTransaction(t,e,i){var a=this;return x(function*(){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const p=t.serialize();return yield a.sendRawTransaction(p,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const c=e;if(t.nonceInfo)t.sign(...c);else{let p=a._disableBlockhashCaching;for(;;){const b=yield a._blockhashWithExpiryBlockHeight(p);if(t.lastValidBlockHeight=b.lastValidBlockHeight,t.recentBlockhash=b.blockhash,t.sign(...c),!t.signature)throw new Error("!signature");const P=t.signature.toString("base64");if(!a._blockhashInfo.transactionSignatures.includes(P)){a._blockhashInfo.transactionSignatures.push(P);break}p=!0}}const h=t.serialize();return yield a.sendRawTransaction(h,i)})()}sendRawTransaction(t,e){var i=this;return x(function*(){const a=le(t).toString("base64");return yield i.sendEncodedTransaction(a,e)})()}sendEncodedTransaction(t,e){var i=this;return x(function*(){const a={encoding:"base64"},c=e&&e.skipPreflight,h=!0===c?"processed":e&&e.preflightCommitment||i.commitment;e&&null!=e.maxRetries&&(a.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(a.minContextSlot=e.minContextSlot),c&&(a.skipPreflight=c),h&&(a.preflightCommitment=h);const p=[t,a],P=St(yield i._rpcRequest("sendTransaction",p),qu);if("error"in P){let U;throw"data"in P.error&&(U=P.error.data.logs),new ni({action:c?"send":"simulate",signature:"",transactionMessage:P.error.message,logs:U})}return P.result})()}_wsOnOpen(){var t=this;this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{x(function*(){try{yield t._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,i])=>{this._setSubscription(e,{...i,state:"pending"})})):this._updateSubscriptions()}_setSubscription(t,e){const i=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,i!==e.state){const a=this._subscriptionStateChangeCallbacksByHash[t];a&&a.forEach(c=>{try{c(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){const i=this._subscriptionHashByClientSubscriptionId[t];if(null==i)return()=>{};const a=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return a.add(e),()=>{a.delete(e),0===a.size&&delete this._subscriptionStateChangeCallbacksByHash[i]}}_updateSubscriptions(){var t=this;return x(function*(){if(0===Object.keys(t._subscriptionsByHash).length)return void(t._rpcWebSocketConnected&&(t._rpcWebSocketConnected=!1,t._rpcWebSocketIdleTimeout=setTimeout(()=>{t._rpcWebSocketIdleTimeout=null;try{t._rpcWebSocket.close()}catch(a){a instanceof Error&&console.log(`Error when closing socket connection: ${a.message}`)}},500)));if(null!==t._rpcWebSocketIdleTimeout&&(clearTimeout(t._rpcWebSocketIdleTimeout),t._rpcWebSocketIdleTimeout=null,t._rpcWebSocketConnected=!0),!t._rpcWebSocketConnected)return void t._rpcWebSocket.connect();const e=t._rpcWebSocketGeneration,i=()=>e===t._rpcWebSocketGeneration;yield Promise.all(Object.keys(t._subscriptionsByHash).map(function(){var a=x(function*(c){const h=t._subscriptionsByHash[c];if(void 0!==h)switch(h.state){case"pending":case"unsubscribed":if(0===h.callbacks.size)return delete t._subscriptionsByHash[c],"unsubscribed"===h.state&&delete t._subscriptionCallbacksByServerSubscriptionId[h.serverSubscriptionId],void(yield t._updateSubscriptions());yield x(function*(){const{args:p,method:b}=h;try{t._setSubscription(c,{...h,state:"subscribing"});const P=yield t._rpcWebSocket.call(b,p);t._setSubscription(c,{...h,serverSubscriptionId:P,state:"subscribed"}),t._subscriptionCallbacksByServerSubscriptionId[P]=h.callbacks,yield t._updateSubscriptions()}catch(P){if(P instanceof Error&&console.error(`${b} error for argument`,p,P.message),!i())return;t._setSubscription(c,{...h,state:"pending"}),yield t._updateSubscriptions()}})();break;case"subscribed":0===h.callbacks.size&&(yield x(function*(){const{serverSubscriptionId:p,unsubscribeMethod:b}=h;if(t._subscriptionsAutoDisposedByRpc.has(p))t._subscriptionsAutoDisposedByRpc.delete(p);else{t._setSubscription(c,{...h,state:"unsubscribing"}),t._setSubscription(c,{...h,state:"unsubscribing"});try{yield t._rpcWebSocket.call(b,[p])}catch(P){if(P instanceof Error&&console.error(`${b} error:`,P.message),!i())return;return t._setSubscription(c,{...h,state:"subscribed"}),void(yield t._updateSubscriptions())}}t._setSubscription(c,{...h,state:"unsubscribed"}),yield t._updateSubscriptions()})())}});return function(c){return a.apply(this,arguments)}}()))})()}_handleServerNotification(t,e){const i=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==i&&i.forEach(a=>{try{a(...e)}catch(c){console.error(c)}})}_wsOnAccountNotification(t){const{result:e,subscription:i}=St(t,lu);this._handleServerNotification(i,[e.value,e.context])}_makeSubscription(t,e){var i=this;const a=this._nextClientSubscriptionId++,c=es([t.method,e]),h=this._subscriptionsByHash[c];return void 0===h?this._subscriptionsByHash[c]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:h.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[a]=c,this._subscriptionDisposeFunctionsByClientSubscriptionId[a]=x(function*(){delete i._subscriptionDisposeFunctionsByClientSubscriptionId[a],delete i._subscriptionHashByClientSubscriptionId[a];const p=i._subscriptionsByHash[c];xe(void 0!==p,`Could not find a \`Subscription\` when tearing down client subscription #${a}`),p.callbacks.delete(t.callback),yield i._updateSubscriptions()}),this._updateSubscriptions(),a}onAccountChange(t,e,i){const{commitment:a,config:c}=Le(i),h=this._buildArgs([t.toBase58()],a||this._commitment||"finalized","base64",c);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},h)}removeAccountChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"account change")})()}_wsOnProgramAccountNotification(t){const{result:e,subscription:i}=St(t,fu);this._handleServerNotification(i,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,i,a){const{commitment:c,config:h}=Le(i),p=this._buildArgs([t.toBase58()],c||this._commitment||"finalized","base64",h||(a?{filters:os(a)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},p)}removeProgramAccountChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"program account change")})()}onLogs(t,e,i){const a=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],i||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},a)}removeOnLogsListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"logs")})()}_wsOnLogsNotification(t){const{result:e,subscription:i}=St(t,Ku);this._handleServerNotification(i,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:i}=St(t,pu);this._handleServerNotification(i,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}removeSlotChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"slot change")})()}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:i}=St(t,mu);this._handleServerNotification(i,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}removeSlotUpdateListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"slot update")})()}_unsubscribeClientSubscription(t,e){var i=this;return x(function*(){const a=i._subscriptionDisposeFunctionsByClientSubscriptionId[t];a?yield a():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)})()}_buildArgs(t,e,i,a){const c=e||this._commitment;if(c||i||a){let h={};i&&(h.encoding=i),c&&(h.commitment=c),a&&(h=Object.assign(h,a)),t.push(h)}return t}_buildArgsAtLeastConfirmed(t,e,i,a){const c=e||this._commitment;if(c&&!["confirmed","finalized"].includes(c))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,i,a)}_wsOnSignatureNotification(t){const{result:e,subscription:i}=St(t,yu);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,i){const a=this._buildArgs([t],i||this._commitment||"finalized"),c=this._makeSubscription({callback:(h,p)=>{if("status"===h.type){e(h.result,p);try{this.removeSignatureListener(c)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return c}onSignatureWithOptions(t,e,i){const{commitment:a,...c}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},h=this._buildArgs([t],a,void 0,c),p=this._makeSubscription({callback:(b,P)=>{e(b,P);try{this.removeSignatureListener(p)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},h);return p}removeSignatureListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"signature result")})()}_wsOnRootNotification(t){const{result:e,subscription:i}=St(t,wu);this._handleServerNotification(i,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}removeRootChangeListener(t){var e=this;return x(function*(){yield e._unsubscribeClientSubscription(t,"root change")})()}}class Or{constructor(t){this._keypair=void 0,this._keypair=t??qo()}static generate(){return new Or(qo())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const i=t.slice(32,64);if(!e||!e.skipValidation){const a=t.slice(0,32),c=Yr(a);for(let h=0;h<32;h++)if(i[h]!==c[h])throw new Error("provided secretKey is invalid")}return new Or({publicKey:i,secretKey:t})}static fromSeed(t){const e=Yr(t),i=new Uint8Array(64);return i.set(t),i.set(e,32),new Or({publicKey:e,secretKey:i})}get publicKey(){return new It(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:q.n_([q.Jq("instruction"),yr("recentSlot"),q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:q.n_([q.Jq("instruction")])},ExtendLookupTable:{index:2,layout:q.n_([q.Jq("instruction"),yr(),q.A9(ye(),q.cv(q.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:q.n_([q.Jq("instruction")])},CloseLookupTable:{index:4,layout:q.n_([q.Jq("instruction")])}});new It("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:q.n_([q.u8("instruction"),q.Jq("units"),q.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:q.n_([q.u8("instruction"),q.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:q.n_([q.u8("instruction"),q.Jq("units")])},SetComputeUnitPrice:{index:3,layout:q.n_([q.u8("instruction"),yr("microLamports")])}});new It("ComputeBudget111111111111111111111111111111");const Bs=q.n_([q.u8("numSignatures"),q.u8("padding"),q.KB("signatureOffset"),q.KB("signatureInstructionIndex"),q.KB("publicKeyOffset"),q.KB("publicKeyInstructionIndex"),q.KB("messageDataOffset"),q.KB("messageDataSize"),q.KB("messageInstructionIndex")]);class Ji{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:i,signature:a,instructionIndex:c}=t;xe(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),xe(64===a.length,`Signature must be 64 bytes but received ${a.length} bytes`);const h=Bs.span,p=h+e.length,b=p+a.length,U=nt.lW.alloc(b+i.length),K=c??65535;return Bs.encode({numSignatures:1,padding:0,signatureOffset:p,signatureInstructionIndex:K,publicKeyOffset:h,publicKeyInstructionIndex:K,messageDataOffset:b,messageDataSize:i.length,messageInstructionIndex:K},U),U.fill(e,h),U.fill(a,p),U.fill(i,b),new Ue({keys:[],programId:Ji.programId,data:U})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:i,instructionIndex:a}=t;xe(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const c=Or.fromSecretKey(e),h=c.publicKey.toBytes(),p=Li(i,c.secretKey);return this.createInstructionWithPublicKey({publicKey:h,message:i,signature:p,instructionIndex:a})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Ji.programId=new It("Ed25519SigVerify111111111111111111111111111");const Hu=Ar.getPublicKey,Qi=q.n_([q.u8("numSignatures"),q.KB("signatureOffset"),q.u8("signatureInstructionIndex"),q.KB("ethAddressOffset"),q.u8("ethAddressInstructionIndex"),q.KB("messageDataOffset"),q.KB("messageDataSize"),q.u8("messageInstructionIndex"),q.Ik(20,"ethAddress"),q.Ik(64,"signature"),q.u8("recoveryId")]);class Ur{constructor(){}static publicKeyToEthAddress(t){xe(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return nt.lW.from(Po(le(t))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:i,signature:a,recoveryId:c,instructionIndex:h}=t;return Ur.createInstructionWithEthAddress({ethAddress:Ur.publicKeyToEthAddress(e),message:i,signature:a,recoveryId:c,instructionIndex:h})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:i,signature:a,recoveryId:c,instructionIndex:h=0}=t;let p;p="string"==typeof e?e.startsWith("0x")?nt.lW.from(e.substr(2),"hex"):nt.lW.from(e,"hex"):e,xe(20===p.length,`Address must be 20 bytes but received ${p.length} bytes`);const U=12+p.length,K=U+a.length+1,st=nt.lW.alloc(Qi.span+i.length);return Qi.encode({numSignatures:1,signatureOffset:U,signatureInstructionIndex:h,ethAddressOffset:12,ethAddressInstructionIndex:h,messageDataOffset:K,messageDataSize:i.length,messageInstructionIndex:h,signature:le(a),ethAddress:le(p),recoveryId:c},st),st.fill(le(i),Qi.span),new Ue({keys:[],programId:Ur.programId,data:st})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:i,instructionIndex:a}=t;xe(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const c=le(e),h=Hu(c,!1).slice(1),p=nt.lW.from(Po(le(i))),[b,P]=((o,t)=>{const e=Ar.sign(o,t);return[e.toCompactRawBytes(),e.recovery]})(p,c);return this.createInstructionWithPublicKey({publicKey:h,message:i,signature:b,recoveryId:P,instructionIndex:a})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Ur.programId=new It("KeccakSecp256k11111111111111111111111111111");const Gu=new It("StakeConfig11111111111111111111111111111111");class ai{constructor(t,e,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=i}}ai.default=new ai(0,0,It.default);const gn=Object.freeze({Initialize:{index:0,layout:q.n_([q.Jq("instruction"),((o="authorized")=>q.n_([ye("staker"),ye("withdrawer")],o))(),((o="lockup")=>q.n_([q.gM("unixTimestamp"),q.gM("epoch"),ye("custodian")],o))()])},Authorize:{index:1,layout:q.n_([q.Jq("instruction"),ye("newAuthorized"),q.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:q.n_([q.Jq("instruction")])},Split:{index:3,layout:q.n_([q.Jq("instruction"),q.gM("lamports")])},Withdraw:{index:4,layout:q.n_([q.Jq("instruction"),q.gM("lamports")])},Deactivate:{index:5,layout:q.n_([q.Jq("instruction")])},Merge:{index:7,layout:q.n_([q.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:q.n_([q.Jq("instruction"),ye("newAuthorized"),q.Jq("stakeAuthorizationType"),or("authoritySeed"),ye("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class to{constructor(){}static initialize(t){const{stakePubkey:e,authorized:i,lockup:a}=t,c=a||ai.default,p=we(gn.Initialize,{authorized:{staker:le(i.staker.toBuffer()),withdrawer:le(i.withdrawer.toBuffer())},lockup:{unixTimestamp:c.unixTimestamp,epoch:c.epoch,custodian:le(c.custodian.toBuffer())}});return new Ue({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:p})}static createAccountWithSeed(t){const e=new De;e.add(kn.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:a,lockup:c}=t;return e.add(this.initialize({stakePubkey:i,authorized:a,lockup:c}))}static createAccount(t){const e=new De;e.add(kn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:i,authorized:a,lockup:c}=t;return e.add(this.initialize({stakePubkey:i,authorized:a,lockup:c}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:i,votePubkey:a}=t,h=we(gn.Delegate);return(new De).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Di,isSigner:!1,isWritable:!1},{pubkey:Gu,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static authorize(t){const{stakePubkey:e,authorizedPubkey:i,newAuthorizedPubkey:a,stakeAuthorizationType:c,custodianPubkey:h}=t,b=we(gn.Authorize,{newAuthorized:le(a.toBuffer()),stakeAuthorizationType:c.index}),P=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return h&&P.push({pubkey:h,isSigner:!0,isWritable:!1}),(new De).add({keys:P,programId:this.programId,data:b})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:i,authoritySeed:a,authorityOwner:c,newAuthorizedPubkey:h,stakeAuthorizationType:p,custodianPubkey:b}=t,U=we(gn.AuthorizeWithSeed,{newAuthorized:le(h.toBuffer()),stakeAuthorizationType:p.index,authoritySeed:a,authorityOwner:le(c.toBuffer())}),K=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1}];return b&&K.push({pubkey:b,isSigner:!0,isWritable:!1}),(new De).add({keys:K,programId:this.programId,data:U})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:i,splitStakePubkey:a,lamports:c}=t,p=we(gn.Split,{lamports:c});return new Ue({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:p})}static split(t,e){const i=new De;return i.add(kn.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),i.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:i,authorizedPubkey:a,splitStakePubkey:c,basePubkey:h,seed:p,lamports:b}=t,P=new De;return P.add(kn.allocate({accountPubkey:c,basePubkey:h,seed:p,space:this.space,programId:this.programId})),e&&e>0&&P.add(kn.transfer({fromPubkey:t.authorizedPubkey,toPubkey:c,lamports:e})),P.add(this.splitInstruction({stakePubkey:i,authorizedPubkey:a,splitStakePubkey:c,lamports:b}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:i,authorizedPubkey:a}=t,h=we(gn.Merge);return(new De).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Di,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:i,toPubkey:a,lamports:c,custodianPubkey:h}=t,b=we(gn.Withdraw,{lamports:c}),P=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Di,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return h&&P.push({pubkey:h,isSigner:!0,isWritable:!1}),(new De).add({keys:P,programId:this.programId,data:b})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:i}=t,c=we(gn.Deactivate);return(new De).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}}to.programId=new It("Stake11111111111111111111111111111111111111"),to.space=200;const qn=Object.freeze({InitializeAccount:{index:0,layout:q.n_([q.Jq("instruction"),((o="voteInit")=>q.n_([ye("nodePubkey"),ye("authorizedVoter"),ye("authorizedWithdrawer"),q.u8("commission")],o))()])},Authorize:{index:1,layout:q.n_([q.Jq("instruction"),ye("newAuthorized"),q.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:q.n_([q.Jq("instruction"),q.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:q.n_([q.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:q.n_([q.Jq("instruction"),((o="voteAuthorizeWithSeedArgs")=>q.n_([q.Jq("voteAuthorizationType"),ye("currentAuthorityDerivedKeyOwnerPubkey"),or("currentAuthorityDerivedKeySeed"),ye("newAuthorized")],o))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Lr{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:i,voteInit:a}=t,h=we(qn.InitializeAccount,{voteInit:{nodePubkey:le(a.nodePubkey.toBuffer()),authorizedVoter:le(a.authorizedVoter.toBuffer()),authorizedWithdrawer:le(a.authorizedWithdrawer.toBuffer()),commission:a.commission}});return new Ue({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:h})}static createAccount(t){const e=new De;return e.add(kn.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:i,newAuthorizedPubkey:a,voteAuthorizationType:c}=t,p=we(qn.Authorize,{newAuthorized:le(a.toBuffer()),voteAuthorizationType:c.index}),b=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return(new De).add({keys:b,programId:this.programId,data:p})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:i,currentAuthorityDerivedKeySeed:a,newAuthorizedPubkey:c,voteAuthorizationType:h,votePubkey:p}=t,P=we(qn.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:le(i.toBuffer()),currentAuthorityDerivedKeySeed:a,newAuthorized:le(c.toBuffer()),voteAuthorizationType:h.index}}),U=[{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new De).add({keys:U,programId:this.programId,data:P})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:i,lamports:a,toPubkey:c}=t,p=we(qn.Withdraw,{lamports:a}),b=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return(new De).add({keys:b,programId:this.programId,data:p})}static safeWithdraw(t,e,i){if(t.lamports>e-i)throw new Error("Withdraw will leave vote account with insufficient funds.");return Lr.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:i,nodePubkey:a}=t,h=we(qn.UpdateValidatorIdentity),p=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}];return(new De).add({keys:p,programId:this.programId,data:h})}}Lr.programId=new It("Vote111111111111111111111111111111111111111"),Lr.space=3762,new It("Va1idator1nfo111111111111111111111111111111"),ht({name:Et(),website:ie(Et()),details:ie(Et()),iconUrl:ie(Et()),keybaseUsername:ie(Et())}),new It("Vote111111111111111111111111111111111111111"),q.n_([ye("nodePubkey"),ye("authorizedWithdrawer"),q.u8("commission"),q._O(),q.A9(q.n_([q._O("slot"),q.Jq("confirmationCount")]),q.cv(q.Jq(),-8),"votes"),q.u8("rootSlotValid"),q._O("rootSlot"),q._O(),q.A9(q.n_([q._O("epoch"),ye("authorizedVoter")]),q.cv(q.Jq(),-8),"authorizedVoters"),q.n_([q.A9(q.n_([ye("authorizedPubkey"),q._O("epochOfLastAuthorizedSwitch"),q._O("targetEpoch")]),32,"buf"),q._O("idx"),q.u8("isEmpty")],"priorVoters"),q._O(),q.A9(q.n_([q._O("epoch"),q._O("credits"),q._O("prevCredits")]),q.cv(q.Jq(),-8),"epochCredits"),q.n_([q._O("slot"),q._O("timestamp")],"lastTimestamp")]);var ci=wt(529);let ui=(()=>{class o{constructor(e){this.http=e,this.apiUrl="https://metabricks-backend-api-66e7d2abb038.herokuapp.com",this.connection=new ws("https://api.devnet.solana.com","confirmed")}connectWallet(){return x(function*(){console.log("Attempting to connect to wallet...");try{if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){console.log("Mobile device detected, using deep link for Phantom...");const a=window.location.href,c=`https://phantom.app/ul/browse/${encodeURIComponent(a)}`;return window.location.href=c,{mobile:!0,deepLinkUrl:c}}if(window.solana&&window.solana.isPhantom){console.log("Desktop Phantom wallet found, attempting to connect...");const i=yield window.solana.connect();return console.log("Wallet connected:",i.publicKey.toString()),i}console.log("Phantom wallet not found."),alert("Phantom wallet not found. Please install it from https://phantom.app/")}catch(e){console.error("Failed to connect wallet:",e)}})()}checkWalletConnected(){return x(function*(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){const i=localStorage.getItem("phantom_wallet_info");if(i)try{return JSON.parse(i).publicKey}catch(a){console.error("Error parsing wallet info:",a)}return null}return window.solana&&window.solana.isPhantom&&window.solana.isConnected&&window.solana.publicKey?window.solana.publicKey:null})()}disconnectWallet(){return x(function*(){console.log("Attempting to disconnect wallet...");try{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?(localStorage.removeItem("phantom_wallet_info"),console.log("Mobile wallet disconnected")):window.solana&&window.solana.disconnect&&(yield window.solana.disconnect(),console.log("Desktop wallet disconnected"))}catch(e){console.error("Failed to disconnect wallet:",e)}})()}handleMobileWalletReturn(){const i=new URLSearchParams(window.location.search).get("phantom_encryption_public_key");if(i){localStorage.setItem("phantom_wallet_info",JSON.stringify({publicKey:i,connected:!0}));const a=window.location.pathname;return window.history.replaceState({},document.title,a),console.log("Mobile wallet connected:",i),i}return null}mintNFTbackend(e){return this.http.post(`${this.apiUrl}/mint-nft`,e)}getMintedBricks(){return this.http.get(`${this.apiUrl}/minted-bricks`)}static#t=this.\u0275fac=function(i){return new(i||o)(f.LFG(ci.eN))};static#e=this.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var nl=wt(7579);let no=(()=>{class o{constructor(){this.mintedSubject=new nl.x,this.minted$=this.mintedSubject.asObservable()}notifyMinted(){this.mintedSubject.next()}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function rl(o,t){if(1&o){const e=f.EpF();f.TgZ(0,"button",6),f.NdJ("click",function(){f.CHM(e);const a=f.oxw();return f.KtG(a.mintBrick())}),f._uU(1,"Mint with Phantom"),f.qZA()}}function il(o,t){if(1&o){const e=f.EpF();f.TgZ(0,"button",6),f.NdJ("click",function(){f.CHM(e);const a=f.oxw();return f.KtG(a.mintWithStripe())}),f._uU(1,"Mint with Stripe"),f.qZA()}}window.Buffer=window.Buffer||wt(3172).Buffer;let cl=(()=>{class o{constructor(e,i,a){this.walletService=e,this.brickEvents=i,this.modalRef=a,this.selectedPayment=null}goBack(){this.modalRef.hide()}selectPayment(e){this.selectedPayment=e}mintWithStripe(){var e=this;return x(function*(){if(!e.brick||!e.brick.metadataUri)return void alert("Brick data is missing.");let i=window.solana?.publicKey?.toString();if(!i){const a=localStorage.getItem("phantom_wallet_info");if(a)try{i=JSON.parse(a).publicKey}catch(c){console.error("Error parsing wallet info:",c)}}if(i)try{const c=yield(yield fetch("https://metabricks-backend-api-66e7d2abb038.herokuapp.com/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:i,metadataUri:e.brick.metadataUri})})).json();if(!c.id)throw new Error("Failed to create Stripe session");const h=`https://checkout.stripe.com/pay/${c.id}`;window.open(h,"_blank"),e.checkPaymentStatus(c.id)}catch(a){console.error("Stripe payment error:",a),alert("Stripe payment failed: "+(a.message||a))}else alert("Please connect your wallet first.")})()}mintBrick(){var e=this;return x(function*(){let i=window.solana,a=window.solana?.publicKey?.toString();if(!a){const c=localStorage.getItem("phantom_wallet_info");if(c)try{return a=JSON.parse(c).publicKey,void alert("Mobile Phantom wallet detected. Please use desktop for Phantom transactions or use Stripe payment instead.")}catch(h){console.error("Error parsing wallet info:",h)}}if(e.brick&&e.brick.metadataUri&&a)try{if(!i)return void alert("Please use desktop Phantom wallet for transactions or use Stripe payment instead.");const c=new ws("https://api.devnet.solana.com"),h=new It(i.publicKey.toString()),p=new It("FXD4ebDGGDG3L345MD2DYRQ4rxhuswJFZ1o3EASsQxhS"),b=(new De).add(kn.transfer({fromPubkey:h,toPubkey:p,lamports:Math.round(1e8)}));b.feePayer=h;const{blockhash:P}=yield c.getLatestBlockhash();b.recentBlockhash=P;const U=yield i.signTransaction(b),K=yield c.sendRawTransaction(U.serialize());yield c.confirmTransaction(K,"confirmed"),alert("Payment successful! Transaction: "+K),e.walletService.mintNFTbackend({walletAddress:i.publicKey.toString(),metadataUri:e.brick.metadataUri}).subscribe({next:X=>{console.log("Minting successful",X),alert("Brick minted successfully!"),e.brickEvents.notifyMinted()},error:X=>{console.error("Error minting brick:",X),alert("Failed to mint brick. Please try again.")}})}catch(c){console.error("Payment or minting error:",c),alert("Payment failed or cancelled: "+(c.message||c))}else alert("Brick data or wallet is incomplete.")})()}checkPaymentStatus(e){var i=this;return x(function*(){let a=0;const h=function(){var p=x(function*(){try{const P=yield(yield fetch(`https://metabricks-backend-api-66e7d2abb038.herokuapp.com/check-payment-status/${e}`)).json();if("complete"===P.status)return alert("Payment completed successfully! Your brick will be minted shortly."),void i.brickEvents.notifyMinted();if("cancelled"===P.status)return void console.log("Payment was cancelled");a++,a<30?setTimeout(h,2e3):console.log("Payment status polling timed out")}catch(b){console.error("Error checking payment status:",b),a++,a<30&&setTimeout(h,2e3)}});return function(){return p.apply(this,arguments)}}();h()})()}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(ui),f.Y36(no),f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-mint"]],decls:19,vars:6,consts:[[1,"modal-body","mint-modal"],[1,"custom-modal-header"],[1,"back-btn",2,"position","absolute","top","24px","left","24px","cursor","pointer","font-size","1.2rem","z-index","10",3,"click"],[1,"custom-modal-content"],[1,"main-question"],[1,"payment-method-choice"],[1,"button",3,"click"],[1,"buttons-list"],["class","button",3,"click",4,"ngIf"],[1,"button"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return a.goBack()}),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"MINT"),f.qZA()(),f.TgZ(6,"div",3)(7,"h2",4),f._uU(8,"Monster. You sure you want to destroy this innocent brick?"),f.qZA(),f.TgZ(9,"div",5)(10,"button",6),f.NdJ("click",function(){return a.selectPayment("phantom")}),f._uU(11,"Pay with Phantom"),f.qZA(),f.TgZ(12,"button",6),f.NdJ("click",function(){return a.selectPayment("stripe")}),f._uU(13,"Pay with Stripe"),f.qZA()()(),f.TgZ(14,"div",7),f.YNc(15,rl,2,0,"button",8),f.YNc(16,il,2,0,"button",8),f.TgZ(17,"button",9),f._uU(18,"No"),f.qZA()()()),2&i&&(f.xp6(10),f.ekj("selected","phantom"===a.selectedPayment),f.xp6(2),f.ekj("selected","stripe"===a.selectedPayment),f.xp6(3),f.Q6J("ngIf","phantom"===a.selectedPayment),f.xp6(1),f.Q6J("ngIf","stripe"===a.selectedPayment))},dependencies:[Ot.O5],styles:[".center-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:70vh}.center-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.modal-body.center-modal[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;justify-content:center!important;align-items:center!important;min-height:70vh!important;width:100%!important;padding:0!important}.custom-modal-content.center-content[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;align-items:center!important;justify-content:center!important;width:100%!important}.main-question[_ngcontent-%COMP%]{text-align:center;font-size:2rem;font-weight:700;margin:40px 0 32px}.payment-method-choice[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;justify-content:center!important;align-items:center!important;gap:32px!important;margin-bottom:40px!important;width:100%}.payment-method-choice[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:180px;min-height:60px;font-size:1.1rem;font-weight:600;border-radius:12px;transition:box-shadow .2s}.payment-method-choice[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #343be6;background:#B0FFEC;color:#343be6!important}h2[_ngcontent-%COMP%]{text-align:center;margin:0 0 60px}.buttons-list[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.buttons-list[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:94px;background-color:#b0ffec;color:#343be6!important}.mint-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:70vh;width:100%;padding:0}.mint-modal[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.mint-modal[_ngcontent-%COMP%]   .main-question[_ngcontent-%COMP%]{text-align:center;font-size:2rem;font-weight:700;margin:40px 0 32px}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;gap:32px;margin-bottom:40px;width:100%}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:180px;min-height:60px;font-size:1.1rem;font-weight:600;border-radius:12px;transition:box-shadow .2s}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]   .button.selected[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #343be6;background:#B0FFEC;color:#343be6!important}@media (max-width: 768px){.mint-modal[_ngcontent-%COMP%]{min-height:60vh!important}.mint-modal[_ngcontent-%COMP%]   .main-question[_ngcontent-%COMP%]{font-size:1.5rem!important;margin:30px 0 24px!important}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]{flex-direction:column!important;gap:20px!important;margin-bottom:30px!important}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:200px!important;min-height:50px!important;font-size:1rem!important}.buttons-list[_ngcontent-%COMP%]{flex-direction:column!important;gap:15px!important}.buttons-list[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{width:100%!important;max-width:200px!important}}@media (max-width: 480px){.mint-modal[_ngcontent-%COMP%]{min-height:50vh!important}.mint-modal[_ngcontent-%COMP%]   .main-question[_ngcontent-%COMP%]{font-size:1.25rem!important;margin:20px 0 16px!important}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]{gap:15px!important;margin-bottom:20px!important}.mint-modal[_ngcontent-%COMP%]   .payment-method-choice[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{min-width:180px!important;min-height:45px!important;font-size:.9rem!important}.buttons-list[_ngcontent-%COMP%]{gap:10px!important}.buttons-list[_ngcontent-%COMP%]   button.button[_ngcontent-%COMP%]{max-width:180px!important}}"]})}return o})();function ul(o,t){1&o&&(f.ynx(0),f._uU(1,"Loading attributes..."),f.BQk())}function ll(o,t){if(1&o&&(f.ynx(0),f._uU(1),f.BQk()),2&o){const e=f.oxw();f.xp6(1),f.hij("Error: ",e.attributesError,"")}}function hl(o,t){1&o&&(f.ynx(0),f._uU(1,"??????"),f.BQk())}function fl(o,t){if(1&o&&(f.ynx(0),f._uU(1),f.BQk()),2&o){const e=f.oxw().$implicit;f.xp6(1),f.Oqu(e.value)}}function dl(o,t){if(1&o&&(f.TgZ(0,"div",6)(1,"p"),f._uU(2),f.qZA(),f.TgZ(3,"span"),f.YNc(4,hl,2,0,"ng-container",8),f.YNc(5,fl,2,1,"ng-container",8),f.qZA()()),2&o){const e=t.$implicit,i=f.oxw(2);f.xp6(2),f.Oqu(e.trait_type||e.type||"Attribute"),f.xp6(2),f.Q6J("ngIf",("Rarity"===e.trait_type||"Type"===e.trait_type||"Rarity"===e.type||"Type"===e.type)&&!i.isMinted),f.xp6(1),f.Q6J("ngIf",!("Rarity"===e.trait_type||"Type"===e.trait_type||"Rarity"===e.type||"Type"===e.type)||i.isMinted)}}function pl(o,t){if(1&o&&(f.ynx(0),f.YNc(1,dl,6,3,"div",13),f.BQk()),2&o){const e=f.oxw();f.xp6(1),f.Q6J("ngForOf",e.attributes)}}function gl(o,t){1&o&&(f.ynx(0),f.TgZ(1,"div",6)(2,"p"),f._uU(3,"No attributes found."),f.qZA()(),f.BQk())}function ml(o,t){if(1&o){const e=f.EpF();f.TgZ(0,"button",16),f.NdJ("click",function(){f.CHM(e);const a=f.oxw(2);return f.KtG(a.openMintModal())}),f._uU(1,"MINT"),f.qZA()}if(2&o){const e=f.oxw(2);f.Q6J("disabled",e.isMinted)}}function yl(o,t){1&o&&(f.TgZ(0,"div",17),f._uU(1,"This brick has already been minted"),f.qZA())}function wl(o,t){if(1&o&&(f.ynx(0),f.YNc(1,ml,2,1,"button",14),f.YNc(2,yl,2,0,"div",15),f.BQk()),2&o){const e=f.oxw();f.xp6(1),f.Q6J("ngIf",!e.isMinted),f.xp6(1),f.Q6J("ngIf",e.isMinted)}}function bl(o,t){1&o&&(f.TgZ(0,"div",17),f._uU(1,"This brick is not available for minting yet"),f.qZA())}let xl=(()=>{class o{constructor(e,i,a){this.modalRef=e,this.modalService=i,this.walletService=a,this.mintedBricks=[],this.isMinted=!1,this.attributes=[],this.loadingAttributes=!1,this.attributesError=null}ngOnInit(){console.log(this.brick),this.brick||console.error("Brick data is not available"),this.walletService.getMintedBricks().subscribe({next:e=>{this.mintedBricks=e.minted,this.isMinted=this.brick&&this.brick.metadataUri&&this.mintedBricks.includes(this.brick.metadataUri)},error:e=>{console.error("Failed to fetch minted bricks",e)}}),this.fetchAttributes()}fetchAttributes(){var e=this;return x(function*(){if(e.loadingAttributes=!0,e.attributesError=null,e.attributes=[],e.brick&&e.brick.metadataUri)try{const i=yield fetch(e.brick.metadataUri);if(!i.ok)throw new Error("Failed to fetch metadata");const a=yield i.json();e.attributes=Array.isArray(a.attributes)?a.attributes:[]}catch(i){e.attributesError=i.message||"Failed to load attributes"}e.loadingAttributes=!1})()}openShareModal(){this.modalRef=this.modalService.show(S,{class:"modal-dialog-slide-up"})}openMintModal(){this.modalRef=this.modalService.show(cl,{class:"modal-dialog-slide-up",initialState:{brick:{...this.brick,metadataUri:this.brick.metadataUri}}})}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.UZ),f.Y36(E.tT),f.Y36(ui))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-brick-details"]],decls:36,vars:9,consts:[[1,"modal-body"],[1,"custom-modal-content"],[1,"first-box"],["src","/assets/images/simple-brick-large.png","alt","Brick Image"],[1,"second-box"],[1,"list-data-container"],[1,"list-data"],[1,"third-box"],[4,"ngIf"],[1,"link"],[1,"button",3,"click"],[4,"ngIf","ngIfElse"],["notAvailable",""],["class","list-data",4,"ngFor","ngForOf"],["class","button light-color",3,"disabled","click",4,"ngIf"],["style","color: #c00; font-weight: bold; margin-top: 10px;",4,"ngIf"],[1,"button","light-color",3,"disabled","click"],[2,"color","#c00","font-weight","bold","margin-top","10px"]],template:function(i,a){if(1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f._UZ(3,"img",3),f.qZA(),f.TgZ(4,"div",4)(5,"h2"),f._uU(6,"Metabrick Official Supply"),f.qZA(),f.TgZ(7,"div",5)(8,"div",6)(9,"p"),f._uU(10,"Number"),f.qZA(),f.TgZ(11,"span"),f._uU(12),f.qZA()(),f.TgZ(13,"div",6)(14,"p"),f._uU(15,"Mint Price"),f.qZA(),f.TgZ(16,"span"),f._uU(17),f.qZA()(),f.TgZ(18,"div",6)(19,"p"),f._uU(20,"Position"),f.qZA(),f.TgZ(21,"span"),f._uU(22),f.qZA()()()(),f.TgZ(23,"div",7)(24,"div",5),f.YNc(25,ul,2,0,"ng-container",8),f.YNc(26,ll,2,1,"ng-container",8),f.YNc(27,pl,2,1,"ng-container",8),f.YNc(28,gl,4,0,"ng-container",8),f.qZA(),f.TgZ(29,"p",9),f._uU(30,"Hash\u2197"),f.qZA(),f.TgZ(31,"button",10),f.NdJ("click",function(){return a.openShareModal()}),f._uU(32,"SHARE\u2197"),f.qZA(),f.YNc(33,wl,3,2,"ng-container",11),f.YNc(34,bl,2,0,"ng-template",null,12,f.W1O),f.qZA()()()),2&i){const c=f.MAs(35);f.xp6(12),f.Oqu(a.brick.brickNumber),f.xp6(5),f.Oqu(a.brick.mintPrice),f.xp6(5),f.Oqu(a.brick.position),f.xp6(3),f.Q6J("ngIf",a.loadingAttributes),f.xp6(1),f.Q6J("ngIf",a.attributesError),f.xp6(1),f.Q6J("ngIf",!a.loadingAttributes&&!a.attributesError&&a.attributes.length),f.xp6(1),f.Q6J("ngIf",!a.loadingAttributes&&!a.attributesError&&!a.attributes.length),f.xp6(5),f.Q6J("ngIf",a.brick.metadataUri)("ngIfElse",c)}},dependencies:[Ot.sg,Ot.O5]})}return o})();function _l(o,t){if(1&o&&(f.ynx(0),f._uU(1),f.BQk()),2&o){const e=f.oxw().$implicit;f.xp6(1),f.hij(" ",e.seriesNumber," ")}}function kl(o,t){1&o&&f._UZ(0,"div",10)}const El=function(){return[0,1,2,3,4,5,6,7]};function Bl(o,t){1&o&&(f.TgZ(0,"div",8),f.YNc(1,kl,1,0,"div",9),f.qZA()),2&o&&(f.xp6(1),f.Q6J("ngForOf",f.DdM(1,El)))}function Il(o,t){if(1&o){const e=f.EpF();f.TgZ(0,"div",4),f.NdJ("click",function(){const c=f.CHM(e).$implicit,h=f.oxw();return f.KtG(c.metadataUri&&!h.isMinted(c)?h.openBrickModal(c):null)}),f.TgZ(1,"div",5),f.YNc(2,_l,2,1,"ng-container",6),f.YNc(3,Bl,2,2,"div",7),f.qZA()()}if(2&o){const e=t.$implicit,i=f.oxw();f.ekj("offset",e.offset)("minted-brick",!e.metadataUri||i.isMinted(e))("exploding",e.exploding),f.xp6(2),f.Q6J("ngIf",e.metadataUri&&!i.isMinted(e)),f.xp6(1),f.Q6J("ngIf",e.exploding)}}let Sl=(()=>{class o{constructor(e,i,a){this.modalService=e,this.http=i,this.brickEvents=a,this.allBricks=[],this.mintedBricks=[]}ngOnInit(){this.resetWall(),this.fetchMintedBricks(),this.brickEvents.minted$.subscribe(()=>{const e=this.mintedBricks[this.mintedBricks.length-1],i=this.allBricks.find(a=>a.metadataUri===e);i&&this.triggerExplosion(i),this.fetchMintedBricks()})}resetMintedBricks(){var e=this;return x(function*(){try{yield e.http.post("https://metabricks-backend-api-66e7d2abb038.herokuapp.com/reset-minted-bricks",{}).toPromise()}catch(i){console.error("Failed to reset minted bricks",i)}})()}resetWall(){this.allBricks=[];for(let c=0;c<24;c++)for(let h=0;h<18;h++){let p=c%2!=0;const P=18*c+h;this.allBricks.push({id:P,brickNumber:`Brick ${P+1}`,mintPrice:"0.4 SOL",position:`X${h+(p?.5:0)+1}, Y${c+1}`,offset:p,metadataUri:P<30?`https://gateway.pinata.cloud/ipfs/bafybeifkewu2rzq7mhit3cw3lhnm3zdfn2c5ijx3zb4t56ued6g5i3msm4/${P}.json`:null})}}fetchMintedBricks(){this.http.get("https://metabricks-backend-api-66e7d2abb038.herokuapp.com/minted-bricks").subscribe({next:e=>{this.mintedBricks=e.minted},error:e=>{console.error("Failed to fetch minted bricks",e)}})}isMinted(e){return!!e.metadataUri&&this.mintedBricks.includes(e.metadataUri)}triggerExplosion(e){e.exploding=!0;const i=new Audio("assets/explosion.mp3");i.volume=.5,i.play(),setTimeout(()=>{e.exploding=!1},700)}filterBricks(){this.mintedBricks||(this.mintedBricks=[]),console.log("Minted list:",this.mintedBricks),console.log("All wall brick URIs:",this.allBricks.map(e=>e.metadataUri))}generateBricks(){for(let h=0;h<24;h++)for(let p=0;p<18;p++);}openBrickModal(e){console.log("Clicked brick metadataUri:",e.metadataUri),this.modalRef=this.modalService.show(xl,{class:"modal-dialog-slide-up",initialState:{brick:e}})}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.tT),f.Y36(ci.eN),f.Y36(no))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-landing"]],decls:4,vars:1,consts:[[1,"middle-container"],[1,"middle-content"],[1,"bricks-container"],["class","single-brick",3,"offset","minted-brick","exploding","click",4,"ngFor","ngForOf"],[1,"single-brick",3,"click"],[1,"brick-inner"],[4,"ngIf"],["class","particles",4,"ngIf"],[1,"particles"],["class","particle",4,"ngFor","ngForOf"],[1,"particle"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.YNc(3,Il,4,8,"div",3),f.qZA()()()),2&i&&(f.xp6(3),f.Q6J("ngForOf",a.allBricks))},dependencies:[Ot.sg,Ot.O5],styles:[".minted-brick[_ngcontent-%COMP%]{background:#00010C;border:none;cursor:default;opacity:.1;pointer-events:none}.exploding[_ngcontent-%COMP%]   .brick-inner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_explode-brick .7s cubic-bezier(.4,0,.2,1) forwards;z-index:2;box-shadow:0 0 40px 20px #fff17688}@keyframes _ngcontent-%COMP%_explode-brick{0%{transform:scale(1);opacity:1;box-shadow:none}40%{transform:scale(1.5);opacity:1;box-shadow:0 0 60px 30px #fff176cc}to{transform:scale(2.5);opacity:0;box-shadow:0 0 80px 40px #fff17600}}.particles[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:0;height:0;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;width:18px;height:18px;background:radial-gradient(circle,#fff176 60%,#ff9800 100%);border-radius:50%;opacity:.9;animation:_ngcontent-%COMP%_explode-particle .7s forwards}.particle[_ngcontent-%COMP%]:nth-child(1){transform:rotate(0) translateY(-2px);animation-delay:0s}.particle[_ngcontent-%COMP%]:nth-child(2){transform:rotate(45deg) translateY(-2px);animation-delay:.05s}.particle[_ngcontent-%COMP%]:nth-child(3){transform:rotate(90deg) translateY(-2px);animation-delay:.1s}.particle[_ngcontent-%COMP%]:nth-child(4){transform:rotate(135deg) translateY(-2px);animation-delay:.15s}.particle[_ngcontent-%COMP%]:nth-child(5){transform:rotate(180deg) translateY(-2px);animation-delay:.2s}.particle[_ngcontent-%COMP%]:nth-child(6){transform:rotate(225deg) translateY(-2px);animation-delay:.25s}.particle[_ngcontent-%COMP%]:nth-child(7){transform:rotate(270deg) translateY(-2px);animation-delay:.3s}.particle[_ngcontent-%COMP%]:nth-child(8){transform:rotate(315deg) translateY(-2px);animation-delay:.35s}@keyframes _ngcontent-%COMP%_explode-particle{0%{transform:scale(1) translateY(-2px);opacity:.9}80%{opacity:1}to{transform:scale(2.5) translateY(-120px);opacity:0}}"]})}return o})(),vl=(()=>{class o{constructor(e,i,a,c){this.walletService=e,this.renderer=i,this.ngZone=a,this.cdr=c,this.walletAddress=null}ngOnInit(){const e=this.walletService.handleMobileWalletReturn();if(e)return this.walletAddress=e,void this.cdr.detectChanges();this.walletService.checkWalletConnected().then(i=>{i&&(this.walletAddress=i.toString(),this.cdr.detectChanges())})}connectWallet(){this.ngZone.run(()=>{this.walletService.connectWallet().then(e=>{if(e&&e.mobile)return console.log("Mobile wallet connection initiated"),void alert("Opening Phantom app... Please return to this page after connecting your wallet.");console.log("Phantom state after connect:",window.solana),window.solana&&window.solana.isConnected&&window.solana.publicKey?(this.walletAddress=window.solana.publicKey.toString(),this.cdr.detectChanges()):(this.walletAddress=null,alert("Failed to connect to Phantom. Please try again."));const i=this.renderer.selectRootElement("#target-element",!0);this.renderer.setStyle(i,"color","green")}).catch(e=>{console.error("Error connecting wallet",e),alert("Error connecting to Phantom wallet.")})})}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(ui),f.Y36(f.Qsj),f.Y36(f.R0b),f.Y36(f.sBO))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-header"]],decls:10,vars:1,consts:[["routerLink","/",1,"logo",2,"cursor","pointer"],["src","/assets/images/logo.png","alt",""],["id","target-element",1,"right-section","buttons-list"],["routerLink","gallery",1,"button"],[1,"button",3,"click"]],template:function(i,a){1&i&&(f.TgZ(0,"header")(1,"div",0),f._UZ(2,"img",1),f.TgZ(3,"h1"),f._uU(4,"METABRiCKS"),f.qZA()(),f.TgZ(5,"div",2)(6,"button",3),f._uU(7,"Gallery"),f.qZA(),f.TgZ(8,"button",4),f.NdJ("click",function(){return a.connectWallet()}),f._uU(9),f.qZA()()()),2&i&&(f.xp6(9),f.hij(" ",a.walletAddress?"Wallet Connected":"Connect Wallet","\n"))},dependencies:[Y.rH]})}return o})(),Al=(()=>{class o{constructor(e){this.modalRef=e}goBack(){this.modalRef.hide()}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-what"]],decls:16,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn",3,"click"],[1,"custom-modal-content"],[1,"left-section"],["src","/assets/images/what-popup-icon.png","alt",""],[1,"right-section"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return a.goBack()}),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"WHAT IS METABRICKS?"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"Greetings, builder. Welcome to Metabricks."),f.qZA()(),f.TgZ(11,"div",6)(12,"p"),f._uU(13,"This is not a normal NFT project. This is a construction site for the operating systems of the future."),f.qZA(),f.TgZ(14,"p"),f._uU(15,"Your assignment is to hodl bricks and help us finish building the Metaverse. "),f.qZA()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:grid;grid-gap:50px;align-items:center;grid-template-columns:1fr 1fr}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{grid-template-columns:1fr!important;grid-gap:30px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px!important;text-align:center!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{grid-gap:15px!important}}@media (max-width: 480px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{grid-gap:20px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{grid-gap:10px!important}}"]})}return o})(),Ml=(()=>{class o{constructor(e){this.modalRef=e}goBack(){console.log("goBack method called"),this.modalRef.hide()}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-how"]],decls:24,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn",2,"cursor","pointer","user-select","none","position","relative","z-index","10",3,"click"],[1,"custom-modal-content"],[1,"list-container"],[1,"single-list"],["src","/assets/images/how-popup-icon-01.png","alt",""],["src","/assets/images/how-popup-icon-02.png","alt",""],["src","/assets/images/how-popup-icon-03.png","alt",""],["src","/assets/images/how-popup-icon-04.png","alt",""]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return a.goBack()}),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"HOW METABRICK WORKS?"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4)(8,"div",5),f._UZ(9,"img",6),f.TgZ(10,"p"),f._uU(11,"Buy Metabricks to remove them from the wall"),f.qZA()(),f.TgZ(12,"div",5),f._UZ(13,"img",7),f.TgZ(14,"p"),f._uU(15,"Once the wall is destroyed, each brick becomes a SAFT"),f.qZA()(),f.TgZ(16,"div",5),f._UZ(17,"img",8),f.TgZ(18,"p"),f._uU(19,"Top brick hodlers after 25%, 50%, 75%, and 100% of bricks are held receive exlcusive gifts"),f.qZA()(),f.TgZ(20,"div",5),f._UZ(21,"img",9),f.TgZ(22,"p"),f._uU(23,"Each mint would hand you different tiers of bricks; 65% common, 30% rare, and 5% legendary."),f.qZA()()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{cursor:pointer!important;-webkit-user-select:none!important;user-select:none!important;transition:opacity .2s ease!important;position:relative!important;z-index:10!important;pointer-events:auto!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{opacity:.8!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-header[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:active{opacity:.6!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:6px;margin:0 0 20px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-gap:20px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:20px;display:grid;grid-gap:10px;border:1px solid #B0FFEC}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:MEK!important;font-size:24px;font-style:normal;font-weight:400}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{flex-direction:column!important;text-align:center!important;gap:10px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px!important;text-align:center!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{grid-template-columns:1fr!important;grid-gap:15px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:15px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px!important}}@media (max-width: 480px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{grid-gap:10px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:10px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px!important}}"]})}return o})(),Pl=(()=>{class o{constructor(e){this.modalRef=e}goBack(){this.modalRef.hide()}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-whitepaper"]],decls:38,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn",3,"click"],[1,"custom-modal-content"],[1,"section-heading"],["src","/assets/images/whitepaper-icon.png","alt",""],[1,"list-container"],[1,"single-list"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return a.goBack()}),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"WHITEPAPER"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"The Blueprint "),f.TgZ(11,"span"),f._uU(12,"(What are you supporting)"),f.qZA()()(),f.TgZ(13,"div",6)(14,"div",7)(15,"p"),f._uU(16,"A stable, resilient, decentralised platform to ensure the sovereignty of all users, and prevent the centralisation of power and influence as much as possible."),f.qZA()(),f.TgZ(17,"div",7)(18,"p"),f._uU(19,"Easy to build on, providing everyone from developers to regular people advanced capabilities and benefits, such as scalability to host state intensive dApps."),f.qZA()(),f.TgZ(20,"div",7)(21,"p"),f._uU(22,"Facilitating the seamless transfer of information of any kind, between different apps and websites, whether web2 or web3."),f.qZA()(),f.TgZ(23,"div",7)(24,"p"),f._uU(25,"highly secure, so that users can trust it with valuable things."),f.qZA()(),f.TgZ(26,"div",7)(27,"p"),f._uU(28,"an internal karma system that encourages all users to do good - both online and in the real world."),f.qZA()(),f.TgZ(29,"div",7)(30,"p"),f._uU(31,"a phygital metaverse"),f.qZA()(),f.TgZ(32,"div",7)(33,"p"),f._uU(34,"a .NET bridge to Holochain"),f.qZA()(),f.TgZ(35,"div",7)(36,"p"),f._uU(37,"a low-code Metaverse generator that can write to any blockchain"),f.qZA()()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:6px;margin:0 0 20px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:12px 15px;display:flex;grid-gap:10px;border-top:1px solid #B0FFEC;border-left:1px solid #B0FFEC;border-right:1px solid #B0FFEC}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]:last-child{border-bottom:1px solid #B0FFEC}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:MEK!important;font-size:24px;font-style:normal;font-weight:400}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .section-heading[_ngcontent-%COMP%]{flex-direction:column!important;text-align:center!important;gap:10px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px!important;text-align:center!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:10px 12px!important;flex-direction:column!important;gap:8px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px!important;text-align:center!important}}@media (max-width: 480px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]{padding:8px 10px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .single-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px!important}}"]})}return o})(),Tl=(()=>{class o{constructor(e){this.modalRef=e}goBack(){this.modalRef.hide()}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.UZ))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-deliverable"]],decls:16,vars:0,consts:[[1,"modal-body"],[1,"custom-modal-header"],[1,"back-btn",3,"click"],[1,"custom-modal-content"],[1,"left-section"],["src","/assets/images/what-popup-icon.png","alt",""],[1,"right-section"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2),f.NdJ("click",function(){return a.goBack()}),f._uU(3,"< Back"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"WHAT IS METABRICKS?"),f.qZA()(),f.TgZ(6,"div",3)(7,"div",4),f._UZ(8,"img",5),f.TgZ(9,"h2"),f._uU(10,"Greetings, builder. Welcome to Metabricks."),f.qZA()(),f.TgZ(11,"div",6)(12,"p"),f._uU(13,"This is not a normal NFT project. This is a construction site for the operating systems of the future."),f.qZA(),f.TgZ(14,"p"),f._uU(15,"Your assignment is to hodl bricks and help us finish building the Metaverse. "),f.qZA()()()())},styles:[".modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{display:grid;grid-gap:50px;align-items:center;grid-template-columns:1fr 1fr}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:40px;font-style:normal;font-weight:400}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:20px}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{grid-template-columns:1fr!important;grid-gap:30px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px!important;text-align:center!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{grid-gap:15px!important}}@media (max-width: 480px){.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]{grid-gap:20px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px!important}.modal-body[_ngcontent-%COMP%]   .custom-modal-content[_ngcontent-%COMP%]   .right-section[_ngcontent-%COMP%]{grid-gap:10px!important}}"]})}return o})(),Cl=(()=>{class o{constructor(e,i,a){this.modalService=e,this.http=i,this.brickEvents=a,this.destroyedCount=0,this.leftCount=0,this.TOTAL_BRICKS=432,this.fetchMintedBricks(),this.brickEvents.minted$.subscribe(()=>{this.fetchMintedBricks()})}fetchMintedBricks(){this.http.get("https://metabricks-backend-api-66e7d2abb038.herokuapp.com/minted-bricks").subscribe({next:e=>{this.destroyedCount=e.minted.length,this.leftCount=this.TOTAL_BRICKS-this.destroyedCount},error:e=>{console.error("Failed to fetch minted bricks",e)}})}openWhatModal(){this.modalRef=this.modalService.show(Al)}openHowModal(){this.modalRef=this.modalService.show(Ml)}openWhitepaperModal(){this.modalRef=this.modalService.show(Pl)}openDeliverableModal(){this.modalRef=this.modalService.show(Tl)}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(E.tT),f.Y36(ci.eN),f.Y36(no))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-footer"]],decls:15,vars:2,consts:[[1,"buttons-list"],[1,"button",3,"click"],[1,"right-section"]],template:function(i,a){1&i&&(f.TgZ(0,"footer")(1,"div",0)(2,"button",1),f.NdJ("click",function(){return a.openWhatModal()}),f._uU(3,"What"),f.qZA(),f.TgZ(4,"button",1),f.NdJ("click",function(){return a.openHowModal()}),f._uU(5,"How"),f.qZA(),f.TgZ(6,"button",1),f.NdJ("click",function(){return a.openWhitepaperModal()}),f._uU(7,"Whitepaper"),f.qZA(),f.TgZ(8,"button",1),f.NdJ("click",function(){return a.openDeliverableModal()}),f._uU(9,"Deliverables"),f.qZA()(),f.TgZ(10,"div",2)(11,"p"),f._uU(12),f.qZA(),f.TgZ(13,"p"),f._uU(14),f.qZA()()()),2&i&&(f.xp6(12),f.hij("x",a.destroyedCount," destroyed"),f.xp6(2),f.hij("x",a.leftCount," left"))}})}return o})();function Ol(o,t){return{type:7,name:o,definitions:t,options:{}}}function Ul(o,t=null){return{type:4,styles:t,timings:o}}function Cs(o){return{type:6,styles:o,offset:null}}function Ll(o,t,e=null){return{type:1,expr:o,animation:t,options:e}}function Fl(o,t){if(1&o&&(f.TgZ(0,"div",6),f._UZ(1,"img",7),f.TgZ(2,"h2"),f._uU(3),f.qZA(),f.TgZ(4,"div",8)(5,"p"),f._uU(6,"Series Number"),f.qZA(),f.TgZ(7,"h3"),f._uU(8),f.qZA()(),f.TgZ(9,"div",8)(10,"p"),f._uU(11,"Mint Price"),f.qZA(),f.TgZ(12,"h3"),f._uU(13),f.qZA()()()),2&o){const e=t.$implicit;f.Q6J("@brickAnim",void 0),f.xp6(1),f.Q6J("src",e.image||"/assets/images/sample-brick.png",f.LSH),f.xp6(2),f.Oqu(e.name),f.xp6(5),f.Oqu(e.seriesNumber||e.id),f.xp6(5),f.Oqu(e.mintPrice||"N/A")}}const Nl=[{path:"",component:(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-home"]],decls:3,vars:0,template:function(i,a){1&i&&f._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[Y.lC,vl,Cl]})}return o})(),children:[{path:"",component:Sl},{path:"gallery",component:(()=>{class o{constructor(e){this.http=e,this.allBricks=[]}ngOnInit(){this.http.get("https://metabricks-backend-api-66e7d2abb038.herokuapp.com/bricks").subscribe({next:e=>{this.allBricks=e},error:e=>{console.error("Failed to fetch bricks",e)}})}trackByBrick(e,i){return i.id||i.metadataUri||e}static#t=this.\u0275fac=function(i){return new(i||o)(f.Y36(ci.eN))};static#e=this.\u0275cmp=f.Xpm({type:o,selectors:[["app-gallery"]],decls:16,vars:2,consts:[[1,"middle-container","gallery-container"],[1,"middle-content"],[1,"section-header"],[1,"right-section"],[1,"section-list"],["class","single-section",4,"ngFor","ngForOf","ngForTrackBy"],[1,"single-section"],["alt","Brick Image",3,"src"],[1,"have-top-border"]],template:function(i,a){1&i&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),f._uU(4,"Bricks Gallery"),f.qZA(),f.TgZ(5,"div",3)(6,"p"),f._uU(7,"Sold "),f.TgZ(8,"span"),f._uU(9,"Yes"),f.qZA()(),f.TgZ(10,"p"),f._uU(11,"Sort by "),f.TgZ(12,"span"),f._uU(13,"Price \u2191"),f.qZA()()()(),f.TgZ(14,"div",4),f.YNc(15,Fl,14,5,"div",5),f.qZA()()()),2&i&&(f.xp6(15),f.Q6J("ngForOf",a.allBricks)("ngForTrackBy",a.trackByBrick))},dependencies:[Ot.sg],styles:["@keyframes _ngcontent-%COMP%_pixelate-out{0%{filter:none;opacity:1;transform:scale(1)}60%{filter:url(#pixelate);opacity:1;transform:scale(1.05)}to{filter:url(#pixelate);opacity:0;transform:scale(.8)}}.pixelate-leave[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pixelate-out .5s forwards}"],data:{animation:[Ol("brickAnim",[Ll(":leave",[Cs({filter:"none",opacity:1,transform:"scale(1)"}),Ul("500ms ease",Cs({filter:"url(#pixelate)",opacity:0,transform:"scale(0.8)"}))])])]}})}return o})()}]}];let Dl=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=f.oAB({type:o});static#n=this.\u0275inj=f.cJS({imports:[Y.Bz.forChild(Nl),Y.Bz]})}return o})(),zl=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=f.oAB({type:o});static#n=this.\u0275inj=f.cJS({providers:[ui],imports:[Ot.ez,Dl,E.zk.forRoot()]})}return o})()},1141:(Ce,Bt,wt)=>{"use strict";Bt._O=Bt.Jq=Bt.KB=Bt.u8=Bt.cv=void 0,Bt.Ik=Bt.A9=Bt.n_=Bt.gM=void 0;const Ot=wt(318);function Y(B){if(!(B instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function ut(B){return Y(B),Ot.Buffer.from(B.buffer,B.byteOffset,B.length)}class x{constructor(k,A){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=A}makeDestinationObject(){return{}}getSpan(k,A){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(k){const A=Object.create(this.constructor.prototype);return Object.assign(A,this),A.property=k,A}fromArray(k){}}function f(B,k){return k.property?B+"["+k.property+"]":B}class S extends x{isCount(){throw new Error("ExternalLayout is abstract")}}class zt extends S{constructor(k,A=0,N){if(!(k instanceof x))throw new TypeError("layout must be a Layout");if(!Number.isInteger(A))throw new TypeError("offset must be integer or undefined");super(k.span,N||k.property),this.layout=k,this.offset=A}isCount(){return this.layout instanceof Lt||this.layout instanceof Dt}decode(k,A=0){return this.layout.decode(k,A+this.offset)}encode(k,A,N=0){return this.layout.encode(k,A,N+this.offset)}}class Lt extends x{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A=0){return ut(k).readUIntLE(A,this.span)}encode(k,A,N=0){return ut(A).writeUIntLE(k,N,this.span),this.span}}class Dt extends x{constructor(k,A){if(super(k,A),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(k,A=0){return ut(k).readUIntBE(A,this.span)}encode(k,A,N=0){return ut(A).writeUIntBE(k,N,this.span),this.span}}const qt=Math.pow(2,32);function at(B){const k=Math.floor(B/qt);return{hi32:k,lo32:B-k*qt}}function et(B,k){return B*qt+k}class At extends x{constructor(k){super(8,k)}decode(k,A=0){const N=ut(k),V=N.readUInt32LE(A);return et(N.readUInt32LE(A+4),V)}encode(k,A,N=0){const V=at(k),Q=ut(A);return Q.writeUInt32LE(V.lo32,N),Q.writeUInt32LE(V.hi32,N+4),8}}class Ut extends x{constructor(k){super(8,k)}decode(k,A=0){const N=ut(k),V=N.readUInt32LE(A);return et(N.readInt32LE(A+4),V)}encode(k,A,N=0){const V=at(k),Q=ut(A);return Q.writeUInt32LE(V.lo32,N),Q.writeInt32LE(V.hi32,N+4),8}}class xt extends x{constructor(k,A,N){if(!(k instanceof x))throw new TypeError("elementLayout must be a Layout");if(!(A instanceof S&&A.isCount()||Number.isInteger(A)&&0<=A))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let V=-1;!(A instanceof S)&&0<k.span&&(V=A*k.span),super(V,N),this.elementLayout=k,this.count=A}getSpan(k,A=0){if(0<=this.span)return this.span;let N=0,V=this.count;if(V instanceof S&&(V=V.decode(k,A)),0<this.elementLayout.span)N=V*this.elementLayout.span;else{let Q=0;for(;Q<V;)N+=this.elementLayout.getSpan(k,A+N),++Q}return N}decode(k,A=0){const N=[];let V=0,Q=this.count;for(Q instanceof S&&(Q=Q.decode(k,A));V<Q;)N.push(this.elementLayout.decode(k,A)),A+=this.elementLayout.getSpan(k,A),V+=1;return N}encode(k,A,N=0){const V=this.elementLayout,Q=k.reduce((Kt,ae)=>Kt+V.encode(ae,A,N+Kt),0);return this.count instanceof S&&this.count.encode(k.length,A,N),Q}}class rt extends x{constructor(k,A,N){if(!Array.isArray(k)||!k.reduce((Q,Kt)=>Q&&Kt instanceof x,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof A&&void 0===N&&(N=A,A=void 0);for(const Q of k)if(0>Q.span&&void 0===Q.property)throw new Error("fields cannot contain unnamed variable-length layout");let V=-1;try{V=k.reduce((Q,Kt)=>Q+Kt.getSpan(),0)}catch{}super(V,A),this.fields=k,this.decodePrefixes=!!N}getSpan(k,A=0){if(0<=this.span)return this.span;let N=0;try{N=this.fields.reduce((V,Q)=>{const Kt=Q.getSpan(k,A);return A+=Kt,V+Kt},0)}catch{throw new RangeError("indeterminate span")}return N}decode(k,A=0){Y(k);const N=this.makeDestinationObject();for(const V of this.fields)if(void 0!==V.property&&(N[V.property]=V.decode(k,A)),A+=V.getSpan(k,A),this.decodePrefixes&&k.length===A)break;return N}encode(k,A,N=0){const V=N;let Q=0,Kt=0;for(const ae of this.fields){let oe=ae.span;if(Kt=0<oe?oe:0,void 0!==ae.property){const ne=k[ae.property];void 0!==ne&&(Kt=ae.encode(ne,A,N),0>oe&&(oe=ae.getSpan(A,N)))}Q=N,N+=oe}return Q+Kt-V}fromArray(k){const A=this.makeDestinationObject();for(const N of this.fields)void 0!==N.property&&0<k.length&&(A[N.property]=k.shift());return A}layoutFor(k){if("string"!=typeof k)throw new TypeError("property must be string");for(const A of this.fields)if(A.property===k)return A}offsetOf(k){if("string"!=typeof k)throw new TypeError("property must be string");let A=0;for(const N of this.fields){if(N.property===k)return A;0>N.span?A=-1:0<=A&&(A+=N.span)}}}class $ extends x{constructor(k,A){if(!(k instanceof S&&k.isCount()||Number.isInteger(k)&&0<=k))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let N=-1;k instanceof S||(N=k),super(N,A),this.length=k}getSpan(k,A){let N=this.span;return 0>N&&(N=this.length.decode(k,A)),N}decode(k,A=0){let N=this.span;return 0>N&&(N=this.length.decode(k,A)),ut(k).slice(A,A+N)}encode(k,A,N){let V=this.length;if(this.length instanceof S&&(V=k.length),!(k instanceof Uint8Array&&V===k.length))throw new TypeError(f("Blob.encode",this)+" requires (length "+V+") Uint8Array as src");if(N+V>A.length)throw new RangeError("encoding overruns Uint8Array");const Q=ut(k);return ut(A).write(Q.toString("hex"),N,V,"hex"),this.length instanceof S&&this.length.encode(V,A,N),V}}Bt.cv=(B,k,A)=>new zt(B,k,A),Bt.u8=B=>new Lt(1,B),Bt.KB=B=>new Lt(2,B),Bt.Jq=B=>new Lt(4,B),Bt._O=B=>new At(B),Bt.gM=B=>new Ut(B),Bt.n_=(B,k,A)=>new rt(B,k,A),Bt.A9=(B,k,A)=>new xt(B,k,A),Bt.Ik=(B,k)=>new $(B,k)},318:(Ce,Bt,wt)=>{"use strict";const D=wt(5343),Ot=wt(8461),Y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.Buffer=E,Bt.SlowBuffer=function At(I){return+I!=I&&(I=0),E.alloc(+I)},Bt.INSPECT_MAX_BYTES=50;const ut=2147483647;function f(I){if(I>ut)throw new RangeError('The value "'+I+'" is invalid for option "size"');const s=new Uint8Array(I);return Object.setPrototypeOf(s,E.prototype),s}function E(I,s,n){if("number"==typeof I){if("string"==typeof s)throw new TypeError('The "string" argument must be of type string. Received type number');return Lt(I)}return S(I,s,n)}function S(I,s,n){if("string"==typeof I)return function Dt(I,s){if(("string"!=typeof s||""===s)&&(s="utf8"),!E.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const n=0|bt(I,s);let r=f(n);const u=r.write(I,s);return u!==n&&(r=r.slice(0,u)),r}(I,s);if(ArrayBuffer.isView(I))return function tt(I){if(ot(I,Uint8Array)){const s=new Uint8Array(I);return qt(s.buffer,s.byteOffset,s.byteLength)}return ct(I)}(I);if(null==I)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(ot(I,ArrayBuffer)||I&&ot(I.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ot(I,SharedArrayBuffer)||I&&ot(I.buffer,SharedArrayBuffer)))return qt(I,s,n);if("number"==typeof I)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=I.valueOf&&I.valueOf();if(null!=r&&r!==I)return E.from(r,s,n);const u=function at(I){if(E.isBuffer(I)){const s=0|et(I.length),n=f(s);return 0===n.length||I.copy(n,0,0,s),n}return void 0!==I.length?"number"!=typeof I.length||Ht(I.length)?f(0):ct(I):"Buffer"===I.type&&Array.isArray(I.data)?ct(I.data):void 0}(I);if(u)return u;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof I[Symbol.toPrimitive])return E.from(I[Symbol.toPrimitive]("string"),s,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function nt(I){if("number"!=typeof I)throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function Lt(I){return nt(I),f(I<0?0:0|et(I))}function ct(I){const s=I.length<0?0:0|et(I.length),n=f(s);for(let r=0;r<s;r+=1)n[r]=255&I[r];return n}function qt(I,s,n){if(s<0||I.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(I.byteLength<s+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===s&&void 0===n?new Uint8Array(I):void 0===n?new Uint8Array(I,s):new Uint8Array(I,s,n),Object.setPrototypeOf(r,E.prototype),r}function et(I){if(I>=ut)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ut.toString(16)+" bytes");return 0|I}function bt(I,s){if(E.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||ot(I,ArrayBuffer))return I.byteLength;if("string"!=typeof I)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);const n=I.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let u=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return m(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(I).length;default:if(u)return r?-1:m(I).length;s=(""+s).toLowerCase(),u=!0}}function Ut(I,s,n){let r=!1;if((void 0===s||s<0)&&(s=0),s>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(s>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return L(this,s,n);case"utf8":case"utf-8":return R(this,s,n);case"ascii":return v(this,s,n);case"latin1":case"binary":return T(this,s,n);case"base64":return yt(this,s,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,s,n);default:if(r)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),r=!0}}function gt(I,s,n){const r=I[s];I[s]=I[n],I[n]=r}function Pt(I,s,n,r,u){if(0===I.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Ht(n=+n)&&(n=u?0:I.length-1),n<0&&(n=I.length+n),n>=I.length){if(u)return-1;n=I.length-1}else if(n<0){if(!u)return-1;n=0}if("string"==typeof s&&(s=E.from(s,r)),E.isBuffer(s))return 0===s.length?-1:re(I,s,n,r,u);if("number"==typeof s)return s&=255,"function"==typeof Uint8Array.prototype.indexOf?u?Uint8Array.prototype.indexOf.call(I,s,n):Uint8Array.prototype.lastIndexOf.call(I,s,n):re(I,[s],n,r,u);throw new TypeError("val must be string, number or Buffer")}function re(I,s,n,r,u){let kt,g=1,_=I.length,O=s.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(I.length<2||s.length<2)return-1;g=2,_/=2,O/=2,n/=2}function ft(_t,Tt){return 1===g?_t[Tt]:_t.readUInt16BE(Tt*g)}if(u){let _t=-1;for(kt=n;kt<_;kt++)if(ft(I,kt)===ft(s,-1===_t?0:kt-_t)){if(-1===_t&&(_t=kt),kt-_t+1===O)return _t*g}else-1!==_t&&(kt-=kt-_t),_t=-1}else for(n+O>_&&(n=_-O),kt=n;kt>=0;kt--){let _t=!0;for(let Tt=0;Tt<O;Tt++)if(ft(I,kt+Tt)!==ft(s,Tt)){_t=!1;break}if(_t)return kt}return-1}function Jt(I,s,n,r){n=Number(n)||0;const u=I.length-n;r?(r=Number(r))>u&&(r=u):r=u;const g=s.length;let _;for(r>g/2&&(r=g/2),_=0;_<r;++_){const O=parseInt(s.substr(2*_,2),16);if(Ht(O))return _;I[n+_]=O}return _}function Be(I,s,n,r){return it(m(s,I.length-n),I,n,r)}function xt(I,s,n,r){return it(function w(I){const s=[];for(let n=0;n<I.length;++n)s.push(255&I.charCodeAt(n));return s}(s),I,n,r)}function rt(I,s,n,r){return it(Z(s),I,n,r)}function lt(I,s,n,r){return it(function F(I,s){let n,r,u;const g=[];for(let _=0;_<I.length&&!((s-=2)<0);++_)n=I.charCodeAt(_),r=n>>8,u=n%256,g.push(u),g.push(r);return g}(s,I.length-n),I,n,r)}function yt(I,s,n){return D.fromByteArray(0===s&&n===I.length?I:I.slice(s,n))}function R(I,s,n){n=Math.min(I.length,n);const r=[];let u=s;for(;u<n;){const g=I[u];let _=null,O=g>239?4:g>223?3:g>191?2:1;if(u+O<=n){let ft,kt,_t,Tt;switch(O){case 1:g<128&&(_=g);break;case 2:ft=I[u+1],128==(192&ft)&&(Tt=(31&g)<<6|63&ft,Tt>127&&(_=Tt));break;case 3:ft=I[u+1],kt=I[u+2],128==(192&ft)&&128==(192&kt)&&(Tt=(15&g)<<12|(63&ft)<<6|63&kt,Tt>2047&&(Tt<55296||Tt>57343)&&(_=Tt));break;case 4:ft=I[u+1],kt=I[u+2],_t=I[u+3],128==(192&ft)&&128==(192&kt)&&128==(192&_t)&&(Tt=(15&g)<<18|(63&ft)<<12|(63&kt)<<6|63&_t,Tt>65535&&Tt<1114112&&(_=Tt))}}null===_?(_=65533,O=1):_>65535&&(_-=65536,r.push(_>>>10&1023|55296),_=56320|1023&_),r.push(_),u+=O}return function y(I){const s=I.length;if(s<=l)return String.fromCharCode.apply(String,I);let n="",r=0;for(;r<s;)n+=String.fromCharCode.apply(String,I.slice(r,r+=l));return n}(r)}Bt.kMaxLength=ut,!(E.TYPED_ARRAY_SUPPORT=function x(){try{const I=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(I,s),42===I.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}}),E.poolSize=8192,E.from=function(I,s,n){return S(I,s,n)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array),E.alloc=function(I,s,n){return function zt(I,s,n){return nt(I),I<=0?f(I):void 0!==s?"string"==typeof n?f(I).fill(s,n):f(I).fill(s):f(I)}(I,s,n)},E.allocUnsafe=function(I){return Lt(I)},E.allocUnsafeSlow=function(I){return Lt(I)},E.isBuffer=function(s){return null!=s&&!0===s._isBuffer&&s!==E.prototype},E.compare=function(s,n){if(ot(s,Uint8Array)&&(s=E.from(s,s.offset,s.byteLength)),ot(n,Uint8Array)&&(n=E.from(n,n.offset,n.byteLength)),!E.isBuffer(s)||!E.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===n)return 0;let r=s.length,u=n.length;for(let g=0,_=Math.min(r,u);g<_;++g)if(s[g]!==n[g]){r=s[g],u=n[g];break}return r<u?-1:u<r?1:0},E.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(s,n){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(0===s.length)return E.alloc(0);let r;if(void 0===n)for(n=0,r=0;r<s.length;++r)n+=s[r].length;const u=E.allocUnsafe(n);let g=0;for(r=0;r<s.length;++r){let _=s[r];if(ot(_,Uint8Array))g+_.length>u.length?(E.isBuffer(_)||(_=E.from(_)),_.copy(u,g)):Uint8Array.prototype.set.call(u,_,g);else{if(!E.isBuffer(_))throw new TypeError('"list" argument must be an Array of Buffers');_.copy(u,g)}g+=_.length}return u},E.byteLength=bt,E.prototype._isBuffer=!0,E.prototype.swap16=function(){const s=this.length;if(s%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<s;n+=2)gt(this,n,n+1);return this},E.prototype.swap32=function(){const s=this.length;if(s%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<s;n+=4)gt(this,n,n+3),gt(this,n+1,n+2);return this},E.prototype.swap64=function(){const s=this.length;if(s%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<s;n+=8)gt(this,n,n+7),gt(this,n+1,n+6),gt(this,n+2,n+5),gt(this,n+3,n+4);return this},E.prototype.toLocaleString=E.prototype.toString=function(){const s=this.length;return 0===s?"":0===arguments.length?R(this,0,s):Ut.apply(this,arguments)},E.prototype.equals=function(s){if(!E.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s||0===E.compare(this,s)},E.prototype.inspect=function(){let s="";const n=Bt.INSPECT_MAX_BYTES;return s=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(s+=" ... "),"<Buffer "+s+">"},Y&&(E.prototype[Y]=E.prototype.inspect),E.prototype.compare=function(s,n,r,u,g){if(ot(s,Uint8Array)&&(s=E.from(s,s.offset,s.byteLength)),!E.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(void 0===n&&(n=0),void 0===r&&(r=s?s.length:0),void 0===u&&(u=0),void 0===g&&(g=this.length),n<0||r>s.length||u<0||g>this.length)throw new RangeError("out of range index");if(u>=g&&n>=r)return 0;if(u>=g)return-1;if(n>=r)return 1;if(this===s)return 0;let _=(g>>>=0)-(u>>>=0),O=(r>>>=0)-(n>>>=0);const ft=Math.min(_,O),kt=this.slice(u,g),_t=s.slice(n,r);for(let Tt=0;Tt<ft;++Tt)if(kt[Tt]!==_t[Tt]){_=kt[Tt],O=_t[Tt];break}return _<O?-1:O<_?1:0},E.prototype.includes=function(s,n,r){return-1!==this.indexOf(s,n,r)},E.prototype.indexOf=function(s,n,r){return Pt(this,s,n,r,!0)},E.prototype.lastIndexOf=function(s,n,r){return Pt(this,s,n,r,!1)},E.prototype.write=function(s,n,r,u){if(void 0===n)u="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)u=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(r)?(r>>>=0,void 0===u&&(u="utf8")):(u=r,r=void 0)}const g=this.length-n;if((void 0===r||r>g)&&(r=g),s.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let _=!1;for(;;)switch(u){case"hex":return Jt(this,s,n,r);case"utf8":case"utf-8":return Be(this,s,n,r);case"ascii":case"latin1":case"binary":return xt(this,s,n,r);case"base64":return rt(this,s,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,s,n,r);default:if(_)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),_=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const l=4096;function v(I,s,n){let r="";n=Math.min(I.length,n);for(let u=s;u<n;++u)r+=String.fromCharCode(127&I[u]);return r}function T(I,s,n){let r="";n=Math.min(I.length,n);for(let u=s;u<n;++u)r+=String.fromCharCode(I[u]);return r}function L(I,s,n){const r=I.length;(!s||s<0)&&(s=0),(!n||n<0||n>r)&&(n=r);let u="";for(let g=s;g<n;++g)u+=jt[I[g]];return u}function $(I,s,n){const r=I.slice(s,n);let u="";for(let g=0;g<r.length-1;g+=2)u+=String.fromCharCode(r[g]+256*r[g+1]);return u}function W(I,s,n){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+s>n)throw new RangeError("Trying to access beyond buffer length")}function M(I,s,n,r,u,g){if(!E.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>u||s<g)throw new RangeError('"value" argument is out of bounds');if(n+r>I.length)throw new RangeError("Index out of range")}function d(I,s,n,r,u){oe(s,r,u,I,n,7);let g=Number(s&BigInt(4294967295));I[n++]=g,g>>=8,I[n++]=g,g>>=8,I[n++]=g,g>>=8,I[n++]=g;let _=Number(s>>BigInt(32)&BigInt(4294967295));return I[n++]=_,_>>=8,I[n++]=_,_>>=8,I[n++]=_,_>>=8,I[n++]=_,n}function B(I,s,n,r,u){oe(s,r,u,I,n,7);let g=Number(s&BigInt(4294967295));I[n+7]=g,g>>=8,I[n+6]=g,g>>=8,I[n+5]=g,g>>=8,I[n+4]=g;let _=Number(s>>BigInt(32)&BigInt(4294967295));return I[n+3]=_,_>>=8,I[n+2]=_,_>>=8,I[n+1]=_,_>>=8,I[n]=_,n+8}function k(I,s,n,r,u,g){if(n+r>I.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function A(I,s,n,r,u){return s=+s,n>>>=0,u||k(I,0,n,4),Ot.write(I,s,n,r,23,4),n+4}function N(I,s,n,r,u){return s=+s,n>>>=0,u||k(I,0,n,8),Ot.write(I,s,n,r,52,8),n+8}E.prototype.slice=function(s,n){const r=this.length;(s=~~s)<0?(s+=r)<0&&(s=0):s>r&&(s=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<s&&(n=s);const u=this.subarray(s,n);return Object.setPrototypeOf(u,E.prototype),u},E.prototype.readUintLE=E.prototype.readUIntLE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=this[s],g=1,_=0;for(;++_<n&&(g*=256);)u+=this[s+_]*g;return u},E.prototype.readUintBE=E.prototype.readUIntBE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=this[s+--n],g=1;for(;n>0&&(g*=256);)u+=this[s+--n]*g;return u},E.prototype.readUint8=E.prototype.readUInt8=function(s,n){return s>>>=0,n||W(s,1,this.length),this[s]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(s,n){return s>>>=0,n||W(s,2,this.length),this[s]|this[s+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(s,n){return s>>>=0,n||W(s,2,this.length),this[s]<<8|this[s+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(s,n){return s>>>=0,n||W(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+16777216*this[s+3]},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(s,n){return s>>>=0,n||W(s,4,this.length),16777216*this[s]+(this[s+1]<<16|this[s+2]<<8|this[s+3])},E.prototype.readBigUInt64LE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];(void 0===n||void 0===r)&&Ae(s,this.length-8);const u=n+256*this[++s]+65536*this[++s]+this[++s]*2**24,g=this[++s]+256*this[++s]+65536*this[++s]+r*2**24;return BigInt(u)+(BigInt(g)<<BigInt(32))}),E.prototype.readBigUInt64BE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];(void 0===n||void 0===r)&&Ae(s,this.length-8);const u=n*2**24+65536*this[++s]+256*this[++s]+this[++s],g=this[++s]*2**24+65536*this[++s]+256*this[++s]+r;return(BigInt(u)<<BigInt(32))+BigInt(g)}),E.prototype.readIntLE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=this[s],g=1,_=0;for(;++_<n&&(g*=256);)u+=this[s+_]*g;return g*=128,u>=g&&(u-=Math.pow(2,8*n)),u},E.prototype.readIntBE=function(s,n,r){s>>>=0,n>>>=0,r||W(s,n,this.length);let u=n,g=1,_=this[s+--u];for(;u>0&&(g*=256);)_+=this[s+--u]*g;return g*=128,_>=g&&(_-=Math.pow(2,8*n)),_},E.prototype.readInt8=function(s,n){return s>>>=0,n||W(s,1,this.length),128&this[s]?-1*(255-this[s]+1):this[s]},E.prototype.readInt16LE=function(s,n){s>>>=0,n||W(s,2,this.length);const r=this[s]|this[s+1]<<8;return 32768&r?4294901760|r:r},E.prototype.readInt16BE=function(s,n){s>>>=0,n||W(s,2,this.length);const r=this[s+1]|this[s]<<8;return 32768&r?4294901760|r:r},E.prototype.readInt32LE=function(s,n){return s>>>=0,n||W(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},E.prototype.readInt32BE=function(s,n){return s>>>=0,n||W(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},E.prototype.readBigInt64LE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];return(void 0===n||void 0===r)&&Ae(s,this.length-8),(BigInt(this[s+4]+256*this[s+5]+65536*this[s+6]+(r<<24))<<BigInt(32))+BigInt(n+256*this[++s]+65536*this[++s]+this[++s]*2**24)}),E.prototype.readBigInt64BE=Yt(function(s){ne(s>>>=0,"offset");const n=this[s],r=this[s+7];(void 0===n||void 0===r)&&Ae(s,this.length-8);const u=(n<<24)+65536*this[++s]+256*this[++s]+this[++s];return(BigInt(u)<<BigInt(32))+BigInt(this[++s]*2**24+65536*this[++s]+256*this[++s]+r)}),E.prototype.readFloatLE=function(s,n){return s>>>=0,n||W(s,4,this.length),Ot.read(this,s,!0,23,4)},E.prototype.readFloatBE=function(s,n){return s>>>=0,n||W(s,4,this.length),Ot.read(this,s,!1,23,4)},E.prototype.readDoubleLE=function(s,n){return s>>>=0,n||W(s,8,this.length),Ot.read(this,s,!0,52,8)},E.prototype.readDoubleBE=function(s,n){return s>>>=0,n||W(s,8,this.length),Ot.read(this,s,!1,52,8)},E.prototype.writeUintLE=E.prototype.writeUIntLE=function(s,n,r,u){s=+s,n>>>=0,r>>>=0,u||M(this,s,n,r,Math.pow(2,8*r)-1,0);let g=1,_=0;for(this[n]=255&s;++_<r&&(g*=256);)this[n+_]=s/g&255;return n+r},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(s,n,r,u){s=+s,n>>>=0,r>>>=0,u||M(this,s,n,r,Math.pow(2,8*r)-1,0);let g=r-1,_=1;for(this[n+g]=255&s;--g>=0&&(_*=256);)this[n+g]=s/_&255;return n+r},E.prototype.writeUint8=E.prototype.writeUInt8=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,1,255,0),this[n]=255&s,n+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,2,65535,0),this[n]=255&s,this[n+1]=s>>>8,n+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,2,65535,0),this[n]=s>>>8,this[n+1]=255&s,n+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,4,4294967295,0),this[n+3]=s>>>24,this[n+2]=s>>>16,this[n+1]=s>>>8,this[n]=255&s,n+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,4,4294967295,0),this[n]=s>>>24,this[n+1]=s>>>16,this[n+2]=s>>>8,this[n+3]=255&s,n+4},E.prototype.writeBigUInt64LE=Yt(function(s,n=0){return d(this,s,n,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=Yt(function(s,n=0){return B(this,s,n,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(s,n,r,u){if(s=+s,n>>>=0,!u){const ft=Math.pow(2,8*r-1);M(this,s,n,r,ft-1,-ft)}let g=0,_=1,O=0;for(this[n]=255&s;++g<r&&(_*=256);)s<0&&0===O&&0!==this[n+g-1]&&(O=1),this[n+g]=(s/_>>0)-O&255;return n+r},E.prototype.writeIntBE=function(s,n,r,u){if(s=+s,n>>>=0,!u){const ft=Math.pow(2,8*r-1);M(this,s,n,r,ft-1,-ft)}let g=r-1,_=1,O=0;for(this[n+g]=255&s;--g>=0&&(_*=256);)s<0&&0===O&&0!==this[n+g+1]&&(O=1),this[n+g]=(s/_>>0)-O&255;return n+r},E.prototype.writeInt8=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,1,127,-128),s<0&&(s=255+s+1),this[n]=255&s,n+1},E.prototype.writeInt16LE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,2,32767,-32768),this[n]=255&s,this[n+1]=s>>>8,n+2},E.prototype.writeInt16BE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,2,32767,-32768),this[n]=s>>>8,this[n+1]=255&s,n+2},E.prototype.writeInt32LE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,4,2147483647,-2147483648),this[n]=255&s,this[n+1]=s>>>8,this[n+2]=s>>>16,this[n+3]=s>>>24,n+4},E.prototype.writeInt32BE=function(s,n,r){return s=+s,n>>>=0,r||M(this,s,n,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[n]=s>>>24,this[n+1]=s>>>16,this[n+2]=s>>>8,this[n+3]=255&s,n+4},E.prototype.writeBigInt64LE=Yt(function(s,n=0){return d(this,s,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=Yt(function(s,n=0){return B(this,s,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeFloatLE=function(s,n,r){return A(this,s,n,!0,r)},E.prototype.writeFloatBE=function(s,n,r){return A(this,s,n,!1,r)},E.prototype.writeDoubleLE=function(s,n,r){return N(this,s,n,!0,r)},E.prototype.writeDoubleBE=function(s,n,r){return N(this,s,n,!1,r)},E.prototype.copy=function(s,n,r,u){if(!E.isBuffer(s))throw new TypeError("argument should be a Buffer");if(r||(r=0),!u&&0!==u&&(u=this.length),n>=s.length&&(n=s.length),n||(n=0),u>0&&u<r&&(u=r),u===r||0===s.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),s.length-n<u-r&&(u=s.length-n+r);const g=u-r;return this===s&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,r,u):Uint8Array.prototype.set.call(s,this.subarray(r,u),n),g},E.prototype.fill=function(s,n,r,u){if("string"==typeof s){if("string"==typeof n?(u=n,n=0,r=this.length):"string"==typeof r&&(u=r,r=this.length),void 0!==u&&"string"!=typeof u)throw new TypeError("encoding must be a string");if("string"==typeof u&&!E.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(1===s.length){const _=s.charCodeAt(0);("utf8"===u&&_<128||"latin1"===u)&&(s=_)}}else"number"==typeof s?s&=255:"boolean"==typeof s&&(s=Number(s));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;let g;if(n>>>=0,r=void 0===r?this.length:r>>>0,s||(s=0),"number"==typeof s)for(g=n;g<r;++g)this[g]=s;else{const _=E.isBuffer(s)?s:E.from(s,u),O=_.length;if(0===O)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(g=0;g<r-n;++g)this[g+n]=_[g%O]}return this};const V={};function Q(I,s,n){V[I]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${I}]`,delete this.name}get code(){return I}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${I}]: ${this.message}`}}}function Kt(I){let s="",n=I.length;const r="-"===I[0]?1:0;for(;n>=r+4;n-=3)s=`_${I.slice(n-3,n)}${s}`;return`${I.slice(0,n)}${s}`}function oe(I,s,n,r,u,g){if(I>n||I<s){const _="bigint"==typeof s?"n":"";let O;throw O=g>3?0===s||s===BigInt(0)?`>= 0${_} and < 2${_} ** ${8*(g+1)}${_}`:`>= -(2${_} ** ${8*(g+1)-1}${_}) and < 2 ** ${8*(g+1)-1}${_}`:`>= ${s}${_} and <= ${n}${_}`,new V.ERR_OUT_OF_RANGE("value",O,I)}!function ae(I,s,n){ne(s,"offset"),(void 0===I[s]||void 0===I[s+n])&&Ae(s,I.length-(n+1))}(r,u,g)}function ne(I,s){if("number"!=typeof I)throw new V.ERR_INVALID_ARG_TYPE(s,"number",I)}function Ae(I,s,n){throw Math.floor(I)!==I?(ne(I,n),new V.ERR_OUT_OF_RANGE(n||"offset","an integer",I)):s<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${s}`,I)}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(I){return I?`${I} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(I,s){return`The "${I}" argument must be of type number. Received type ${typeof s}`},TypeError),Q("ERR_OUT_OF_RANGE",function(I,s,n){let r=`The value of "${I}" is out of range.`,u=n;return Number.isInteger(n)&&Math.abs(n)>2**32?u=Kt(String(n)):"bigint"==typeof n&&(u=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(u=Kt(u)),u+="n"),r+=` It must be ${s}. Received ${u}`,r},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function m(I,s){let n;s=s||1/0;const r=I.length;let u=null;const g=[];for(let _=0;_<r;++_){if(n=I.charCodeAt(_),n>55295&&n<57344){if(!u){if(n>56319){(s-=3)>-1&&g.push(239,191,189);continue}if(_+1===r){(s-=3)>-1&&g.push(239,191,189);continue}u=n;continue}if(n<56320){(s-=3)>-1&&g.push(239,191,189),u=n;continue}n=65536+(u-55296<<10|n-56320)}else u&&(s-=3)>-1&&g.push(239,191,189);if(u=null,n<128){if((s-=1)<0)break;g.push(n)}else if(n<2048){if((s-=2)<0)break;g.push(n>>6|192,63&n|128)}else if(n<65536){if((s-=3)<0)break;g.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((s-=4)<0)break;g.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return g}function Z(I){return D.toByteArray(function C(I){if((I=(I=I.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;I.length%4!=0;)I+="=";return I}(I))}function it(I,s,n,r){let u;for(u=0;u<r&&!(u+n>=s.length||u>=I.length);++u)s[u+n]=I[u];return u}function ot(I,s){return I instanceof s||null!=I&&null!=I.constructor&&null!=I.constructor.name&&I.constructor.name===s.name}function Ht(I){return I!=I}const jt=function(){const I="0123456789abcdef",s=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let u=0;u<16;++u)s[r+u]=I[n]+I[u]}return s}();function Yt(I){return typeof BigInt>"u"?ue:I}function ue(){throw new Error("BigInt not supported")}},3733:(Ce,Bt,wt)=>{"use strict";const Ot=wt(5343),Y=wt(8461),ut="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.lW=S,Bt.h2=50;const x=2147483647;function E(s){if(s>x)throw new RangeError('The value "'+s+'" is invalid for option "size"');const n=new Uint8Array(s);return Object.setPrototypeOf(n,S.prototype),n}function S(s,n,r){if("number"==typeof s){if("string"==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return Dt(s)}return nt(s,n,r)}function nt(s,n,r){if("string"==typeof s)return function ct(s,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!S.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const r=0|Ut(s,n);let u=E(r);const g=u.write(s,n);return g!==r&&(u=u.slice(0,g)),u}(s,n);if(ArrayBuffer.isView(s))return function qt(s){if(Ht(s,Uint8Array)){const n=new Uint8Array(s);return at(n.buffer,n.byteOffset,n.byteLength)}return tt(s)}(s);if(null==s)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(Ht(s,ArrayBuffer)||s&&Ht(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ht(s,SharedArrayBuffer)||s&&Ht(s.buffer,SharedArrayBuffer)))return at(s,n,r);if("number"==typeof s)throw new TypeError('The "value" argument must not be of type number. Received type number');const u=s.valueOf&&s.valueOf();if(null!=u&&u!==s)return S.from(u,n,r);const g=function et(s){if(S.isBuffer(s)){const n=0|At(s.length),r=E(n);return 0===r.length||s.copy(r,0,0,n),r}return void 0!==s.length?"number"!=typeof s.length||jt(s.length)?E(0):tt(s):"Buffer"===s.type&&Array.isArray(s.data)?tt(s.data):void 0}(s);if(g)return g;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof s[Symbol.toPrimitive])return S.from(s[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}function zt(s){if("number"!=typeof s)throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function Dt(s){return zt(s),E(s<0?0:0|At(s))}function tt(s){const n=s.length<0?0:0|At(s.length),r=E(n);for(let u=0;u<n;u+=1)r[u]=255&s[u];return r}function at(s,n,r){if(n<0||s.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');let u;return u=void 0===n&&void 0===r?new Uint8Array(s):void 0===r?new Uint8Array(s,n):new Uint8Array(s,n,r),Object.setPrototypeOf(u,S.prototype),u}function At(s){if(s>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|s}function Ut(s,n){if(S.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Ht(s,ArrayBuffer))return s.byteLength;if("string"!=typeof s)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);const r=s.length,u=arguments.length>2&&!0===arguments[2];if(!u&&0===r)return 0;let g=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return w(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return it(s).length;default:if(g)return u?-1:w(s).length;n=(""+n).toLowerCase(),g=!0}}function gt(s,n,r){let u=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(n>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return $(this,n,r);case"utf8":case"utf-8":return l(this,n,r);case"ascii":return T(this,n,r);case"latin1":case"binary":return L(this,n,r);case"base64":return R(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,n,r);default:if(u)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),u=!0}}function Pt(s,n,r){const u=s[n];s[n]=s[r],s[r]=u}function re(s,n,r,u,g){if(0===s.length)return-1;if("string"==typeof r?(u=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),jt(r=+r)&&(r=g?0:s.length-1),r<0&&(r=s.length+r),r>=s.length){if(g)return-1;r=s.length-1}else if(r<0){if(!g)return-1;r=0}if("string"==typeof n&&(n=S.from(n,u)),S.isBuffer(n))return 0===n.length?-1:Jt(s,n,r,u,g);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?g?Uint8Array.prototype.indexOf.call(s,n,r):Uint8Array.prototype.lastIndexOf.call(s,n,r):Jt(s,[n],r,u,g);throw new TypeError("val must be string, number or Buffer")}function Jt(s,n,r,u,g){let _t,_=1,O=s.length,ft=n.length;if(void 0!==u&&("ucs2"===(u=String(u).toLowerCase())||"ucs-2"===u||"utf16le"===u||"utf-16le"===u)){if(s.length<2||n.length<2)return-1;_=2,O/=2,ft/=2,r/=2}function kt(Tt,Ct){return 1===_?Tt[Ct]:Tt.readUInt16BE(Ct*_)}if(g){let Tt=-1;for(_t=r;_t<O;_t++)if(kt(s,_t)===kt(n,-1===Tt?0:_t-Tt)){if(-1===Tt&&(Tt=_t),_t-Tt+1===ft)return Tt*_}else-1!==Tt&&(_t-=_t-Tt),Tt=-1}else for(r+ft>O&&(r=O-ft),_t=r;_t>=0;_t--){let Tt=!0;for(let Ct=0;Ct<ft;Ct++)if(kt(s,_t+Ct)!==kt(n,Ct)){Tt=!1;break}if(Tt)return _t}return-1}function Be(s,n,r,u){r=Number(r)||0;const g=s.length-r;u?(u=Number(u))>g&&(u=g):u=g;const _=n.length;let O;for(u>_/2&&(u=_/2),O=0;O<u;++O){const ft=parseInt(n.substr(2*O,2),16);if(jt(ft))return O;s[r+O]=ft}return O}function xt(s,n,r,u){return ot(w(n,s.length-r),s,r,u)}function rt(s,n,r,u){return ot(function F(s){const n=[];for(let r=0;r<s.length;++r)n.push(255&s.charCodeAt(r));return n}(n),s,r,u)}function lt(s,n,r,u){return ot(it(n),s,r,u)}function yt(s,n,r,u){return ot(function Z(s,n){let r,u,g;const _=[];for(let O=0;O<s.length&&!((n-=2)<0);++O)r=s.charCodeAt(O),u=r>>8,g=r%256,_.push(g),_.push(u);return _}(n,s.length-r),s,r,u)}function R(s,n,r){return Ot.fromByteArray(0===n&&r===s.length?s:s.slice(n,r))}function l(s,n,r){r=Math.min(s.length,r);const u=[];let g=n;for(;g<r;){const _=s[g];let O=null,ft=_>239?4:_>223?3:_>191?2:1;if(g+ft<=r){let kt,_t,Tt,Ct;switch(ft){case 1:_<128&&(O=_);break;case 2:kt=s[g+1],128==(192&kt)&&(Ct=(31&_)<<6|63&kt,Ct>127&&(O=Ct));break;case 3:kt=s[g+1],_t=s[g+2],128==(192&kt)&&128==(192&_t)&&(Ct=(15&_)<<12|(63&kt)<<6|63&_t,Ct>2047&&(Ct<55296||Ct>57343)&&(O=Ct));break;case 4:kt=s[g+1],_t=s[g+2],Tt=s[g+3],128==(192&kt)&&128==(192&_t)&&128==(192&Tt)&&(Ct=(15&_)<<18|(63&kt)<<12|(63&_t)<<6|63&Tt,Ct>65535&&Ct<1114112&&(O=Ct))}}null===O?(O=65533,ft=1):O>65535&&(O-=65536,u.push(O>>>10&1023|55296),O=56320|1023&O),u.push(O),g+=ft}return function v(s){const n=s.length;if(n<=y)return String.fromCharCode.apply(String,s);let r="",u=0;for(;u<n;)r+=String.fromCharCode.apply(String,s.slice(u,u+=y));return r}(u)}!(S.TYPED_ARRAY_SUPPORT=function f(){try{const s=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(s,n),42===s.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(s,n,r){return nt(s,n,r)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(s,n,r){return function Lt(s,n,r){return zt(s),s<=0?E(s):void 0!==n?"string"==typeof r?E(s).fill(n,r):E(s).fill(n):E(s)}(s,n,r)},S.allocUnsafe=function(s){return Dt(s)},S.allocUnsafeSlow=function(s){return Dt(s)},S.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==S.prototype},S.compare=function(n,r){if(Ht(n,Uint8Array)&&(n=S.from(n,n.offset,n.byteLength)),Ht(r,Uint8Array)&&(r=S.from(r,r.offset,r.byteLength)),!S.isBuffer(n)||!S.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===r)return 0;let u=n.length,g=r.length;for(let _=0,O=Math.min(u,g);_<O;++_)if(n[_]!==r[_]){u=n[_],g=r[_];break}return u<g?-1:g<u?1:0},S.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(n,r){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return S.alloc(0);let u;if(void 0===r)for(r=0,u=0;u<n.length;++u)r+=n[u].length;const g=S.allocUnsafe(r);let _=0;for(u=0;u<n.length;++u){let O=n[u];if(Ht(O,Uint8Array))_+O.length>g.length?(S.isBuffer(O)||(O=S.from(O)),O.copy(g,_)):Uint8Array.prototype.set.call(g,O,_);else{if(!S.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(g,_)}_+=O.length}return g},S.byteLength=Ut,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<n;r+=2)Pt(this,r,r+1);return this},S.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<n;r+=4)Pt(this,r,r+3),Pt(this,r+1,r+2);return this},S.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<n;r+=8)Pt(this,r,r+7),Pt(this,r+1,r+6),Pt(this,r+2,r+5),Pt(this,r+3,r+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const n=this.length;return 0===n?"":0===arguments.length?l(this,0,n):gt.apply(this,arguments)},S.prototype.equals=function(n){if(!S.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===S.compare(this,n)},S.prototype.inspect=function(){let n="";const r=Bt.h2;return n=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(n+=" ... "),"<Buffer "+n+">"},ut&&(S.prototype[ut]=S.prototype.inspect),S.prototype.compare=function(n,r,u,g,_){if(Ht(n,Uint8Array)&&(n=S.from(n,n.offset,n.byteLength)),!S.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(void 0===r&&(r=0),void 0===u&&(u=n?n.length:0),void 0===g&&(g=0),void 0===_&&(_=this.length),r<0||u>n.length||g<0||_>this.length)throw new RangeError("out of range index");if(g>=_&&r>=u)return 0;if(g>=_)return-1;if(r>=u)return 1;if(this===n)return 0;let O=(_>>>=0)-(g>>>=0),ft=(u>>>=0)-(r>>>=0);const kt=Math.min(O,ft),_t=this.slice(g,_),Tt=n.slice(r,u);for(let Ct=0;Ct<kt;++Ct)if(_t[Ct]!==Tt[Ct]){O=_t[Ct],ft=Tt[Ct];break}return O<ft?-1:ft<O?1:0},S.prototype.includes=function(n,r,u){return-1!==this.indexOf(n,r,u)},S.prototype.indexOf=function(n,r,u){return re(this,n,r,u,!0)},S.prototype.lastIndexOf=function(n,r,u){return re(this,n,r,u,!1)},S.prototype.write=function(n,r,u,g){if(void 0===r)g="utf8",u=this.length,r=0;else if(void 0===u&&"string"==typeof r)g=r,u=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(u)?(u>>>=0,void 0===g&&(g="utf8")):(g=u,u=void 0)}const _=this.length-r;if((void 0===u||u>_)&&(u=_),n.length>0&&(u<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let O=!1;for(;;)switch(g){case"hex":return Be(this,n,r,u);case"utf8":case"utf-8":return xt(this,n,r,u);case"ascii":case"latin1":case"binary":return rt(this,n,r,u);case"base64":return lt(this,n,r,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,n,r,u);default:if(O)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),O=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const y=4096;function T(s,n,r){let u="";r=Math.min(s.length,r);for(let g=n;g<r;++g)u+=String.fromCharCode(127&s[g]);return u}function L(s,n,r){let u="";r=Math.min(s.length,r);for(let g=n;g<r;++g)u+=String.fromCharCode(s[g]);return u}function $(s,n,r){const u=s.length;(!n||n<0)&&(n=0),(!r||r<0||r>u)&&(r=u);let g="";for(let _=n;_<r;++_)g+=Yt[s[_]];return g}function W(s,n,r){const u=s.slice(n,r);let g="";for(let _=0;_<u.length-1;_+=2)g+=String.fromCharCode(u[_]+256*u[_+1]);return g}function M(s,n,r){if(s%1!=0||s<0)throw new RangeError("offset is not uint");if(s+n>r)throw new RangeError("Trying to access beyond buffer length")}function d(s,n,r,u,g,_){if(!S.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>g||n<_)throw new RangeError('"value" argument is out of bounds');if(r+u>s.length)throw new RangeError("Index out of range")}function B(s,n,r,u,g){ne(n,u,g,s,r,7);let _=Number(n&BigInt(4294967295));s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_;let O=Number(n>>BigInt(32)&BigInt(4294967295));return s[r++]=O,O>>=8,s[r++]=O,O>>=8,s[r++]=O,O>>=8,s[r++]=O,r}function k(s,n,r,u,g){ne(n,u,g,s,r,7);let _=Number(n&BigInt(4294967295));s[r+7]=_,_>>=8,s[r+6]=_,_>>=8,s[r+5]=_,_>>=8,s[r+4]=_;let O=Number(n>>BigInt(32)&BigInt(4294967295));return s[r+3]=O,O>>=8,s[r+2]=O,O>>=8,s[r+1]=O,O>>=8,s[r]=O,r+8}function A(s,n,r,u,g,_){if(r+u>s.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(s,n,r,u,g){return n=+n,r>>>=0,g||A(s,0,r,4),Y.write(s,n,r,u,23,4),r+4}function V(s,n,r,u,g){return n=+n,r>>>=0,g||A(s,0,r,8),Y.write(s,n,r,u,52,8),r+8}S.prototype.slice=function(n,r){const u=this.length;(n=~~n)<0?(n+=u)<0&&(n=0):n>u&&(n=u),(r=void 0===r?u:~~r)<0?(r+=u)<0&&(r=0):r>u&&(r=u),r<n&&(r=n);const g=this.subarray(n,r);return Object.setPrototypeOf(g,S.prototype),g},S.prototype.readUintLE=S.prototype.readUIntLE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=this[n],_=1,O=0;for(;++O<r&&(_*=256);)g+=this[n+O]*_;return g},S.prototype.readUintBE=S.prototype.readUIntBE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=this[n+--r],_=1;for(;r>0&&(_*=256);)g+=this[n+--r]*_;return g},S.prototype.readUint8=S.prototype.readUInt8=function(n,r){return n>>>=0,r||M(n,1,this.length),this[n]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(n,r){return n>>>=0,r||M(n,2,this.length),this[n]|this[n+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(n,r){return n>>>=0,r||M(n,2,this.length),this[n]<<8|this[n+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(n,r){return n>>>=0,r||M(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(n,r){return n>>>=0,r||M(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},S.prototype.readBigUInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const g=r+256*this[++n]+65536*this[++n]+this[++n]*2**24,_=this[++n]+256*this[++n]+65536*this[++n]+u*2**24;return BigInt(g)+(BigInt(_)<<BigInt(32))}),S.prototype.readBigUInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const g=r*2**24+65536*this[++n]+256*this[++n]+this[++n],_=this[++n]*2**24+65536*this[++n]+256*this[++n]+u;return(BigInt(g)<<BigInt(32))+BigInt(_)}),S.prototype.readIntLE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=this[n],_=1,O=0;for(;++O<r&&(_*=256);)g+=this[n+O]*_;return _*=128,g>=_&&(g-=Math.pow(2,8*r)),g},S.prototype.readIntBE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=r,_=1,O=this[n+--g];for(;g>0&&(_*=256);)O+=this[n+--g]*_;return _*=128,O>=_&&(O-=Math.pow(2,8*r)),O},S.prototype.readInt8=function(n,r){return n>>>=0,r||M(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},S.prototype.readInt16LE=function(n,r){n>>>=0,r||M(n,2,this.length);const u=this[n]|this[n+1]<<8;return 32768&u?4294901760|u:u},S.prototype.readInt16BE=function(n,r){n>>>=0,r||M(n,2,this.length);const u=this[n+1]|this[n]<<8;return 32768&u?4294901760|u:u},S.prototype.readInt32LE=function(n,r){return n>>>=0,r||M(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},S.prototype.readInt32BE=function(n,r){return n>>>=0,r||M(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},S.prototype.readBigInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];return(void 0===r||void 0===u)&&fe(n,this.length-8),(BigInt(this[n+4]+256*this[n+5]+65536*this[n+6]+(u<<24))<<BigInt(32))+BigInt(r+256*this[++n]+65536*this[++n]+this[++n]*2**24)}),S.prototype.readBigInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const g=(r<<24)+65536*this[++n]+256*this[++n]+this[++n];return(BigInt(g)<<BigInt(32))+BigInt(this[++n]*2**24+65536*this[++n]+256*this[++n]+u)}),S.prototype.readFloatLE=function(n,r){return n>>>=0,r||M(n,4,this.length),Y.read(this,n,!0,23,4)},S.prototype.readFloatBE=function(n,r){return n>>>=0,r||M(n,4,this.length),Y.read(this,n,!1,23,4)},S.prototype.readDoubleLE=function(n,r){return n>>>=0,r||M(n,8,this.length),Y.read(this,n,!0,52,8)},S.prototype.readDoubleBE=function(n,r){return n>>>=0,r||M(n,8,this.length),Y.read(this,n,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(n,r,u,g){n=+n,r>>>=0,u>>>=0,g||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=1,O=0;for(this[r]=255&n;++O<u&&(_*=256);)this[r+O]=n/_&255;return r+u},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(n,r,u,g){n=+n,r>>>=0,u>>>=0,g||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=u-1,O=1;for(this[r+_]=255&n;--_>=0&&(O*=256);)this[r+_]=n/O&255;return r+u},S.prototype.writeUint8=S.prototype.writeUInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,255,0),this[r]=255&n,r+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=255&n,this[r+1]=n>>>8,r+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=n>>>8,this[r+1]=255&n,r+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r+3]=n>>>24,this[r+2]=n>>>16,this[r+1]=n>>>8,this[r]=255&n,r+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},S.prototype.writeBigUInt64LE=ue(function(n,r=0){return B(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ue(function(n,r=0){return k(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(n,r,u,g){if(n=+n,r>>>=0,!g){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=0,O=1,ft=0;for(this[r]=255&n;++_<u&&(O*=256);)n<0&&0===ft&&0!==this[r+_-1]&&(ft=1),this[r+_]=(n/O>>0)-ft&255;return r+u},S.prototype.writeIntBE=function(n,r,u,g){if(n=+n,r>>>=0,!g){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=u-1,O=1,ft=0;for(this[r+_]=255&n;--_>=0&&(O*=256);)n<0&&0===ft&&0!==this[r+_+1]&&(ft=1),this[r+_]=(n/O>>0)-ft&255;return r+u},S.prototype.writeInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,127,-128),n<0&&(n=255+n+1),this[r]=255&n,r+1},S.prototype.writeInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=255&n,this[r+1]=n>>>8,r+2},S.prototype.writeInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=n>>>8,this[r+1]=255&n,r+2},S.prototype.writeInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),this[r]=255&n,this[r+1]=n>>>8,this[r+2]=n>>>16,this[r+3]=n>>>24,r+4},S.prototype.writeInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},S.prototype.writeBigInt64LE=ue(function(n,r=0){return B(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ue(function(n,r=0){return k(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(n,r,u){return N(this,n,r,!0,u)},S.prototype.writeFloatBE=function(n,r,u){return N(this,n,r,!1,u)},S.prototype.writeDoubleLE=function(n,r,u){return V(this,n,r,!0,u)},S.prototype.writeDoubleBE=function(n,r,u){return V(this,n,r,!1,u)},S.prototype.copy=function(n,r,u,g){if(!S.isBuffer(n))throw new TypeError("argument should be a Buffer");if(u||(u=0),!g&&0!==g&&(g=this.length),r>=n.length&&(r=n.length),r||(r=0),g>0&&g<u&&(g=u),g===u||0===n.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),n.length-r<g-u&&(g=n.length-r+u);const _=g-u;return this===n&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,u,g):Uint8Array.prototype.set.call(n,this.subarray(u,g),r),_},S.prototype.fill=function(n,r,u,g){if("string"==typeof n){if("string"==typeof r?(g=r,r=0,u=this.length):"string"==typeof u&&(g=u,u=this.length),void 0!==g&&"string"!=typeof g)throw new TypeError("encoding must be a string");if("string"==typeof g&&!S.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(1===n.length){const O=n.charCodeAt(0);("utf8"===g&&O<128||"latin1"===g)&&(n=O)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(r<0||this.length<r||this.length<u)throw new RangeError("Out of range index");if(u<=r)return this;let _;if(r>>>=0,u=void 0===u?this.length:u>>>0,n||(n=0),"number"==typeof n)for(_=r;_<u;++_)this[_]=n;else{const O=S.isBuffer(n)?n:S.from(n,g),ft=O.length;if(0===ft)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(_=0;_<u-r;++_)this[_+r]=O[_%ft]}return this};const Q={};function Kt(s,n,r){Q[s]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,delete this.name}get code(){return s}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}function ae(s){let n="",r=s.length;const u="-"===s[0]?1:0;for(;r>=u+4;r-=3)n=`_${s.slice(r-3,r)}${n}`;return`${s.slice(0,r)}${n}`}function ne(s,n,r,u,g,_){if(s>r||s<n){const O="bigint"==typeof n?"n":"";let ft;throw ft=_>3?0===n||n===BigInt(0)?`>= 0${O} and < 2${O} ** ${8*(_+1)}${O}`:`>= -(2${O} ** ${8*(_+1)-1}${O}) and < 2 ** ${8*(_+1)-1}${O}`:`>= ${n}${O} and <= ${r}${O}`,new Q.ERR_OUT_OF_RANGE("value",ft,s)}!function oe(s,n,r){Ae(n,"offset"),(void 0===s[n]||void 0===s[n+r])&&fe(n,s.length-(r+1))}(u,g,_)}function Ae(s,n){if("number"!=typeof s)throw new Q.ERR_INVALID_ARG_TYPE(n,"number",s)}function fe(s,n,r){throw Math.floor(s)!==s?(Ae(s,r),new Q.ERR_OUT_OF_RANGE(r||"offset","an integer",s)):n<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${n}`,s)}Kt("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Kt("ERR_INVALID_ARG_TYPE",function(s,n){return`The "${s}" argument must be of type number. Received type ${typeof n}`},TypeError),Kt("ERR_OUT_OF_RANGE",function(s,n,r){let u=`The value of "${s}" is out of range.`,g=r;return Number.isInteger(r)&&Math.abs(r)>2**32?g=ae(String(r)):"bigint"==typeof r&&(g=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(g=ae(g)),g+="n"),u+=` It must be ${n}. Received ${g}`,u},RangeError);const C=/[^+/0-9A-Za-z-_]/g;function w(s,n){let r;n=n||1/0;const u=s.length;let g=null;const _=[];for(let O=0;O<u;++O){if(r=s.charCodeAt(O),r>55295&&r<57344){if(!g){if(r>56319){(n-=3)>-1&&_.push(239,191,189);continue}if(O+1===u){(n-=3)>-1&&_.push(239,191,189);continue}g=r;continue}if(r<56320){(n-=3)>-1&&_.push(239,191,189),g=r;continue}r=65536+(g-55296<<10|r-56320)}else g&&(n-=3)>-1&&_.push(239,191,189);if(g=null,r<128){if((n-=1)<0)break;_.push(r)}else if(r<2048){if((n-=2)<0)break;_.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;_.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;_.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return _}function it(s){return Ot.toByteArray(function m(s){if((s=(s=s.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(s))}function ot(s,n,r,u){let g;for(g=0;g<u&&!(g+r>=n.length||g>=s.length);++g)n[g+r]=s[g];return g}function Ht(s,n){return s instanceof n||null!=s&&null!=s.constructor&&null!=s.constructor.name&&s.constructor.name===n.name}function jt(s){return s!=s}const Yt=function(){const s="0123456789abcdef",n=new Array(256);for(let r=0;r<16;++r){const u=16*r;for(let g=0;g<16;++g)n[u+g]=s[r]+s[g]}return n}();function ue(s){return typeof BigInt>"u"?I:s}function I(){throw new Error("BigInt not supported")}},1082:(Ce,Bt,wt)=>{"use strict";var D=wt(3502).Buffer;Ce.exports=function Ot(Y){if(Y.length>=255)throw new TypeError("Alphabet too long");for(var ut=new Uint8Array(256),x=0;x<ut.length;x++)ut[x]=255;for(var f=0;f<Y.length;f++){var E=Y.charAt(f),S=E.charCodeAt(0);if(255!==ut[S])throw new TypeError(E+" is ambiguous");ut[S]=f}var nt=Y.length,zt=Y.charAt(0),Lt=Math.log(nt)/Math.log(256),Dt=Math.log(256)/Math.log(nt);function tt(at){if("string"!=typeof at)throw new TypeError("Expected String");if(0===at.length)return D.alloc(0);for(var et=0,At=0,bt=0;at[et]===zt;)At++,et++;for(var Ut=(at.length-et)*Lt+1>>>0,gt=new Uint8Array(Ut);et<at.length;){var Pt=ut[at.charCodeAt(et)];if(255===Pt)return;for(var re=0,Jt=Ut-1;(0!==Pt||re<bt)&&-1!==Jt;Jt--,re++)gt[Jt]=(Pt+=nt*gt[Jt]>>>0)%256>>>0,Pt=Pt/256>>>0;if(0!==Pt)throw new Error("Non-zero carry");bt=re,et++}for(var Be=Ut-bt;Be!==Ut&&0===gt[Be];)Be++;var xt=D.allocUnsafe(At+(Ut-Be));xt.fill(0,0,At);for(var rt=At;Be!==Ut;)xt[rt++]=gt[Be++];return xt}return{encode:function ct(at){if((Array.isArray(at)||at instanceof Uint8Array)&&(at=D.from(at)),!D.isBuffer(at))throw new TypeError("Expected Buffer");if(0===at.length)return"";for(var et=0,At=0,bt=0,Ut=at.length;bt!==Ut&&0===at[bt];)bt++,et++;for(var gt=(Ut-bt)*Dt+1>>>0,Pt=new Uint8Array(gt);bt!==Ut;){for(var re=at[bt],Jt=0,Be=gt-1;(0!==re||Jt<At)&&-1!==Be;Be--,Jt++)Pt[Be]=(re+=256*Pt[Be]>>>0)%nt>>>0,re=re/nt>>>0;if(0!==re)throw new Error("Non-zero carry");At=Jt,bt++}for(var xt=gt-At;xt!==gt&&0===Pt[xt];)xt++;for(var rt=zt.repeat(et);xt<gt;++xt)rt+=Y.charAt(Pt[xt]);return rt},decodeUnsafe:tt,decode:function qt(at){var et=tt(at);if(et)return et;throw new Error("Non-base"+nt+" character")}}}},5343:(Ce,Bt)=>{"use strict";Bt.byteLength=function E(ct){var tt=f(ct),at=tt[1];return 3*(tt[0]+at)/4-at},Bt.toByteArray=function nt(ct){var tt,gt,qt=f(ct),at=qt[0],et=qt[1],At=new Ot(function S(ct,tt,qt){return 3*(tt+qt)/4-qt}(0,at,et)),bt=0,Ut=et>0?at-4:at;for(gt=0;gt<Ut;gt+=4)tt=D[ct.charCodeAt(gt)]<<18|D[ct.charCodeAt(gt+1)]<<12|D[ct.charCodeAt(gt+2)]<<6|D[ct.charCodeAt(gt+3)],At[bt++]=tt>>16&255,At[bt++]=tt>>8&255,At[bt++]=255&tt;return 2===et&&(tt=D[ct.charCodeAt(gt)]<<2|D[ct.charCodeAt(gt+1)]>>4,At[bt++]=255&tt),1===et&&(tt=D[ct.charCodeAt(gt)]<<10|D[ct.charCodeAt(gt+1)]<<4|D[ct.charCodeAt(gt+2)]>>2,At[bt++]=tt>>8&255,At[bt++]=255&tt),At},Bt.fromByteArray=function Dt(ct){for(var tt,qt=ct.length,at=qt%3,et=[],bt=0,Ut=qt-at;bt<Ut;bt+=16383)et.push(Lt(ct,bt,bt+16383>Ut?Ut:bt+16383));return 1===at?et.push(wt[(tt=ct[qt-1])>>2]+wt[tt<<4&63]+"=="):2===at&&et.push(wt[(tt=(ct[qt-2]<<8)+ct[qt-1])>>10]+wt[tt>>4&63]+wt[tt<<2&63]+"="),et.join("")};for(var wt=[],D=[],Ot=typeof Uint8Array<"u"?Uint8Array:Array,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ut=0,x=Y.length;ut<x;++ut)wt[ut]=Y[ut],D[Y.charCodeAt(ut)]=ut;function f(ct){var tt=ct.length;if(tt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var qt=ct.indexOf("=");return-1===qt&&(qt=tt),[qt,qt===tt?0:4-qt%4]}function zt(ct){return wt[ct>>18&63]+wt[ct>>12&63]+wt[ct>>6&63]+wt[63&ct]}function Lt(ct,tt,qt){for(var et=[],At=tt;At<qt;At+=3)et.push(zt((ct[At]<<16&16711680)+(ct[At+1]<<8&65280)+(255&ct[At+2])));return et.join("")}D["-".charCodeAt(0)]=62,D["_".charCodeAt(0)]=63},3841:(Ce,Bt)=>{"use strict";Bt.oU=function Ot(f){{const E=Buffer.from(f);E.reverse();const S=E.toString("hex");return 0===S.length?BigInt(0):BigInt(`0x${S}`)}},Bt.k$=function ut(f,E){{const S=f.toString(16),nt=Buffer.from(S.padStart(2*E,"0").slice(0,2*E),"hex");return nt.reverse(),nt}}},8538:function(Ce,Bt,wt){!function(D,Ot){"use strict";function Y(R,l){if(!R)throw new Error(l||"Assertion failed")}function ut(R,l){R.super_=l;var y=function(){};y.prototype=l.prototype,R.prototype=new y,R.prototype.constructor=R}function x(R,l,y){if(x.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,null!==R&&(("le"===l||"be"===l)&&(y=l,l=10),this._init(R||0,l||10,y||"be"))}var f;"object"==typeof D?D.exports=x:Ot.BN=x,x.BN=x,x.wordSize=26;try{f=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:wt(6601).Buffer}catch{}function E(R,l){var y=R.charCodeAt(l);return y>=48&&y<=57?y-48:y>=65&&y<=70?y-55:y>=97&&y<=102?y-87:void Y(!1,"Invalid character in "+R)}function S(R,l,y){var v=E(R,y);return y-1>=l&&(v|=E(R,y-1)<<4),v}function nt(R,l,y,v){for(var T=0,L=0,$=Math.min(R.length,y),W=l;W<$;W++){var M=R.charCodeAt(W)-48;T*=v,L=M>=49?M-49+10:M>=17?M-17+10:M,Y(M>=0&&L<v,"Invalid character"),T+=L}return T}function zt(R,l){R.words=l.words,R.length=l.length,R.negative=l.negative,R.red=l.red}if(x.isBN=function(l){return l instanceof x||null!==l&&"object"==typeof l&&l.constructor.wordSize===x.wordSize&&Array.isArray(l.words)},x.max=function(l,y){return l.cmp(y)>0?l:y},x.min=function(l,y){return l.cmp(y)<0?l:y},x.prototype._init=function(l,y,v){if("number"==typeof l)return this._initNumber(l,y,v);if("object"==typeof l)return this._initArray(l,y,v);"hex"===y&&(y=16),Y(y===(0|y)&&y>=2&&y<=36);var T=0;"-"===(l=l.toString().replace(/\s+/g,""))[0]&&(T++,this.negative=1),T<l.length&&(16===y?this._parseHex(l,T,v):(this._parseBase(l,y,T),"le"===v&&this._initArray(this.toArray(),y,v)))},x.prototype._initNumber=function(l,y,v){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[67108863&l],this.length=1):l<4503599627370496?(this.words=[67108863&l,l/67108864&67108863],this.length=2):(Y(l<9007199254740992),this.words=[67108863&l,l/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),y,v)},x.prototype._initArray=function(l,y,v){if(Y("number"==typeof l.length),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var L,$,W=0;if("be"===v)for(T=l.length-1,L=0;T>=0;T-=3)this.words[L]|=($=l[T]|l[T-1]<<8|l[T-2]<<16)<<W&67108863,this.words[L+1]=$>>>26-W&67108863,(W+=24)>=26&&(W-=26,L++);else if("le"===v)for(T=0,L=0;T<l.length;T+=3)this.words[L]|=($=l[T]|l[T+1]<<8|l[T+2]<<16)<<W&67108863,this.words[L+1]=$>>>26-W&67108863,(W+=24)>=26&&(W-=26,L++);return this._strip()},x.prototype._parseHex=function(l,y,v){this.length=Math.ceil((l.length-y)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var W,L=0,$=0;if("be"===v)for(T=l.length-1;T>=y;T-=2)W=S(l,y,T)<<L,this.words[$]|=67108863&W,L>=18?(L-=18,this.words[$+=1]|=W>>>26):L+=8;else for(T=(l.length-y)%2==0?y+1:y;T<l.length;T+=2)W=S(l,y,T)<<L,this.words[$]|=67108863&W,L>=18?(L-=18,this.words[$+=1]|=W>>>26):L+=8;this._strip()},x.prototype._parseBase=function(l,y,v){this.words=[0],this.length=1;for(var T=0,L=1;L<=67108863;L*=y)T++;T--,L=L/y|0;for(var $=l.length-v,W=$%T,M=Math.min($,$-W)+v,d=0,B=v;B<M;B+=T)d=nt(l,B,B+T,y),this.imuln(L),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==W){var k=1;for(d=nt(l,B,l.length,y),B=0;B<W;B++)k*=y;this.imuln(k),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},x.prototype.copy=function(l){l.words=new Array(this.length);for(var y=0;y<this.length;y++)l.words[y]=this.words[y];l.length=this.length,l.negative=this.negative,l.red=this.red},x.prototype._move=function(l){zt(l,this)},x.prototype.clone=function(){var l=new x(null);return this.copy(l),l},x.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},x.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},x.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{x.prototype[Symbol.for("nodejs.util.inspect.custom")]=Lt}catch{x.prototype.inspect=Lt}else x.prototype.inspect=Lt;function Lt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Dt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ct=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],tt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function et(R,l,y){y.negative=l.negative^R.negative;var v=R.length+l.length|0;y.length=v,v=v-1|0;var T=0|R.words[0],L=0|l.words[0],$=T*L,M=$/67108864|0;y.words[0]=67108863&$;for(var d=1;d<v;d++){for(var B=M>>>26,k=67108863&M,A=Math.min(d,l.length-1),N=Math.max(0,d-R.length+1);N<=A;N++)B+=($=(T=0|R.words[d-N|0])*(L=0|l.words[N])+k)/67108864|0,k=67108863&$;y.words[d]=0|k,M=0|B}return 0!==M?y.words[d]=0|M:y.length--,y._strip()}x.prototype.toString=function(l,y){var v;if(y=0|y||1,16===(l=l||10)||"hex"===l){v="";for(var T=0,L=0,$=0;$<this.length;$++){var W=this.words[$],M=(16777215&(W<<T|L)).toString(16);L=W>>>24-T&16777215,(T+=2)>=26&&(T-=26,$--),v=0!==L||$!==this.length-1?Dt[6-M.length]+M+v:M+v}for(0!==L&&(v=L.toString(16)+v);v.length%y!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(l===(0|l)&&l>=2&&l<=36){var d=ct[l],B=tt[l];v="";var k=this.clone();for(k.negative=0;!k.isZero();){var A=k.modrn(B).toString(l);v=(k=k.idivn(B)).isZero()?A+v:Dt[d-A.length]+A+v}for(this.isZero()&&(v="0"+v);v.length%y!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}Y(!1,"Base should be between 2 and 36")},x.prototype.toNumber=function(){var l=this.words[0];return 2===this.length?l+=67108864*this.words[1]:3===this.length&&1===this.words[2]?l+=4503599627370496+67108864*this.words[1]:this.length>2&&Y(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-l:l},x.prototype.toJSON=function(){return this.toString(16,2)},f&&(x.prototype.toBuffer=function(l,y){return this.toArrayLike(f,l,y)}),x.prototype.toArray=function(l,y){return this.toArrayLike(Array,l,y)},x.prototype.toArrayLike=function(l,y,v){this._strip();var T=this.byteLength(),L=v||Math.max(1,T);Y(T<=L,"byte array longer than desired length"),Y(L>0,"Requested array length <= 0");var $=function(l,y){return l.allocUnsafe?l.allocUnsafe(y):new l(y)}(l,L);return this["_toArrayLike"+("le"===y?"LE":"BE")]($,T),$},x.prototype._toArrayLikeLE=function(l,y){for(var v=0,T=0,L=0,$=0;L<this.length;L++){var W=this.words[L]<<$|T;l[v++]=255&W,v<l.length&&(l[v++]=W>>8&255),v<l.length&&(l[v++]=W>>16&255),6===$?(v<l.length&&(l[v++]=W>>24&255),T=0,$=0):(T=W>>>24,$+=2)}if(v<l.length)for(l[v++]=T;v<l.length;)l[v++]=0},x.prototype._toArrayLikeBE=function(l,y){for(var v=l.length-1,T=0,L=0,$=0;L<this.length;L++){var W=this.words[L]<<$|T;l[v--]=255&W,v>=0&&(l[v--]=W>>8&255),v>=0&&(l[v--]=W>>16&255),6===$?(v>=0&&(l[v--]=W>>24&255),T=0,$=0):(T=W>>>24,$+=2)}if(v>=0)for(l[v--]=T;v>=0;)l[v--]=0},x.prototype._countBits=Math.clz32?function(l){return 32-Math.clz32(l)}:function(l){var y=l,v=0;return y>=4096&&(v+=13,y>>>=13),y>=64&&(v+=7,y>>>=7),y>=8&&(v+=4,y>>>=4),y>=2&&(v+=2,y>>>=2),v+y},x.prototype._zeroBits=function(l){if(0===l)return 26;var y=l,v=0;return 8191&y||(v+=13,y>>>=13),127&y||(v+=7,y>>>=7),15&y||(v+=4,y>>>=4),3&y||(v+=2,y>>>=2),1&y||v++,v},x.prototype.bitLength=function(){var y=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+y},x.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,y=0;y<this.length;y++){var v=this._zeroBits(this.words[y]);if(l+=v,26!==v)break}return l},x.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},x.prototype.toTwos=function(l){return 0!==this.negative?this.abs().inotn(l).iaddn(1):this.clone()},x.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},x.prototype.isNeg=function(){return 0!==this.negative},x.prototype.neg=function(){return this.clone().ineg()},x.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},x.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var y=0;y<l.length;y++)this.words[y]=this.words[y]|l.words[y];return this._strip()},x.prototype.ior=function(l){return Y(0==(this.negative|l.negative)),this.iuor(l)},x.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},x.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},x.prototype.iuand=function(l){var y;y=this.length>l.length?l:this;for(var v=0;v<y.length;v++)this.words[v]=this.words[v]&l.words[v];return this.length=y.length,this._strip()},x.prototype.iand=function(l){return Y(0==(this.negative|l.negative)),this.iuand(l)},x.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},x.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},x.prototype.iuxor=function(l){var y,v;this.length>l.length?(y=this,v=l):(y=l,v=this);for(var T=0;T<v.length;T++)this.words[T]=y.words[T]^v.words[T];if(this!==y)for(;T<y.length;T++)this.words[T]=y.words[T];return this.length=y.length,this._strip()},x.prototype.ixor=function(l){return Y(0==(this.negative|l.negative)),this.iuxor(l)},x.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},x.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},x.prototype.inotn=function(l){Y("number"==typeof l&&l>=0);var y=0|Math.ceil(l/26),v=l%26;this._expand(y),v>0&&y--;for(var T=0;T<y;T++)this.words[T]=67108863&~this.words[T];return v>0&&(this.words[T]=~this.words[T]&67108863>>26-v),this._strip()},x.prototype.notn=function(l){return this.clone().inotn(l)},x.prototype.setn=function(l,y){Y("number"==typeof l&&l>=0);var v=l/26|0,T=l%26;return this._expand(v+1),this.words[v]=y?this.words[v]|1<<T:this.words[v]&~(1<<T),this._strip()},x.prototype.iadd=function(l){var y,v,T;if(0!==this.negative&&0===l.negative)return this.negative=0,y=this.isub(l),this.negative^=1,this._normSign();if(0===this.negative&&0!==l.negative)return l.negative=0,y=this.isub(l),l.negative=1,y._normSign();this.length>l.length?(v=this,T=l):(v=l,T=this);for(var L=0,$=0;$<T.length;$++)this.words[$]=67108863&(y=(0|v.words[$])+(0|T.words[$])+L),L=y>>>26;for(;0!==L&&$<v.length;$++)this.words[$]=67108863&(y=(0|v.words[$])+L),L=y>>>26;if(this.length=v.length,0!==L)this.words[this.length]=L,this.length++;else if(v!==this)for(;$<v.length;$++)this.words[$]=v.words[$];return this},x.prototype.add=function(l){var y;return 0!==l.negative&&0===this.negative?(l.negative=0,y=this.sub(l),l.negative^=1,y):0===l.negative&&0!==this.negative?(this.negative=0,y=l.sub(this),this.negative=1,y):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},x.prototype.isub=function(l){if(0!==l.negative){l.negative=0;var y=this.iadd(l);return l.negative=1,y._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var T,L,v=this.cmp(l);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(T=this,L=l):(T=l,L=this);for(var $=0,W=0;W<L.length;W++)$=(y=(0|T.words[W])-(0|L.words[W])+$)>>26,this.words[W]=67108863&y;for(;0!==$&&W<T.length;W++)$=(y=(0|T.words[W])+$)>>26,this.words[W]=67108863&y;if(0===$&&W<T.length&&T!==this)for(;W<T.length;W++)this.words[W]=T.words[W];return this.length=Math.max(this.length,W),T!==this&&(this.negative=1),this._strip()},x.prototype.sub=function(l){return this.clone().isub(l)};var At=function(l,y,v){var M,d,B,T=l.words,L=y.words,$=v.words,W=0,k=0|T[0],A=8191&k,N=k>>>13,V=0|T[1],Q=8191&V,Kt=V>>>13,ae=0|T[2],oe=8191&ae,ne=ae>>>13,Ae=0|T[3],fe=8191&Ae,C=Ae>>>13,m=0|T[4],w=8191&m,F=m>>>13,Z=0|T[5],it=8191&Z,ot=Z>>>13,Ht=0|T[6],jt=8191&Ht,Yt=Ht>>>13,ue=0|T[7],I=8191&ue,s=ue>>>13,n=0|T[8],r=8191&n,u=n>>>13,g=0|T[9],_=8191&g,O=g>>>13,ft=0|L[0],kt=8191&ft,_t=ft>>>13,Tt=0|L[1],Ct=8191&Tt,tn=Tt>>>13,ce=0|L[2],Ve=8191&ce,Ge=ce>>>13,An=0|L[3],ve=8191&An,je=An>>>13,li=0|L[4],en=8191&li,nn=li>>>13,Nr=0|L[5],rn=8191&Nr,on=Nr>>>13,hi=0|L[6],qe=8191&hi,Fe=hi>>>13,Dr=0|L[7],Me=8191&Dr,Oe=Dr>>>13,zr=0|L[8],Pe=8191&zr,We=zr>>>13,ur=0|L[9],Ie=8191&ur,Ke=ur>>>13;v.negative=l.negative^y.negative,v.length=19;var Rn=(W+(M=Math.imul(A,kt))|0)+((8191&(d=(d=Math.imul(A,_t))+Math.imul(N,kt)|0))<<13)|0;W=((B=Math.imul(N,_t))+(d>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,M=Math.imul(Q,kt),d=(d=Math.imul(Q,_t))+Math.imul(Kt,kt)|0,B=Math.imul(Kt,_t);var Mn=(W+(M=M+Math.imul(A,Ct)|0)|0)+((8191&(d=(d=d+Math.imul(A,tn)|0)+Math.imul(N,Ct)|0))<<13)|0;W=((B=B+Math.imul(N,tn)|0)+(d>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,M=Math.imul(oe,kt),d=(d=Math.imul(oe,_t))+Math.imul(ne,kt)|0,B=Math.imul(ne,_t),M=M+Math.imul(Q,Ct)|0,d=(d=d+Math.imul(Q,tn)|0)+Math.imul(Kt,Ct)|0,B=B+Math.imul(Kt,tn)|0;var On=(W+(M=M+Math.imul(A,Ve)|0)|0)+((8191&(d=(d=d+Math.imul(A,Ge)|0)+Math.imul(N,Ve)|0))<<13)|0;W=((B=B+Math.imul(N,Ge)|0)+(d>>>13)|0)+(On>>>26)|0,On&=67108863,M=Math.imul(fe,kt),d=(d=Math.imul(fe,_t))+Math.imul(C,kt)|0,B=Math.imul(C,_t),M=M+Math.imul(oe,Ct)|0,d=(d=d+Math.imul(oe,tn)|0)+Math.imul(ne,Ct)|0,B=B+Math.imul(ne,tn)|0,M=M+Math.imul(Q,Ve)|0,d=(d=d+Math.imul(Q,Ge)|0)+Math.imul(Kt,Ve)|0,B=B+Math.imul(Kt,Ge)|0;var Un=(W+(M=M+Math.imul(A,ve)|0)|0)+((8191&(d=(d=d+Math.imul(A,je)|0)+Math.imul(N,ve)|0))<<13)|0;W=((B=B+Math.imul(N,je)|0)+(d>>>13)|0)+(Un>>>26)|0,Un&=67108863,M=Math.imul(w,kt),d=(d=Math.imul(w,_t))+Math.imul(F,kt)|0,B=Math.imul(F,_t),M=M+Math.imul(fe,Ct)|0,d=(d=d+Math.imul(fe,tn)|0)+Math.imul(C,Ct)|0,B=B+Math.imul(C,tn)|0,M=M+Math.imul(oe,Ve)|0,d=(d=d+Math.imul(oe,Ge)|0)+Math.imul(ne,Ve)|0,B=B+Math.imul(ne,Ge)|0,M=M+Math.imul(Q,ve)|0,d=(d=d+Math.imul(Q,je)|0)+Math.imul(Kt,ve)|0,B=B+Math.imul(Kt,je)|0;var Wn=(W+(M=M+Math.imul(A,en)|0)|0)+((8191&(d=(d=d+Math.imul(A,nn)|0)+Math.imul(N,en)|0))<<13)|0;W=((B=B+Math.imul(N,nn)|0)+(d>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,M=Math.imul(it,kt),d=(d=Math.imul(it,_t))+Math.imul(ot,kt)|0,B=Math.imul(ot,_t),M=M+Math.imul(w,Ct)|0,d=(d=d+Math.imul(w,tn)|0)+Math.imul(F,Ct)|0,B=B+Math.imul(F,tn)|0,M=M+Math.imul(fe,Ve)|0,d=(d=d+Math.imul(fe,Ge)|0)+Math.imul(C,Ve)|0,B=B+Math.imul(C,Ge)|0,M=M+Math.imul(oe,ve)|0,d=(d=d+Math.imul(oe,je)|0)+Math.imul(ne,ve)|0,B=B+Math.imul(ne,je)|0,M=M+Math.imul(Q,en)|0,d=(d=d+Math.imul(Q,nn)|0)+Math.imul(Kt,en)|0,B=B+Math.imul(Kt,nn)|0;var br=(W+(M=M+Math.imul(A,rn)|0)|0)+((8191&(d=(d=d+Math.imul(A,on)|0)+Math.imul(N,rn)|0))<<13)|0;W=((B=B+Math.imul(N,on)|0)+(d>>>13)|0)+(br>>>26)|0,br&=67108863,M=Math.imul(jt,kt),d=(d=Math.imul(jt,_t))+Math.imul(Yt,kt)|0,B=Math.imul(Yt,_t),M=M+Math.imul(it,Ct)|0,d=(d=d+Math.imul(it,tn)|0)+Math.imul(ot,Ct)|0,B=B+Math.imul(ot,tn)|0,M=M+Math.imul(w,Ve)|0,d=(d=d+Math.imul(w,Ge)|0)+Math.imul(F,Ve)|0,B=B+Math.imul(F,Ge)|0,M=M+Math.imul(fe,ve)|0,d=(d=d+Math.imul(fe,je)|0)+Math.imul(C,ve)|0,B=B+Math.imul(C,je)|0,M=M+Math.imul(oe,en)|0,d=(d=d+Math.imul(oe,nn)|0)+Math.imul(ne,en)|0,B=B+Math.imul(ne,nn)|0,M=M+Math.imul(Q,rn)|0,d=(d=d+Math.imul(Q,on)|0)+Math.imul(Kt,rn)|0,B=B+Math.imul(Kt,on)|0;var $e=(W+(M=M+Math.imul(A,qe)|0)|0)+((8191&(d=(d=d+Math.imul(A,Fe)|0)+Math.imul(N,qe)|0))<<13)|0;W=((B=B+Math.imul(N,Fe)|0)+(d>>>13)|0)+($e>>>26)|0,$e&=67108863,M=Math.imul(I,kt),d=(d=Math.imul(I,_t))+Math.imul(s,kt)|0,B=Math.imul(s,_t),M=M+Math.imul(jt,Ct)|0,d=(d=d+Math.imul(jt,tn)|0)+Math.imul(Yt,Ct)|0,B=B+Math.imul(Yt,tn)|0,M=M+Math.imul(it,Ve)|0,d=(d=d+Math.imul(it,Ge)|0)+Math.imul(ot,Ve)|0,B=B+Math.imul(ot,Ge)|0,M=M+Math.imul(w,ve)|0,d=(d=d+Math.imul(w,je)|0)+Math.imul(F,ve)|0,B=B+Math.imul(F,je)|0,M=M+Math.imul(fe,en)|0,d=(d=d+Math.imul(fe,nn)|0)+Math.imul(C,en)|0,B=B+Math.imul(C,nn)|0,M=M+Math.imul(oe,rn)|0,d=(d=d+Math.imul(oe,on)|0)+Math.imul(ne,rn)|0,B=B+Math.imul(ne,on)|0,M=M+Math.imul(Q,qe)|0,d=(d=d+Math.imul(Q,Fe)|0)+Math.imul(Kt,qe)|0,B=B+Math.imul(Kt,Fe)|0;var Pn=(W+(M=M+Math.imul(A,Me)|0)|0)+((8191&(d=(d=d+Math.imul(A,Oe)|0)+Math.imul(N,Me)|0))<<13)|0;W=((B=B+Math.imul(N,Oe)|0)+(d>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,M=Math.imul(r,kt),d=(d=Math.imul(r,_t))+Math.imul(u,kt)|0,B=Math.imul(u,_t),M=M+Math.imul(I,Ct)|0,d=(d=d+Math.imul(I,tn)|0)+Math.imul(s,Ct)|0,B=B+Math.imul(s,tn)|0,M=M+Math.imul(jt,Ve)|0,d=(d=d+Math.imul(jt,Ge)|0)+Math.imul(Yt,Ve)|0,B=B+Math.imul(Yt,Ge)|0,M=M+Math.imul(it,ve)|0,d=(d=d+Math.imul(it,je)|0)+Math.imul(ot,ve)|0,B=B+Math.imul(ot,je)|0,M=M+Math.imul(w,en)|0,d=(d=d+Math.imul(w,nn)|0)+Math.imul(F,en)|0,B=B+Math.imul(F,nn)|0,M=M+Math.imul(fe,rn)|0,d=(d=d+Math.imul(fe,on)|0)+Math.imul(C,rn)|0,B=B+Math.imul(C,on)|0,M=M+Math.imul(oe,qe)|0,d=(d=d+Math.imul(oe,Fe)|0)+Math.imul(ne,qe)|0,B=B+Math.imul(ne,Fe)|0,M=M+Math.imul(Q,Me)|0,d=(d=d+Math.imul(Q,Oe)|0)+Math.imul(Kt,Me)|0,B=B+Math.imul(Kt,Oe)|0;var xr=(W+(M=M+Math.imul(A,Pe)|0)|0)+((8191&(d=(d=d+Math.imul(A,We)|0)+Math.imul(N,Pe)|0))<<13)|0;W=((B=B+Math.imul(N,We)|0)+(d>>>13)|0)+(xr>>>26)|0,xr&=67108863,M=Math.imul(_,kt),d=(d=Math.imul(_,_t))+Math.imul(O,kt)|0,B=Math.imul(O,_t),M=M+Math.imul(r,Ct)|0,d=(d=d+Math.imul(r,tn)|0)+Math.imul(u,Ct)|0,B=B+Math.imul(u,tn)|0,M=M+Math.imul(I,Ve)|0,d=(d=d+Math.imul(I,Ge)|0)+Math.imul(s,Ve)|0,B=B+Math.imul(s,Ge)|0,M=M+Math.imul(jt,ve)|0,d=(d=d+Math.imul(jt,je)|0)+Math.imul(Yt,ve)|0,B=B+Math.imul(Yt,je)|0,M=M+Math.imul(it,en)|0,d=(d=d+Math.imul(it,nn)|0)+Math.imul(ot,en)|0,B=B+Math.imul(ot,nn)|0,M=M+Math.imul(w,rn)|0,d=(d=d+Math.imul(w,on)|0)+Math.imul(F,rn)|0,B=B+Math.imul(F,on)|0,M=M+Math.imul(fe,qe)|0,d=(d=d+Math.imul(fe,Fe)|0)+Math.imul(C,qe)|0,B=B+Math.imul(C,Fe)|0,M=M+Math.imul(oe,Me)|0,d=(d=d+Math.imul(oe,Oe)|0)+Math.imul(ne,Me)|0,B=B+Math.imul(ne,Oe)|0,M=M+Math.imul(Q,Pe)|0,d=(d=d+Math.imul(Q,We)|0)+Math.imul(Kt,Pe)|0,B=B+Math.imul(Kt,We)|0;var _r=(W+(M=M+Math.imul(A,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(A,Ke)|0)+Math.imul(N,Ie)|0))<<13)|0;W=((B=B+Math.imul(N,Ke)|0)+(d>>>13)|0)+(_r>>>26)|0,_r&=67108863,M=Math.imul(_,Ct),d=(d=Math.imul(_,tn))+Math.imul(O,Ct)|0,B=Math.imul(O,tn),M=M+Math.imul(r,Ve)|0,d=(d=d+Math.imul(r,Ge)|0)+Math.imul(u,Ve)|0,B=B+Math.imul(u,Ge)|0,M=M+Math.imul(I,ve)|0,d=(d=d+Math.imul(I,je)|0)+Math.imul(s,ve)|0,B=B+Math.imul(s,je)|0,M=M+Math.imul(jt,en)|0,d=(d=d+Math.imul(jt,nn)|0)+Math.imul(Yt,en)|0,B=B+Math.imul(Yt,nn)|0,M=M+Math.imul(it,rn)|0,d=(d=d+Math.imul(it,on)|0)+Math.imul(ot,rn)|0,B=B+Math.imul(ot,on)|0,M=M+Math.imul(w,qe)|0,d=(d=d+Math.imul(w,Fe)|0)+Math.imul(F,qe)|0,B=B+Math.imul(F,Fe)|0,M=M+Math.imul(fe,Me)|0,d=(d=d+Math.imul(fe,Oe)|0)+Math.imul(C,Me)|0,B=B+Math.imul(C,Oe)|0,M=M+Math.imul(oe,Pe)|0,d=(d=d+Math.imul(oe,We)|0)+Math.imul(ne,Pe)|0,B=B+Math.imul(ne,We)|0;var kr=(W+(M=M+Math.imul(Q,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(Q,Ke)|0)+Math.imul(Kt,Ie)|0))<<13)|0;W=((B=B+Math.imul(Kt,Ke)|0)+(d>>>13)|0)+(kr>>>26)|0,kr&=67108863,M=Math.imul(_,Ve),d=(d=Math.imul(_,Ge))+Math.imul(O,Ve)|0,B=Math.imul(O,Ge),M=M+Math.imul(r,ve)|0,d=(d=d+Math.imul(r,je)|0)+Math.imul(u,ve)|0,B=B+Math.imul(u,je)|0,M=M+Math.imul(I,en)|0,d=(d=d+Math.imul(I,nn)|0)+Math.imul(s,en)|0,B=B+Math.imul(s,nn)|0,M=M+Math.imul(jt,rn)|0,d=(d=d+Math.imul(jt,on)|0)+Math.imul(Yt,rn)|0,B=B+Math.imul(Yt,on)|0,M=M+Math.imul(it,qe)|0,d=(d=d+Math.imul(it,Fe)|0)+Math.imul(ot,qe)|0,B=B+Math.imul(ot,Fe)|0,M=M+Math.imul(w,Me)|0,d=(d=d+Math.imul(w,Oe)|0)+Math.imul(F,Me)|0,B=B+Math.imul(F,Oe)|0,M=M+Math.imul(fe,Pe)|0,d=(d=d+Math.imul(fe,We)|0)+Math.imul(C,Pe)|0,B=B+Math.imul(C,We)|0;var Er=(W+(M=M+Math.imul(oe,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(oe,Ke)|0)+Math.imul(ne,Ie)|0))<<13)|0;W=((B=B+Math.imul(ne,Ke)|0)+(d>>>13)|0)+(Er>>>26)|0,Er&=67108863,M=Math.imul(_,ve),d=(d=Math.imul(_,je))+Math.imul(O,ve)|0,B=Math.imul(O,je),M=M+Math.imul(r,en)|0,d=(d=d+Math.imul(r,nn)|0)+Math.imul(u,en)|0,B=B+Math.imul(u,nn)|0,M=M+Math.imul(I,rn)|0,d=(d=d+Math.imul(I,on)|0)+Math.imul(s,rn)|0,B=B+Math.imul(s,on)|0,M=M+Math.imul(jt,qe)|0,d=(d=d+Math.imul(jt,Fe)|0)+Math.imul(Yt,qe)|0,B=B+Math.imul(Yt,Fe)|0,M=M+Math.imul(it,Me)|0,d=(d=d+Math.imul(it,Oe)|0)+Math.imul(ot,Me)|0,B=B+Math.imul(ot,Oe)|0,M=M+Math.imul(w,Pe)|0,d=(d=d+Math.imul(w,We)|0)+Math.imul(F,Pe)|0,B=B+Math.imul(F,We)|0;var Br=(W+(M=M+Math.imul(fe,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(fe,Ke)|0)+Math.imul(C,Ie)|0))<<13)|0;W=((B=B+Math.imul(C,Ke)|0)+(d>>>13)|0)+(Br>>>26)|0,Br&=67108863,M=Math.imul(_,en),d=(d=Math.imul(_,nn))+Math.imul(O,en)|0,B=Math.imul(O,nn),M=M+Math.imul(r,rn)|0,d=(d=d+Math.imul(r,on)|0)+Math.imul(u,rn)|0,B=B+Math.imul(u,on)|0,M=M+Math.imul(I,qe)|0,d=(d=d+Math.imul(I,Fe)|0)+Math.imul(s,qe)|0,B=B+Math.imul(s,Fe)|0,M=M+Math.imul(jt,Me)|0,d=(d=d+Math.imul(jt,Oe)|0)+Math.imul(Yt,Me)|0,B=B+Math.imul(Yt,Oe)|0,M=M+Math.imul(it,Pe)|0,d=(d=d+Math.imul(it,We)|0)+Math.imul(ot,Pe)|0,B=B+Math.imul(ot,We)|0;var Qn=(W+(M=M+Math.imul(w,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(w,Ke)|0)+Math.imul(F,Ie)|0))<<13)|0;W=((B=B+Math.imul(F,Ke)|0)+(d>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,M=Math.imul(_,rn),d=(d=Math.imul(_,on))+Math.imul(O,rn)|0,B=Math.imul(O,on),M=M+Math.imul(r,qe)|0,d=(d=d+Math.imul(r,Fe)|0)+Math.imul(u,qe)|0,B=B+Math.imul(u,Fe)|0,M=M+Math.imul(I,Me)|0,d=(d=d+Math.imul(I,Oe)|0)+Math.imul(s,Me)|0,B=B+Math.imul(s,Oe)|0,M=M+Math.imul(jt,Pe)|0,d=(d=d+Math.imul(jt,We)|0)+Math.imul(Yt,Pe)|0,B=B+Math.imul(Yt,We)|0;var tr=(W+(M=M+Math.imul(it,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(it,Ke)|0)+Math.imul(ot,Ie)|0))<<13)|0;W=((B=B+Math.imul(ot,Ke)|0)+(d>>>13)|0)+(tr>>>26)|0,tr&=67108863,M=Math.imul(_,qe),d=(d=Math.imul(_,Fe))+Math.imul(O,qe)|0,B=Math.imul(O,Fe),M=M+Math.imul(r,Me)|0,d=(d=d+Math.imul(r,Oe)|0)+Math.imul(u,Me)|0,B=B+Math.imul(u,Oe)|0,M=M+Math.imul(I,Pe)|0,d=(d=d+Math.imul(I,We)|0)+Math.imul(s,Pe)|0,B=B+Math.imul(s,We)|0;var lr=(W+(M=M+Math.imul(jt,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(jt,Ke)|0)+Math.imul(Yt,Ie)|0))<<13)|0;W=((B=B+Math.imul(Yt,Ke)|0)+(d>>>13)|0)+(lr>>>26)|0,lr&=67108863,M=Math.imul(_,Me),d=(d=Math.imul(_,Oe))+Math.imul(O,Me)|0,B=Math.imul(O,Oe),M=M+Math.imul(r,Pe)|0,d=(d=d+Math.imul(r,We)|0)+Math.imul(u,Pe)|0,B=B+Math.imul(u,We)|0;var hr=(W+(M=M+Math.imul(I,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(I,Ke)|0)+Math.imul(s,Ie)|0))<<13)|0;W=((B=B+Math.imul(s,Ke)|0)+(d>>>13)|0)+(hr>>>26)|0,hr&=67108863,M=Math.imul(_,Pe),d=(d=Math.imul(_,We))+Math.imul(O,Pe)|0,B=Math.imul(O,We);var Ir=(W+(M=M+Math.imul(r,Ie)|0)|0)+((8191&(d=(d=d+Math.imul(r,Ke)|0)+Math.imul(u,Ie)|0))<<13)|0;W=((B=B+Math.imul(u,Ke)|0)+(d>>>13)|0)+(Ir>>>26)|0,Ir&=67108863;var Ln=(W+(M=Math.imul(_,Ie))|0)+((8191&(d=(d=Math.imul(_,Ke))+Math.imul(O,Ie)|0))<<13)|0;return W=((B=Math.imul(O,Ke))+(d>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,$[0]=Rn,$[1]=Mn,$[2]=On,$[3]=Un,$[4]=Wn,$[5]=br,$[6]=$e,$[7]=Pn,$[8]=xr,$[9]=_r,$[10]=kr,$[11]=Er,$[12]=Br,$[13]=Qn,$[14]=tr,$[15]=lr,$[16]=hr,$[17]=Ir,$[18]=Ln,0!==W&&($[19]=W,v.length++),v};function bt(R,l,y){y.negative=l.negative^R.negative,y.length=R.length+l.length;for(var v=0,T=0,L=0;L<y.length-1;L++){var $=T;T=0;for(var W=67108863&v,M=Math.min(L,l.length-1),d=Math.max(0,L-R.length+1);d<=M;d++){var N=(0|R.words[L-d])*(0|l.words[d]),V=67108863&N;W=67108863&(V=V+W|0),T+=($=($=$+(N/67108864|0)|0)+(V>>>26)|0)>>>26,$&=67108863}y.words[L]=W,v=$,$=T}return 0!==v?y.words[L]=v:y.length--,y._strip()}function Ut(R,l,y){return bt(R,l,y)}function gt(R,l){this.x=R,this.y=l}Math.imul||(At=et),x.prototype.mulTo=function(l,y){var T=this.length+l.length;return 10===this.length&&10===l.length?At(this,l,y):T<63?et(this,l,y):T<1024?bt(this,l,y):Ut(this,l,y)},gt.prototype.makeRBT=function(l){for(var y=new Array(l),v=x.prototype._countBits(l)-1,T=0;T<l;T++)y[T]=this.revBin(T,v,l);return y},gt.prototype.revBin=function(l,y,v){if(0===l||l===v-1)return l;for(var T=0,L=0;L<y;L++)T|=(1&l)<<y-L-1,l>>=1;return T},gt.prototype.permute=function(l,y,v,T,L,$){for(var W=0;W<$;W++)T[W]=y[l[W]],L[W]=v[l[W]]},gt.prototype.transform=function(l,y,v,T,L,$){this.permute($,l,y,v,T,L);for(var W=1;W<L;W<<=1)for(var M=W<<1,d=Math.cos(2*Math.PI/M),B=Math.sin(2*Math.PI/M),k=0;k<L;k+=M)for(var A=d,N=B,V=0;V<W;V++){var Q=v[k+V],Kt=T[k+V],ae=v[k+V+W],oe=T[k+V+W],ne=A*ae-N*oe;oe=A*oe+N*ae,v[k+V]=Q+(ae=ne),T[k+V]=Kt+oe,v[k+V+W]=Q-ae,T[k+V+W]=Kt-oe,V!==M&&(ne=d*A-B*N,N=d*N+B*A,A=ne)}},gt.prototype.guessLen13b=function(l,y){var v=1|Math.max(y,l),T=1&v,L=0;for(v=v/2|0;v;v>>>=1)L++;return 1<<L+1+T},gt.prototype.conjugate=function(l,y,v){if(!(v<=1))for(var T=0;T<v/2;T++){var L=l[T];l[T]=l[v-T-1],l[v-T-1]=L,L=y[T],y[T]=-y[v-T-1],y[v-T-1]=-L}},gt.prototype.normalize13b=function(l,y){for(var v=0,T=0;T<y/2;T++){var L=8192*Math.round(l[2*T+1]/y)+Math.round(l[2*T]/y)+v;l[T]=67108863&L,v=L<67108864?0:L/67108864|0}return l},gt.prototype.convert13b=function(l,y,v,T){for(var L=0,$=0;$<y;$++)v[2*$]=8191&(L+=0|l[$]),v[2*$+1]=8191&(L>>>=13),L>>>=13;for($=2*y;$<T;++$)v[$]=0;Y(0===L),Y(0==(-8192&L))},gt.prototype.stub=function(l){for(var y=new Array(l),v=0;v<l;v++)y[v]=0;return y},gt.prototype.mulp=function(l,y,v){var T=2*this.guessLen13b(l.length,y.length),L=this.makeRBT(T),$=this.stub(T),W=new Array(T),M=new Array(T),d=new Array(T),B=new Array(T),k=new Array(T),A=new Array(T),N=v.words;N.length=T,this.convert13b(l.words,l.length,W,T),this.convert13b(y.words,y.length,B,T),this.transform(W,$,M,d,T,L),this.transform(B,$,k,A,T,L);for(var V=0;V<T;V++){var Q=M[V]*k[V]-d[V]*A[V];d[V]=M[V]*A[V]+d[V]*k[V],M[V]=Q}return this.conjugate(M,d,T),this.transform(M,d,N,$,T,L),this.conjugate(N,$,T),this.normalize13b(N,T),v.negative=l.negative^y.negative,v.length=l.length+y.length,v._strip()},x.prototype.mul=function(l){var y=new x(null);return y.words=new Array(this.length+l.length),this.mulTo(l,y)},x.prototype.mulf=function(l){var y=new x(null);return y.words=new Array(this.length+l.length),Ut(this,l,y)},x.prototype.imul=function(l){return this.clone().mulTo(l,this)},x.prototype.imuln=function(l){var y=l<0;y&&(l=-l),Y("number"==typeof l),Y(l<67108864);for(var v=0,T=0;T<this.length;T++){var L=(0|this.words[T])*l,$=(67108863&L)+(67108863&v);v>>=26,v+=L/67108864|0,v+=$>>>26,this.words[T]=67108863&$}return 0!==v&&(this.words[T]=v,this.length++),y?this.ineg():this},x.prototype.muln=function(l){return this.clone().imuln(l)},x.prototype.sqr=function(){return this.mul(this)},x.prototype.isqr=function(){return this.imul(this.clone())},x.prototype.pow=function(l){var y=function at(R){for(var l=new Array(R.bitLength()),y=0;y<l.length;y++)l[y]=R.words[y/26|0]>>>y%26&1;return l}(l);if(0===y.length)return new x(1);for(var v=this,T=0;T<y.length&&0===y[T];T++,v=v.sqr());if(++T<y.length)for(var L=v.sqr();T<y.length;T++,L=L.sqr())0!==y[T]&&(v=v.mul(L));return v},x.prototype.iushln=function(l){Y("number"==typeof l&&l>=0);var L,y=l%26,v=(l-y)/26,T=67108863>>>26-y<<26-y;if(0!==y){var $=0;for(L=0;L<this.length;L++){var W=this.words[L]&T;this.words[L]=(0|this.words[L])-W<<y|$,$=W>>>26-y}$&&(this.words[L]=$,this.length++)}if(0!==v){for(L=this.length-1;L>=0;L--)this.words[L+v]=this.words[L];for(L=0;L<v;L++)this.words[L]=0;this.length+=v}return this._strip()},x.prototype.ishln=function(l){return Y(0===this.negative),this.iushln(l)},x.prototype.iushrn=function(l,y,v){var T;Y("number"==typeof l&&l>=0),T=y?(y-y%26)/26:0;var L=l%26,$=Math.min((l-L)/26,this.length),W=67108863^67108863>>>L<<L,M=v;if(T-=$,T=Math.max(0,T),M){for(var d=0;d<$;d++)M.words[d]=this.words[d];M.length=$}if(0!==$)if(this.length>$)for(this.length-=$,d=0;d<this.length;d++)this.words[d]=this.words[d+$];else this.words[0]=0,this.length=1;var B=0;for(d=this.length-1;d>=0&&(0!==B||d>=T);d--){var k=0|this.words[d];this.words[d]=B<<26-L|k>>>L,B=k&W}return M&&0!==B&&(M.words[M.length++]=B),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},x.prototype.ishrn=function(l,y,v){return Y(0===this.negative),this.iushrn(l,y,v)},x.prototype.shln=function(l){return this.clone().ishln(l)},x.prototype.ushln=function(l){return this.clone().iushln(l)},x.prototype.shrn=function(l){return this.clone().ishrn(l)},x.prototype.ushrn=function(l){return this.clone().iushrn(l)},x.prototype.testn=function(l){Y("number"==typeof l&&l>=0);var y=l%26,v=(l-y)/26;return!(this.length<=v||!(this.words[v]&1<<y))},x.prototype.imaskn=function(l){Y("number"==typeof l&&l>=0);var y=l%26,v=(l-y)/26;return Y(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==y&&v++,this.length=Math.min(v,this.length),0!==y&&(this.words[this.length-1]&=67108863^67108863>>>y<<y),this._strip())},x.prototype.maskn=function(l){return this.clone().imaskn(l)},x.prototype.iaddn=function(l){return Y("number"==typeof l),Y(l<67108864),l<0?this.isubn(-l):0!==this.negative?1===this.length&&(0|this.words[0])<=l?(this.words[0]=l-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},x.prototype._iaddn=function(l){this.words[0]+=l;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},x.prototype.isubn=function(l){if(Y("number"==typeof l),Y(l<67108864),l<0)return this.iaddn(-l);if(0!==this.negative)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},x.prototype.addn=function(l){return this.clone().iaddn(l)},x.prototype.subn=function(l){return this.clone().isubn(l)},x.prototype.iabs=function(){return this.negative=0,this},x.prototype.abs=function(){return this.clone().iabs()},x.prototype._ishlnsubmul=function(l,y,v){var L;this._expand(l.length+v);var $,W=0;for(L=0;L<l.length;L++){$=(0|this.words[L+v])+W;var M=(0|l.words[L])*y;W=(($-=67108863&M)>>26)-(M/67108864|0),this.words[L+v]=67108863&$}for(;L<this.length-v;L++)W=($=(0|this.words[L+v])+W)>>26,this.words[L+v]=67108863&$;if(0===W)return this._strip();for(Y(-1===W),W=0,L=0;L<this.length;L++)W=($=-(0|this.words[L])+W)>>26,this.words[L]=67108863&$;return this.negative=1,this._strip()},x.prototype._wordDiv=function(l,y){var v,T=this.clone(),L=l,$=0|L.words[L.length-1];0!=(v=26-this._countBits($))&&(L=L.ushln(v),T.iushln(v),$=0|L.words[L.length-1]);var d,M=T.length-L.length;if("mod"!==y){(d=new x(null)).length=M+1,d.words=new Array(d.length);for(var B=0;B<d.length;B++)d.words[B]=0}var k=T.clone()._ishlnsubmul(L,1,M);0===k.negative&&(T=k,d&&(d.words[M]=1));for(var A=M-1;A>=0;A--){var N=67108864*(0|T.words[L.length+A])+(0|T.words[L.length+A-1]);for(N=Math.min(N/$|0,67108863),T._ishlnsubmul(L,N,A);0!==T.negative;)N--,T.negative=0,T._ishlnsubmul(L,1,A),T.isZero()||(T.negative^=1);d&&(d.words[A]=N)}return d&&d._strip(),T._strip(),"div"!==y&&0!==v&&T.iushrn(v),{div:d||null,mod:T}},x.prototype.divmod=function(l,y,v){return Y(!l.isZero()),this.isZero()?{div:new x(0),mod:new x(0)}:0!==this.negative&&0===l.negative?($=this.neg().divmod(l,y),"mod"!==y&&(T=$.div.neg()),"div"!==y&&(L=$.mod.neg(),v&&0!==L.negative&&L.iadd(l)),{div:T,mod:L}):0===this.negative&&0!==l.negative?($=this.divmod(l.neg(),y),"mod"!==y&&(T=$.div.neg()),{div:T,mod:$.mod}):this.negative&l.negative?($=this.neg().divmod(l.neg(),y),"div"!==y&&(L=$.mod.neg(),v&&0!==L.negative&&L.isub(l)),{div:$.div,mod:L}):l.length>this.length||this.cmp(l)<0?{div:new x(0),mod:this}:1===l.length?"div"===y?{div:this.divn(l.words[0]),mod:null}:"mod"===y?{div:null,mod:new x(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new x(this.modrn(l.words[0]))}:this._wordDiv(l,y);var T,L,$},x.prototype.div=function(l){return this.divmod(l,"div",!1).div},x.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},x.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},x.prototype.divRound=function(l){var y=this.divmod(l);if(y.mod.isZero())return y.div;var v=0!==y.div.negative?y.mod.isub(l):y.mod,T=l.ushrn(1),L=l.andln(1),$=v.cmp(T);return $<0||1===L&&0===$?y.div:0!==y.div.negative?y.div.isubn(1):y.div.iaddn(1)},x.prototype.modrn=function(l){var y=l<0;y&&(l=-l),Y(l<=67108863);for(var v=(1<<26)%l,T=0,L=this.length-1;L>=0;L--)T=(v*T+(0|this.words[L]))%l;return y?-T:T},x.prototype.modn=function(l){return this.modrn(l)},x.prototype.idivn=function(l){var y=l<0;y&&(l=-l),Y(l<=67108863);for(var v=0,T=this.length-1;T>=0;T--){var L=(0|this.words[T])+67108864*v;this.words[T]=L/l|0,v=L%l}return this._strip(),y?this.ineg():this},x.prototype.divn=function(l){return this.clone().idivn(l)},x.prototype.egcd=function(l){Y(0===l.negative),Y(!l.isZero());var y=this,v=l.clone();y=0!==y.negative?y.umod(l):y.clone();for(var T=new x(1),L=new x(0),$=new x(0),W=new x(1),M=0;y.isEven()&&v.isEven();)y.iushrn(1),v.iushrn(1),++M;for(var d=v.clone(),B=y.clone();!y.isZero();){for(var k=0,A=1;!(y.words[0]&A)&&k<26;++k,A<<=1);if(k>0)for(y.iushrn(k);k-- >0;)(T.isOdd()||L.isOdd())&&(T.iadd(d),L.isub(B)),T.iushrn(1),L.iushrn(1);for(var N=0,V=1;!(v.words[0]&V)&&N<26;++N,V<<=1);if(N>0)for(v.iushrn(N);N-- >0;)($.isOdd()||W.isOdd())&&($.iadd(d),W.isub(B)),$.iushrn(1),W.iushrn(1);y.cmp(v)>=0?(y.isub(v),T.isub($),L.isub(W)):(v.isub(y),$.isub(T),W.isub(L))}return{a:$,b:W,gcd:v.iushln(M)}},x.prototype._invmp=function(l){Y(0===l.negative),Y(!l.isZero());var k,y=this,v=l.clone();y=0!==y.negative?y.umod(l):y.clone();for(var T=new x(1),L=new x(0),$=v.clone();y.cmpn(1)>0&&v.cmpn(1)>0;){for(var W=0,M=1;!(y.words[0]&M)&&W<26;++W,M<<=1);if(W>0)for(y.iushrn(W);W-- >0;)T.isOdd()&&T.iadd($),T.iushrn(1);for(var d=0,B=1;!(v.words[0]&B)&&d<26;++d,B<<=1);if(d>0)for(v.iushrn(d);d-- >0;)L.isOdd()&&L.iadd($),L.iushrn(1);y.cmp(v)>=0?(y.isub(v),T.isub(L)):(v.isub(y),L.isub(T))}return(k=0===y.cmpn(1)?T:L).cmpn(0)<0&&k.iadd(l),k},x.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var y=this.clone(),v=l.clone();y.negative=0,v.negative=0;for(var T=0;y.isEven()&&v.isEven();T++)y.iushrn(1),v.iushrn(1);for(;;){for(;y.isEven();)y.iushrn(1);for(;v.isEven();)v.iushrn(1);var L=y.cmp(v);if(L<0){var $=y;y=v,v=$}else if(0===L||0===v.cmpn(1))break;y.isub(v)}return v.iushln(T)},x.prototype.invm=function(l){return this.egcd(l).a.umod(l)},x.prototype.isEven=function(){return 0==(1&this.words[0])},x.prototype.isOdd=function(){return 1==(1&this.words[0])},x.prototype.andln=function(l){return this.words[0]&l},x.prototype.bincn=function(l){Y("number"==typeof l);var y=l%26,v=(l-y)/26,T=1<<y;if(this.length<=v)return this._expand(v+1),this.words[v]|=T,this;for(var L=T,$=v;0!==L&&$<this.length;$++){var W=0|this.words[$];L=(W+=L)>>>26,this.words[$]=W&=67108863}return 0!==L&&(this.words[$]=L,this.length++),this},x.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},x.prototype.cmpn=function(l){var v,y=l<0;if(0!==this.negative&&!y)return-1;if(0===this.negative&&y)return 1;if(this._strip(),this.length>1)v=1;else{y&&(l=-l),Y(l<=67108863,"Number is too big");var T=0|this.words[0];v=T===l?0:T<l?-1:1}return 0!==this.negative?0|-v:v},x.prototype.cmp=function(l){if(0!==this.negative&&0===l.negative)return-1;if(0===this.negative&&0!==l.negative)return 1;var y=this.ucmp(l);return 0!==this.negative?0|-y:y},x.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var y=0,v=this.length-1;v>=0;v--){var T=0|this.words[v],L=0|l.words[v];if(T!==L){T<L?y=-1:T>L&&(y=1);break}}return y},x.prototype.gtn=function(l){return 1===this.cmpn(l)},x.prototype.gt=function(l){return 1===this.cmp(l)},x.prototype.gten=function(l){return this.cmpn(l)>=0},x.prototype.gte=function(l){return this.cmp(l)>=0},x.prototype.ltn=function(l){return-1===this.cmpn(l)},x.prototype.lt=function(l){return-1===this.cmp(l)},x.prototype.lten=function(l){return this.cmpn(l)<=0},x.prototype.lte=function(l){return this.cmp(l)<=0},x.prototype.eqn=function(l){return 0===this.cmpn(l)},x.prototype.eq=function(l){return 0===this.cmp(l)},x.red=function(l){return new lt(l)},x.prototype.toRed=function(l){return Y(!this.red,"Already a number in reduction context"),Y(0===this.negative,"red works only with positives"),l.convertTo(this)._forceRed(l)},x.prototype.fromRed=function(){return Y(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},x.prototype._forceRed=function(l){return this.red=l,this},x.prototype.forceRed=function(l){return Y(!this.red,"Already a number in reduction context"),this._forceRed(l)},x.prototype.redAdd=function(l){return Y(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},x.prototype.redIAdd=function(l){return Y(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},x.prototype.redSub=function(l){return Y(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},x.prototype.redISub=function(l){return Y(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},x.prototype.redShl=function(l){return Y(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},x.prototype.redMul=function(l){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},x.prototype.redIMul=function(l){return Y(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},x.prototype.redSqr=function(){return Y(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},x.prototype.redISqr=function(){return Y(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},x.prototype.redSqrt=function(){return Y(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},x.prototype.redInvm=function(){return Y(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},x.prototype.redNeg=function(){return Y(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},x.prototype.redPow=function(l){return Y(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var Pt={k256:null,p224:null,p192:null,p25519:null};function re(R,l){this.name=R,this.p=new x(l,16),this.n=this.p.bitLength(),this.k=new x(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Jt(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Be(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function xt(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function rt(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function lt(R){if("string"==typeof R){var l=x._prime(R);this.m=l.p,this.prime=l}else Y(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function yt(R){lt.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new x(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}re.prototype._tmp=function(){var l=new x(null);return l.words=new Array(Math.ceil(this.n/13)),l},re.prototype.ireduce=function(l){var v,y=l;do{this.split(y,this.tmp),v=(y=(y=this.imulK(y)).iadd(this.tmp)).bitLength()}while(v>this.n);var T=v<this.n?-1:y.ucmp(this.p);return 0===T?(y.words[0]=0,y.length=1):T>0?y.isub(this.p):void 0!==y.strip?y.strip():y._strip(),y},re.prototype.split=function(l,y){l.iushrn(this.n,0,y)},re.prototype.imulK=function(l){return l.imul(this.k)},ut(Jt,re),Jt.prototype.split=function(l,y){for(var v=4194303,T=Math.min(l.length,9),L=0;L<T;L++)y.words[L]=l.words[L];if(y.length=T,l.length<=9)return l.words[0]=0,void(l.length=1);var $=l.words[9];for(y.words[y.length++]=$&v,L=10;L<l.length;L++){var W=0|l.words[L];l.words[L-10]=(W&v)<<4|$>>>22,$=W}l.words[L-10]=$>>>=22,l.length-=0===$&&l.length>10?10:9},Jt.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var y=0,v=0;v<l.length;v++){var T=0|l.words[v];l.words[v]=67108863&(y+=977*T),y=64*T+(y/67108864|0)}return 0===l.words[l.length-1]&&(l.length--,0===l.words[l.length-1]&&l.length--),l},ut(Be,re),ut(xt,re),ut(rt,re),rt.prototype.imulK=function(l){for(var y=0,v=0;v<l.length;v++){var T=19*(0|l.words[v])+y,L=67108863&T;T>>>=26,l.words[v]=L,y=T}return 0!==y&&(l.words[l.length++]=y),l},x._prime=function(l){if(Pt[l])return Pt[l];var y;if("k256"===l)y=new Jt;else if("p224"===l)y=new Be;else if("p192"===l)y=new xt;else{if("p25519"!==l)throw new Error("Unknown prime "+l);y=new rt}return Pt[l]=y,y},lt.prototype._verify1=function(l){Y(0===l.negative,"red works only with positives"),Y(l.red,"red works only with red numbers")},lt.prototype._verify2=function(l,y){Y(0==(l.negative|y.negative),"red works only with positives"),Y(l.red&&l.red===y.red,"red works only with red numbers")},lt.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(zt(l,l.umod(this.m)._forceRed(this)),l)},lt.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},lt.prototype.add=function(l,y){this._verify2(l,y);var v=l.add(y);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},lt.prototype.iadd=function(l,y){this._verify2(l,y);var v=l.iadd(y);return v.cmp(this.m)>=0&&v.isub(this.m),v},lt.prototype.sub=function(l,y){this._verify2(l,y);var v=l.sub(y);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},lt.prototype.isub=function(l,y){this._verify2(l,y);var v=l.isub(y);return v.cmpn(0)<0&&v.iadd(this.m),v},lt.prototype.shl=function(l,y){return this._verify1(l),this.imod(l.ushln(y))},lt.prototype.imul=function(l,y){return this._verify2(l,y),this.imod(l.imul(y))},lt.prototype.mul=function(l,y){return this._verify2(l,y),this.imod(l.mul(y))},lt.prototype.isqr=function(l){return this.imul(l,l.clone())},lt.prototype.sqr=function(l){return this.mul(l,l)},lt.prototype.sqrt=function(l){if(l.isZero())return l.clone();var y=this.m.andln(3);if(Y(y%2==1),3===y){var v=this.m.add(new x(1)).iushrn(2);return this.pow(l,v)}for(var T=this.m.subn(1),L=0;!T.isZero()&&0===T.andln(1);)L++,T.iushrn(1);Y(!T.isZero());var $=new x(1).toRed(this),W=$.redNeg(),M=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new x(2*d*d).toRed(this);0!==this.pow(d,M).cmp(W);)d.redIAdd(W);for(var B=this.pow(d,T),k=this.pow(l,T.addn(1).iushrn(1)),A=this.pow(l,T),N=L;0!==A.cmp($);){for(var V=A,Q=0;0!==V.cmp($);Q++)V=V.redSqr();Y(Q<N);var Kt=this.pow(B,new x(1).iushln(N-Q-1));k=k.redMul(Kt),B=Kt.redSqr(),A=A.redMul(B),N=Q}return k},lt.prototype.invm=function(l){var y=l._invmp(this.m);return 0!==y.negative?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},lt.prototype.pow=function(l,y){if(y.isZero())return new x(1).toRed(this);if(0===y.cmpn(1))return l.clone();var T=new Array(16);T[0]=new x(1).toRed(this),T[1]=l;for(var L=2;L<T.length;L++)T[L]=this.mul(T[L-1],l);var $=T[0],W=0,M=0,d=y.bitLength()%26;for(0===d&&(d=26),L=y.length-1;L>=0;L--){for(var B=y.words[L],k=d-1;k>=0;k--){var A=B>>k&1;$!==T[0]&&($=this.sqr($)),0!==A||0!==W?(W<<=1,W|=A,(4==++M||0===L&&0===k)&&($=this.mul($,T[W]),M=0,W=0)):M=0}d=26}return $},lt.prototype.convertTo=function(l){var y=l.umod(this.m);return y===l?y.clone():y},lt.prototype.convertFrom=function(l){var y=l.clone();return y.red=null,y},x.mont=function(l){return new yt(l)},ut(yt,lt),yt.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},yt.prototype.convertFrom=function(l){var y=this.imod(l.mul(this.rinv));return y.red=null,y},yt.prototype.imul=function(l,y){if(l.isZero()||y.isZero())return l.words[0]=0,l.length=1,l;var v=l.imul(y),T=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=v.isub(T).iushrn(this.shift),$=L;return L.cmp(this.m)>=0?$=L.isub(this.m):L.cmpn(0)<0&&($=L.iadd(this.m)),$._forceRed(this)},yt.prototype.mul=function(l,y){if(l.isZero()||y.isZero())return new x(0)._forceRed(this);var v=l.mul(y),T=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=v.isub(T).iushrn(this.shift),$=L;return L.cmp(this.m)>=0?$=L.isub(this.m):L.cmpn(0)<0&&($=L.iadd(this.m)),$._forceRed(this)},yt.prototype.invm=function(l){return this.imod(l._invmp(this.m).mul(this.r2))._forceRed(this)}}(Ce=wt.nmd(Ce),this)},1531:function(Ce,Bt,wt){"use strict";var D=this&&this.__createBinding||(Object.create?function(xt,rt,lt,yt){void 0===yt&&(yt=lt),Object.defineProperty(xt,yt,{enumerable:!0,get:function(){return rt[lt]}})}:function(xt,rt,lt,yt){void 0===yt&&(yt=lt),xt[yt]=rt[lt]}),Ot=this&&this.__setModuleDefault||(Object.create?function(xt,rt){Object.defineProperty(xt,"default",{enumerable:!0,value:rt})}:function(xt,rt){xt.default=rt}),Y=this&&this.__decorate||function(xt,rt,lt,yt){var y,R=arguments.length,l=R<3?rt:null===yt?yt=Object.getOwnPropertyDescriptor(rt,lt):yt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(xt,rt,lt,yt);else for(var v=xt.length-1;v>=0;v--)(y=xt[v])&&(l=(R<3?y(l):R>3?y(rt,lt,l):y(rt,lt))||l);return R>3&&l&&Object.defineProperty(rt,lt,l),l},ut=this&&this.__importStar||function(xt){if(xt&&xt.__esModule)return xt;var rt={};if(null!=xt)for(var lt in xt)"default"!==lt&&Object.hasOwnProperty.call(xt,lt)&&D(rt,xt,lt);return Ot(rt,xt),rt},x=this&&this.__importDefault||function(xt){return xt&&xt.__esModule?xt:{default:xt}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.deserializeUnchecked=Bt.deserialize=Bt.serialize=Bt.BinaryReader=Bt.BinaryWriter=Bt.BorshError=Bt.baseDecode=Bt.baseEncode=void 0;const f=x(wt(8538)),E=x(wt(129)),S=ut(wt(2949)),zt=new("function"!=typeof TextDecoder?S.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Bt.baseEncode=function Lt(xt){return"string"==typeof xt&&(xt=Buffer.from(xt,"utf8")),E.default.encode(Buffer.from(xt))},Bt.baseDecode=function Dt(xt){return Buffer.from(E.default.decode(xt))};class tt extends Error{constructor(rt){super(rt),this.fieldPath=[],this.originalMessage=rt}addToFieldPath(rt){this.fieldPath.splice(0,0,rt),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Bt.BorshError=tt;class qt{constructor(){this.buf=Buffer.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(1024)]))}writeU8(rt){this.maybeResize(),this.buf.writeUInt8(rt,this.length),this.length+=1}writeU16(rt){this.maybeResize(),this.buf.writeUInt16LE(rt,this.length),this.length+=2}writeU32(rt){this.maybeResize(),this.buf.writeUInt32LE(rt,this.length),this.length+=4}writeU64(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",8)))}writeU128(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",16)))}writeU256(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",32)))}writeU512(rt){this.maybeResize(),this.writeBuffer(Buffer.from(new f.default(rt).toArray("le",64)))}writeBuffer(rt){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),rt,Buffer.alloc(1024)]),this.length+=rt.length}writeString(rt){this.maybeResize();const lt=Buffer.from(rt,"utf8");this.writeU32(lt.length),this.writeBuffer(lt)}writeFixedArray(rt){this.writeBuffer(Buffer.from(rt))}writeArray(rt,lt){this.maybeResize(),this.writeU32(rt.length);for(const yt of rt)this.maybeResize(),lt(yt)}toArray(){return this.buf.subarray(0,this.length)}}function at(xt,rt,lt){const yt=lt.value;lt.value=function(...R){try{return yt.apply(this,R)}catch(l){if(l instanceof RangeError&&["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(l.code)>=0)throw new tt("Reached the end of buffer when deserializing");throw l}}}Bt.BinaryWriter=qt;class et{constructor(rt){this.buf=rt,this.offset=0}readU8(){const rt=this.buf.readUInt8(this.offset);return this.offset+=1,rt}readU16(){const rt=this.buf.readUInt16LE(this.offset);return this.offset+=2,rt}readU32(){const rt=this.buf.readUInt32LE(this.offset);return this.offset+=4,rt}readU64(){const rt=this.readBuffer(8);return new f.default(rt,"le")}readU128(){const rt=this.readBuffer(16);return new f.default(rt,"le")}readU256(){const rt=this.readBuffer(32);return new f.default(rt,"le")}readU512(){const rt=this.readBuffer(64);return new f.default(rt,"le")}readBuffer(rt){if(this.offset+rt>this.buf.length)throw new tt(`Expected buffer length ${rt} isn't within bounds`);const lt=this.buf.slice(this.offset,this.offset+rt);return this.offset+=rt,lt}readString(){const rt=this.readU32(),lt=this.readBuffer(rt);try{return zt.decode(lt)}catch(yt){throw new tt(`Error decoding UTF-8 string: ${yt}`)}}readFixedArray(rt){return new Uint8Array(this.readBuffer(rt))}readArray(rt){const lt=this.readU32(),yt=Array();for(let R=0;R<lt;++R)yt.push(rt());return yt}}function At(xt){return xt.charAt(0).toUpperCase()+xt.slice(1)}function bt(xt,rt,lt,yt,R){try{if("string"==typeof yt)R[`write${At(yt)}`](lt);else if(yt instanceof Array)if("number"==typeof yt[0]){if(lt.length!==yt[0])throw new tt(`Expecting byte array of length ${yt[0]}, but got ${lt.length} bytes`);R.writeFixedArray(lt)}else if(2===yt.length&&"number"==typeof yt[1]){if(lt.length!==yt[1])throw new tt(`Expecting byte array of length ${yt[1]}, but got ${lt.length} bytes`);for(let l=0;l<yt[1];l++)bt(xt,null,lt[l],yt[0],R)}else R.writeArray(lt,l=>{bt(xt,rt,l,yt[0],R)});else if(void 0!==yt.kind)switch(yt.kind){case"option":null==lt?R.writeU8(0):(R.writeU8(1),bt(xt,rt,lt,yt.type,R));break;case"map":R.writeU32(lt.size),lt.forEach((l,y)=>{bt(xt,rt,y,yt.key,R),bt(xt,rt,l,yt.value,R)});break;default:throw new tt(`FieldType ${yt} unrecognized`)}else Ut(xt,lt,R)}catch(l){throw l instanceof tt&&l.addToFieldPath(rt),l}}function Ut(xt,rt,lt){if("function"==typeof rt.borshSerialize)return void rt.borshSerialize(lt);const yt=xt.get(rt.constructor);if(!yt)throw new tt(`Class ${rt.constructor.name} is missing in schema`);if("struct"===yt.kind)yt.fields.map(([R,l])=>{bt(xt,R,rt[R],l,lt)});else{if("enum"!==yt.kind)throw new tt(`Unexpected schema kind: ${yt.kind} for ${rt.constructor.name}`);{const R=rt[yt.field];for(let l=0;l<yt.values.length;++l){const[y,v]=yt.values[l];if(y===R){lt.writeU8(l),bt(xt,y,rt[y],v,lt);break}}}}}function Pt(xt,rt,lt,yt){try{if("string"==typeof lt)return yt[`read${At(lt)}`]();if(lt instanceof Array){if("number"==typeof lt[0])return yt.readFixedArray(lt[0]);if("number"==typeof lt[1]){const R=[];for(let l=0;l<lt[1];l++)R.push(Pt(xt,null,lt[0],yt));return R}return yt.readArray(()=>Pt(xt,rt,lt[0],yt))}if("option"===lt.kind)return yt.readU8()?Pt(xt,rt,lt.type,yt):void 0;if("map"===lt.kind){let R=new Map;const l=yt.readU32();for(let y=0;y<l;y++){const v=Pt(xt,rt,lt.key,yt),T=Pt(xt,rt,lt.value,yt);R.set(v,T)}return R}return re(xt,lt,yt)}catch(R){throw R instanceof tt&&R.addToFieldPath(rt),R}}function re(xt,rt,lt){if("function"==typeof rt.borshDeserialize)return rt.borshDeserialize(lt);const yt=xt.get(rt);if(!yt)throw new tt(`Class ${rt.name} is missing in schema`);if("struct"===yt.kind){const R={};for(const[l,y]of xt.get(rt).fields)R[l]=Pt(xt,l,y,lt);return new rt(R)}if("enum"===yt.kind){const R=lt.readU8();if(R>=yt.values.length)throw new tt(`Enum index: ${R} is out of range`);const[l,y]=yt.values[R];return new rt({[l]:Pt(xt,l,y,lt)})}throw new tt(`Unexpected schema kind: ${yt.kind} for ${rt.constructor.name}`)}Y([at],et.prototype,"readU8",null),Y([at],et.prototype,"readU16",null),Y([at],et.prototype,"readU32",null),Y([at],et.prototype,"readU64",null),Y([at],et.prototype,"readU128",null),Y([at],et.prototype,"readU256",null),Y([at],et.prototype,"readU512",null),Y([at],et.prototype,"readString",null),Y([at],et.prototype,"readFixedArray",null),Y([at],et.prototype,"readArray",null),Bt.BinaryReader=et,Bt.serialize=function gt(xt,rt,lt=qt){const yt=new lt;return Ut(xt,rt,yt),yt.toArray()},Bt.deserialize=function Jt(xt,rt,lt,yt=et){const R=new yt(lt),l=re(xt,rt,R);if(R.offset<lt.length)throw new tt(`Unexpected ${lt.length-R.offset} bytes after deserialized data`);return l},Bt.deserializeUnchecked=function Be(xt,rt,lt,yt=et){return re(xt,rt,new yt(lt))}},129:(Ce,Bt,wt)=>{var D=wt(1082);Ce.exports=D("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3172:(Ce,Bt,wt)=>{"use strict";var D=wt(5343),Ot=wt(8461),Y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.Buffer=E,Bt.SlowBuffer=function At(C){return+C!=C&&(C=0),E.alloc(+C)},Bt.INSPECT_MAX_BYTES=50;var ut=2147483647;function f(C){if(C>ut)throw new RangeError('The value "'+C+'" is invalid for option "size"');var m=new Uint8Array(C);return Object.setPrototypeOf(m,E.prototype),m}function E(C,m,w){if("number"==typeof C){if("string"==typeof m)throw new TypeError('The "string" argument must be of type string. Received type number');return Lt(C)}return S(C,m,w)}function S(C,m,w){if("string"==typeof C)return function Dt(C,m){if(("string"!=typeof m||""===m)&&(m="utf8"),!E.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var w=0|bt(C,m),F=f(w),Z=F.write(C,m);return Z!==w&&(F=F.slice(0,Z)),F}(C,m);if(ArrayBuffer.isView(C))return function tt(C){if(ne(C,Uint8Array)){var m=new Uint8Array(C);return qt(m.buffer,m.byteOffset,m.byteLength)}return ct(C)}(C);if(null==C)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(ne(C,ArrayBuffer)||C&&ne(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(C,SharedArrayBuffer)||C&&ne(C.buffer,SharedArrayBuffer)))return qt(C,m,w);if("number"==typeof C)throw new TypeError('The "value" argument must not be of type number. Received type number');var F=C.valueOf&&C.valueOf();if(null!=F&&F!==C)return E.from(F,m,w);var Z=function at(C){if(E.isBuffer(C)){var m=0|et(C.length),w=f(m);return 0===w.length||C.copy(w,0,0,m),w}return void 0!==C.length?"number"!=typeof C.length||Ae(C.length)?f(0):ct(C):"Buffer"===C.type&&Array.isArray(C.data)?ct(C.data):void 0}(C);if(Z)return Z;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof C[Symbol.toPrimitive])return E.from(C[Symbol.toPrimitive]("string"),m,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}function nt(C){if("number"!=typeof C)throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function Lt(C){return nt(C),f(C<0?0:0|et(C))}function ct(C){for(var m=C.length<0?0:0|et(C.length),w=f(m),F=0;F<m;F+=1)w[F]=255&C[F];return w}function qt(C,m,w){if(m<0||C.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<m+(w||0))throw new RangeError('"length" is outside of buffer bounds');var F;return F=void 0===m&&void 0===w?new Uint8Array(C):void 0===w?new Uint8Array(C,m):new Uint8Array(C,m,w),Object.setPrototypeOf(F,E.prototype),F}function et(C){if(C>=ut)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ut.toString(16)+" bytes");return 0|C}function bt(C,m){if(E.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||ne(C,ArrayBuffer))return C.byteLength;if("string"!=typeof C)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var w=C.length,F=arguments.length>2&&!0===arguments[2];if(!F&&0===w)return 0;for(var Z=!1;;)switch(m){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return V(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*w;case"hex":return w>>>1;case"base64":return ae(C).length;default:if(Z)return F?-1:V(C).length;m=(""+m).toLowerCase(),Z=!0}}function Ut(C,m,w){var F=!1;if((void 0===m||m<0)&&(m=0),m>this.length||((void 0===w||w>this.length)&&(w=this.length),w<=0)||(w>>>=0)<=(m>>>=0))return"";for(C||(C="utf8");;)switch(C){case"hex":return L(this,m,w);case"utf8":case"utf-8":return R(this,m,w);case"ascii":return v(this,m,w);case"latin1":case"binary":return T(this,m,w);case"base64":return yt(this,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,m,w);default:if(F)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),F=!0}}function gt(C,m,w){var F=C[m];C[m]=C[w],C[w]=F}function Pt(C,m,w,F,Z){if(0===C.length)return-1;if("string"==typeof w?(F=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),Ae(w=+w)&&(w=Z?0:C.length-1),w<0&&(w=C.length+w),w>=C.length){if(Z)return-1;w=C.length-1}else if(w<0){if(!Z)return-1;w=0}if("string"==typeof m&&(m=E.from(m,F)),E.isBuffer(m))return 0===m.length?-1:re(C,m,w,F,Z);if("number"==typeof m)return m&=255,"function"==typeof Uint8Array.prototype.indexOf?Z?Uint8Array.prototype.indexOf.call(C,m,w):Uint8Array.prototype.lastIndexOf.call(C,m,w):re(C,[m],w,F,Z);throw new TypeError("val must be string, number or Buffer")}function re(C,m,w,F,Z){var Yt,it=1,ot=C.length,Ht=m.length;if(void 0!==F&&("ucs2"===(F=String(F).toLowerCase())||"ucs-2"===F||"utf16le"===F||"utf-16le"===F)){if(C.length<2||m.length<2)return-1;it=2,ot/=2,Ht/=2,w/=2}function jt(n,r){return 1===it?n[r]:n.readUInt16BE(r*it)}if(Z){var ue=-1;for(Yt=w;Yt<ot;Yt++)if(jt(C,Yt)===jt(m,-1===ue?0:Yt-ue)){if(-1===ue&&(ue=Yt),Yt-ue+1===Ht)return ue*it}else-1!==ue&&(Yt-=Yt-ue),ue=-1}else for(w+Ht>ot&&(w=ot-Ht),Yt=w;Yt>=0;Yt--){for(var I=!0,s=0;s<Ht;s++)if(jt(C,Yt+s)!==jt(m,s)){I=!1;break}if(I)return Yt}return-1}function Jt(C,m,w,F){w=Number(w)||0;var Z=C.length-w;F?(F=Number(F))>Z&&(F=Z):F=Z;var it=m.length;F>it/2&&(F=it/2);for(var ot=0;ot<F;++ot){var Ht=parseInt(m.substr(2*ot,2),16);if(Ae(Ht))return ot;C[w+ot]=Ht}return ot}function Be(C,m,w,F){return oe(V(m,C.length-w),C,w,F)}function xt(C,m,w,F){return oe(function Q(C){for(var m=[],w=0;w<C.length;++w)m.push(255&C.charCodeAt(w));return m}(m),C,w,F)}function rt(C,m,w,F){return oe(ae(m),C,w,F)}function lt(C,m,w,F){return oe(function Kt(C,m){for(var w,F,it=[],ot=0;ot<C.length&&!((m-=2)<0);++ot)F=(w=C.charCodeAt(ot))>>8,it.push(w%256),it.push(F);return it}(m,C.length-w),C,w,F)}function yt(C,m,w){return D.fromByteArray(0===m&&w===C.length?C:C.slice(m,w))}function R(C,m,w){w=Math.min(C.length,w);for(var F=[],Z=m;Z<w;){var jt,Yt,ue,I,it=C[Z],ot=null,Ht=it>239?4:it>223?3:it>191?2:1;if(Z+Ht<=w)switch(Ht){case 1:it<128&&(ot=it);break;case 2:128==(192&(jt=C[Z+1]))&&(I=(31&it)<<6|63&jt)>127&&(ot=I);break;case 3:Yt=C[Z+2],128==(192&(jt=C[Z+1]))&&128==(192&Yt)&&(I=(15&it)<<12|(63&jt)<<6|63&Yt)>2047&&(I<55296||I>57343)&&(ot=I);break;case 4:Yt=C[Z+2],ue=C[Z+3],128==(192&(jt=C[Z+1]))&&128==(192&Yt)&&128==(192&ue)&&(I=(15&it)<<18|(63&jt)<<12|(63&Yt)<<6|63&ue)>65535&&I<1114112&&(ot=I)}null===ot?(ot=65533,Ht=1):ot>65535&&(F.push((ot-=65536)>>>10&1023|55296),ot=56320|1023&ot),F.push(ot),Z+=Ht}return function y(C){var m=C.length;if(m<=l)return String.fromCharCode.apply(String,C);for(var w="",F=0;F<m;)w+=String.fromCharCode.apply(String,C.slice(F,F+=l));return w}(F)}Bt.kMaxLength=ut,!(E.TYPED_ARRAY_SUPPORT=function x(){try{var C=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(C,m),42===C.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}}),E.poolSize=8192,E.from=function(C,m,w){return S(C,m,w)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array),E.alloc=function(C,m,w){return function zt(C,m,w){return nt(C),C<=0?f(C):void 0!==m?"string"==typeof w?f(C).fill(m,w):f(C).fill(m):f(C)}(C,m,w)},E.allocUnsafe=function(C){return Lt(C)},E.allocUnsafeSlow=function(C){return Lt(C)},E.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==E.prototype},E.compare=function(m,w){if(ne(m,Uint8Array)&&(m=E.from(m,m.offset,m.byteLength)),ne(w,Uint8Array)&&(w=E.from(w,w.offset,w.byteLength)),!E.isBuffer(m)||!E.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===w)return 0;for(var F=m.length,Z=w.length,it=0,ot=Math.min(F,Z);it<ot;++it)if(m[it]!==w[it]){F=m[it],Z=w[it];break}return F<Z?-1:Z<F?1:0},E.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(m,w){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return E.alloc(0);var F;if(void 0===w)for(w=0,F=0;F<m.length;++F)w+=m[F].length;var Z=E.allocUnsafe(w),it=0;for(F=0;F<m.length;++F){var ot=m[F];if(ne(ot,Uint8Array))it+ot.length>Z.length?E.from(ot).copy(Z,it):Uint8Array.prototype.set.call(Z,ot,it);else{if(!E.isBuffer(ot))throw new TypeError('"list" argument must be an Array of Buffers');ot.copy(Z,it)}it+=ot.length}return Z},E.byteLength=bt,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var m=this.length;if(m%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<m;w+=2)gt(this,w,w+1);return this},E.prototype.swap32=function(){var m=this.length;if(m%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<m;w+=4)gt(this,w,w+3),gt(this,w+1,w+2);return this},E.prototype.swap64=function(){var m=this.length;if(m%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<m;w+=8)gt(this,w,w+7),gt(this,w+1,w+6),gt(this,w+2,w+5),gt(this,w+3,w+4);return this},E.prototype.toLocaleString=E.prototype.toString=function(){var m=this.length;return 0===m?"":0===arguments.length?R(this,0,m):Ut.apply(this,arguments)},E.prototype.equals=function(m){if(!E.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m||0===E.compare(this,m)},E.prototype.inspect=function(){var m="",w=Bt.INSPECT_MAX_BYTES;return m=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(m+=" ... "),"<Buffer "+m+">"},Y&&(E.prototype[Y]=E.prototype.inspect),E.prototype.compare=function(m,w,F,Z,it){if(ne(m,Uint8Array)&&(m=E.from(m,m.offset,m.byteLength)),!E.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(void 0===w&&(w=0),void 0===F&&(F=m?m.length:0),void 0===Z&&(Z=0),void 0===it&&(it=this.length),w<0||F>m.length||Z<0||it>this.length)throw new RangeError("out of range index");if(Z>=it&&w>=F)return 0;if(Z>=it)return-1;if(w>=F)return 1;if(this===m)return 0;for(var ot=(it>>>=0)-(Z>>>=0),Ht=(F>>>=0)-(w>>>=0),jt=Math.min(ot,Ht),Yt=this.slice(Z,it),ue=m.slice(w,F),I=0;I<jt;++I)if(Yt[I]!==ue[I]){ot=Yt[I],Ht=ue[I];break}return ot<Ht?-1:Ht<ot?1:0},E.prototype.includes=function(m,w,F){return-1!==this.indexOf(m,w,F)},E.prototype.indexOf=function(m,w,F){return Pt(this,m,w,F,!0)},E.prototype.lastIndexOf=function(m,w,F){return Pt(this,m,w,F,!1)},E.prototype.write=function(m,w,F,Z){if(void 0===w)Z="utf8",F=this.length,w=0;else if(void 0===F&&"string"==typeof w)Z=w,F=this.length,w=0;else{if(!isFinite(w))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");w>>>=0,isFinite(F)?(F>>>=0,void 0===Z&&(Z="utf8")):(Z=F,F=void 0)}var it=this.length-w;if((void 0===F||F>it)&&(F=it),m.length>0&&(F<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ot=!1;;)switch(Z){case"hex":return Jt(this,m,w,F);case"utf8":case"utf-8":return Be(this,m,w,F);case"ascii":case"latin1":case"binary":return xt(this,m,w,F);case"base64":return rt(this,m,w,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,m,w,F);default:if(ot)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ot=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var l=4096;function v(C,m,w){var F="";w=Math.min(C.length,w);for(var Z=m;Z<w;++Z)F+=String.fromCharCode(127&C[Z]);return F}function T(C,m,w){var F="";w=Math.min(C.length,w);for(var Z=m;Z<w;++Z)F+=String.fromCharCode(C[Z]);return F}function L(C,m,w){var F=C.length;(!m||m<0)&&(m=0),(!w||w<0||w>F)&&(w=F);for(var Z="",it=m;it<w;++it)Z+=fe[C[it]];return Z}function $(C,m,w){for(var F=C.slice(m,w),Z="",it=0;it<F.length-1;it+=2)Z+=String.fromCharCode(F[it]+256*F[it+1]);return Z}function W(C,m,w){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(C+m>w)throw new RangeError("Trying to access beyond buffer length")}function M(C,m,w,F,Z,it){if(!E.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>Z||m<it)throw new RangeError('"value" argument is out of bounds');if(w+F>C.length)throw new RangeError("Index out of range")}function d(C,m,w,F,Z,it){if(w+F>C.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function B(C,m,w,F,Z){return m=+m,w>>>=0,Z||d(C,0,w,4),Ot.write(C,m,w,F,23,4),w+4}function k(C,m,w,F,Z){return m=+m,w>>>=0,Z||d(C,0,w,8),Ot.write(C,m,w,F,52,8),w+8}E.prototype.slice=function(m,w){var F=this.length;(m=~~m)<0?(m+=F)<0&&(m=0):m>F&&(m=F),(w=void 0===w?F:~~w)<0?(w+=F)<0&&(w=0):w>F&&(w=F),w<m&&(w=m);var Z=this.subarray(m,w);return Object.setPrototypeOf(Z,E.prototype),Z},E.prototype.readUintLE=E.prototype.readUIntLE=function(m,w,F){m>>>=0,w>>>=0,F||W(m,w,this.length);for(var Z=this[m],it=1,ot=0;++ot<w&&(it*=256);)Z+=this[m+ot]*it;return Z},E.prototype.readUintBE=E.prototype.readUIntBE=function(m,w,F){m>>>=0,w>>>=0,F||W(m,w,this.length);for(var Z=this[m+--w],it=1;w>0&&(it*=256);)Z+=this[m+--w]*it;return Z},E.prototype.readUint8=E.prototype.readUInt8=function(m,w){return m>>>=0,w||W(m,1,this.length),this[m]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(m,w){return m>>>=0,w||W(m,2,this.length),this[m]|this[m+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(m,w){return m>>>=0,w||W(m,2,this.length),this[m]<<8|this[m+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(m,w){return m>>>=0,w||W(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(m,w){return m>>>=0,w||W(m,4,this.length),16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])},E.prototype.readIntLE=function(m,w,F){m>>>=0,w>>>=0,F||W(m,w,this.length);for(var Z=this[m],it=1,ot=0;++ot<w&&(it*=256);)Z+=this[m+ot]*it;return Z>=(it*=128)&&(Z-=Math.pow(2,8*w)),Z},E.prototype.readIntBE=function(m,w,F){m>>>=0,w>>>=0,F||W(m,w,this.length);for(var Z=w,it=1,ot=this[m+--Z];Z>0&&(it*=256);)ot+=this[m+--Z]*it;return ot>=(it*=128)&&(ot-=Math.pow(2,8*w)),ot},E.prototype.readInt8=function(m,w){return m>>>=0,w||W(m,1,this.length),128&this[m]?-1*(255-this[m]+1):this[m]},E.prototype.readInt16LE=function(m,w){m>>>=0,w||W(m,2,this.length);var F=this[m]|this[m+1]<<8;return 32768&F?4294901760|F:F},E.prototype.readInt16BE=function(m,w){m>>>=0,w||W(m,2,this.length);var F=this[m+1]|this[m]<<8;return 32768&F?4294901760|F:F},E.prototype.readInt32LE=function(m,w){return m>>>=0,w||W(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},E.prototype.readInt32BE=function(m,w){return m>>>=0,w||W(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},E.prototype.readFloatLE=function(m,w){return m>>>=0,w||W(m,4,this.length),Ot.read(this,m,!0,23,4)},E.prototype.readFloatBE=function(m,w){return m>>>=0,w||W(m,4,this.length),Ot.read(this,m,!1,23,4)},E.prototype.readDoubleLE=function(m,w){return m>>>=0,w||W(m,8,this.length),Ot.read(this,m,!0,52,8)},E.prototype.readDoubleBE=function(m,w){return m>>>=0,w||W(m,8,this.length),Ot.read(this,m,!1,52,8)},E.prototype.writeUintLE=E.prototype.writeUIntLE=function(m,w,F,Z){m=+m,w>>>=0,F>>>=0,Z||M(this,m,w,F,Math.pow(2,8*F)-1,0);var ot=1,Ht=0;for(this[w]=255&m;++Ht<F&&(ot*=256);)this[w+Ht]=m/ot&255;return w+F},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(m,w,F,Z){m=+m,w>>>=0,F>>>=0,Z||M(this,m,w,F,Math.pow(2,8*F)-1,0);var ot=F-1,Ht=1;for(this[w+ot]=255&m;--ot>=0&&(Ht*=256);)this[w+ot]=m/Ht&255;return w+F},E.prototype.writeUint8=E.prototype.writeUInt8=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,1,255,0),this[w]=255&m,w+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,2,65535,0),this[w]=255&m,this[w+1]=m>>>8,w+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,2,65535,0),this[w]=m>>>8,this[w+1]=255&m,w+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,4,4294967295,0),this[w+3]=m>>>24,this[w+2]=m>>>16,this[w+1]=m>>>8,this[w]=255&m,w+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,4,4294967295,0),this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=255&m,w+4},E.prototype.writeIntLE=function(m,w,F,Z){if(m=+m,w>>>=0,!Z){var it=Math.pow(2,8*F-1);M(this,m,w,F,it-1,-it)}var ot=0,Ht=1,jt=0;for(this[w]=255&m;++ot<F&&(Ht*=256);)m<0&&0===jt&&0!==this[w+ot-1]&&(jt=1),this[w+ot]=(m/Ht>>0)-jt&255;return w+F},E.prototype.writeIntBE=function(m,w,F,Z){if(m=+m,w>>>=0,!Z){var it=Math.pow(2,8*F-1);M(this,m,w,F,it-1,-it)}var ot=F-1,Ht=1,jt=0;for(this[w+ot]=255&m;--ot>=0&&(Ht*=256);)m<0&&0===jt&&0!==this[w+ot+1]&&(jt=1),this[w+ot]=(m/Ht>>0)-jt&255;return w+F},E.prototype.writeInt8=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,1,127,-128),m<0&&(m=255+m+1),this[w]=255&m,w+1},E.prototype.writeInt16LE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,2,32767,-32768),this[w]=255&m,this[w+1]=m>>>8,w+2},E.prototype.writeInt16BE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,2,32767,-32768),this[w]=m>>>8,this[w+1]=255&m,w+2},E.prototype.writeInt32LE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,4,2147483647,-2147483648),this[w]=255&m,this[w+1]=m>>>8,this[w+2]=m>>>16,this[w+3]=m>>>24,w+4},E.prototype.writeInt32BE=function(m,w,F){return m=+m,w>>>=0,F||M(this,m,w,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=255&m,w+4},E.prototype.writeFloatLE=function(m,w,F){return B(this,m,w,!0,F)},E.prototype.writeFloatBE=function(m,w,F){return B(this,m,w,!1,F)},E.prototype.writeDoubleLE=function(m,w,F){return k(this,m,w,!0,F)},E.prototype.writeDoubleBE=function(m,w,F){return k(this,m,w,!1,F)},E.prototype.copy=function(m,w,F,Z){if(!E.isBuffer(m))throw new TypeError("argument should be a Buffer");if(F||(F=0),!Z&&0!==Z&&(Z=this.length),w>=m.length&&(w=m.length),w||(w=0),Z>0&&Z<F&&(Z=F),Z===F||0===m.length||0===this.length)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),m.length-w<Z-F&&(Z=m.length-w+F);var it=Z-F;return this===m&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(w,F,Z):Uint8Array.prototype.set.call(m,this.subarray(F,Z),w),it},E.prototype.fill=function(m,w,F,Z){if("string"==typeof m){if("string"==typeof w?(Z=w,w=0,F=this.length):"string"==typeof F&&(Z=F,F=this.length),void 0!==Z&&"string"!=typeof Z)throw new TypeError("encoding must be a string");if("string"==typeof Z&&!E.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(1===m.length){var it=m.charCodeAt(0);("utf8"===Z&&it<128||"latin1"===Z)&&(m=it)}}else"number"==typeof m?m&=255:"boolean"==typeof m&&(m=Number(m));if(w<0||this.length<w||this.length<F)throw new RangeError("Out of range index");if(F<=w)return this;var ot;if(w>>>=0,F=void 0===F?this.length:F>>>0,m||(m=0),"number"==typeof m)for(ot=w;ot<F;++ot)this[ot]=m;else{var Ht=E.isBuffer(m)?m:E.from(m,Z),jt=Ht.length;if(0===jt)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(ot=0;ot<F-w;++ot)this[ot+w]=Ht[ot%jt]}return this};var A=/[^+/0-9A-Za-z-_]/g;function V(C,m){m=m||1/0;for(var w,F=C.length,Z=null,it=[],ot=0;ot<F;++ot){if((w=C.charCodeAt(ot))>55295&&w<57344){if(!Z){if(w>56319){(m-=3)>-1&&it.push(239,191,189);continue}if(ot+1===F){(m-=3)>-1&&it.push(239,191,189);continue}Z=w;continue}if(w<56320){(m-=3)>-1&&it.push(239,191,189),Z=w;continue}w=65536+(Z-55296<<10|w-56320)}else Z&&(m-=3)>-1&&it.push(239,191,189);if(Z=null,w<128){if((m-=1)<0)break;it.push(w)}else if(w<2048){if((m-=2)<0)break;it.push(w>>6|192,63&w|128)}else if(w<65536){if((m-=3)<0)break;it.push(w>>12|224,w>>6&63|128,63&w|128)}else{if(!(w<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;it.push(w>>18|240,w>>12&63|128,w>>6&63|128,63&w|128)}}return it}function ae(C){return D.toByteArray(function N(C){if((C=(C=C.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;C.length%4!=0;)C+="=";return C}(C))}function oe(C,m,w,F){for(var Z=0;Z<F&&!(Z+w>=m.length||Z>=C.length);++Z)m[Z+w]=C[Z];return Z}function ne(C,m){return C instanceof m||null!=C&&null!=C.constructor&&null!=C.constructor.name&&C.constructor.name===m.name}function Ae(C){return C!=C}var fe=function(){for(var C="0123456789abcdef",m=new Array(256),w=0;w<16;++w)for(var F=16*w,Z=0;Z<16;++Z)m[F+Z]=C[w]+C[Z];return m}()},8461:(Ce,Bt)=>{Bt.read=function(wt,D,Ot,Y,ut){var x,f,E=8*ut-Y-1,S=(1<<E)-1,nt=S>>1,zt=-7,Lt=Ot?ut-1:0,Dt=Ot?-1:1,ct=wt[D+Lt];for(Lt+=Dt,x=ct&(1<<-zt)-1,ct>>=-zt,zt+=E;zt>0;x=256*x+wt[D+Lt],Lt+=Dt,zt-=8);for(f=x&(1<<-zt)-1,x>>=-zt,zt+=Y;zt>0;f=256*f+wt[D+Lt],Lt+=Dt,zt-=8);if(0===x)x=1-nt;else{if(x===S)return f?NaN:1/0*(ct?-1:1);f+=Math.pow(2,Y),x-=nt}return(ct?-1:1)*f*Math.pow(2,x-Y)},Bt.write=function(wt,D,Ot,Y,ut,x){var f,E,S,nt=8*x-ut-1,zt=(1<<nt)-1,Lt=zt>>1,Dt=23===ut?Math.pow(2,-24)-Math.pow(2,-77):0,ct=Y?0:x-1,tt=Y?1:-1,qt=D<0||0===D&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(E=isNaN(D)?1:0,f=zt):(f=Math.floor(Math.log(D)/Math.LN2),D*(S=Math.pow(2,-f))<1&&(f--,S*=2),(D+=f+Lt>=1?Dt/S:Dt*Math.pow(2,1-Lt))*S>=2&&(f++,S/=2),f+Lt>=zt?(E=0,f=zt):f+Lt>=1?(E=(D*S-1)*Math.pow(2,ut),f+=Lt):(E=D*Math.pow(2,Lt-1)*Math.pow(2,ut),f=0));ut>=8;wt[Ot+ct]=255&E,ct+=tt,E/=256,ut-=8);for(f=f<<ut|E,nt+=ut;nt>0;wt[Ot+ct]=255&f,ct+=tt,f/=256,nt-=8);wt[Ot+ct-tt]|=128*qt}},3678:(Ce,Bt,wt)=>{"use strict";const D=wt(5955).v4,Ot=wt(6746),Y=function(ut,x){if(!(this instanceof Y))return new Y(ut,x);x||(x={}),this.options={reviver:typeof x.reviver<"u"?x.reviver:null,replacer:typeof x.replacer<"u"?x.replacer:null,generator:typeof x.generator<"u"?x.generator:function(){return D()},version:typeof x.version<"u"?x.version:2,notificationIdNull:"boolean"==typeof x.notificationIdNull&&x.notificationIdNull},this.callServer=ut};Ce.exports=Y,Y.prototype.request=function(ut,x,f,E){const S=this;let nt=null;const zt=Array.isArray(ut)&&"function"==typeof x;if(1===this.options.version&&zt)throw new TypeError("JSON-RPC 1.0 does not support batching");if(zt||!zt&&ut&&"object"==typeof ut&&"function"==typeof x)E=x,nt=ut;else{"function"==typeof f&&(E=f,f=void 0);const ct="function"==typeof E;try{nt=Ot(ut,x,f,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(tt){if(ct)return E(tt);throw tt}if(!ct)return nt}let Dt;try{Dt=JSON.stringify(nt,this.options.replacer)}catch(ct){return E(ct)}return this.callServer(Dt,function(ct,tt){S._parseResponse(ct,tt,E)}),nt},Y.prototype._parseResponse=function(ut,x,f){if(ut)return void f(ut);if(!x)return f();let E;try{E=JSON.parse(x,this.options.reviver)}catch(S){return f(S)}if(3===f.length){if(Array.isArray(E)){const S=function(zt){return typeof zt.error<"u"},nt=function(zt){return!S(zt)};return f(null,E.filter(S),E.filter(nt))}return f(null,E.error,E.result)}f(null,E)}},6746:(Ce,Bt,wt)=>{"use strict";const D=wt(5955).v4;Ce.exports=function(Y,ut,x,f){if("string"!=typeof Y)throw new TypeError(Y+" must be a string");const E="number"==typeof(f=f||{}).version?f.version:2;if(1!==E&&2!==E)throw new TypeError(E+" must be 1 or 2");const S={method:Y};if(2===E&&(S.jsonrpc="2.0"),ut){if("object"!=typeof ut&&!Array.isArray(ut))throw new TypeError(ut+" must be an object, array or omitted");S.params=ut}return typeof x>"u"?S.id=("function"==typeof f.generator?f.generator:function(){return D()})(S,f):2===E&&null===x?f.notificationIdNull&&(S.id=null):S.id=x,S}},4091:(Ce,Bt,wt)=>{"use strict";const Ot=wt(5343),Y=wt(8461),ut="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;Bt.lW=S,Bt.h2=50;const x=2147483647;function E(s){if(s>x)throw new RangeError('The value "'+s+'" is invalid for option "size"');const n=new Uint8Array(s);return Object.setPrototypeOf(n,S.prototype),n}function S(s,n,r){if("number"==typeof s){if("string"==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return Dt(s)}return nt(s,n,r)}function nt(s,n,r){if("string"==typeof s)return function ct(s,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!S.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const r=0|Ut(s,n);let u=E(r);const g=u.write(s,n);return g!==r&&(u=u.slice(0,g)),u}(s,n);if(ArrayBuffer.isView(s))return function qt(s){if(Ht(s,Uint8Array)){const n=new Uint8Array(s);return at(n.buffer,n.byteOffset,n.byteLength)}return tt(s)}(s);if(null==s)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(Ht(s,ArrayBuffer)||s&&Ht(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ht(s,SharedArrayBuffer)||s&&Ht(s.buffer,SharedArrayBuffer)))return at(s,n,r);if("number"==typeof s)throw new TypeError('The "value" argument must not be of type number. Received type number');const u=s.valueOf&&s.valueOf();if(null!=u&&u!==s)return S.from(u,n,r);const g=function et(s){if(S.isBuffer(s)){const n=0|At(s.length),r=E(n);return 0===r.length||s.copy(r,0,0,n),r}return void 0!==s.length?"number"!=typeof s.length||jt(s.length)?E(0):tt(s):"Buffer"===s.type&&Array.isArray(s.data)?tt(s.data):void 0}(s);if(g)return g;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof s[Symbol.toPrimitive])return S.from(s[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}function zt(s){if("number"!=typeof s)throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function Dt(s){return zt(s),E(s<0?0:0|At(s))}function tt(s){const n=s.length<0?0:0|At(s.length),r=E(n);for(let u=0;u<n;u+=1)r[u]=255&s[u];return r}function at(s,n,r){if(n<0||s.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');let u;return u=void 0===n&&void 0===r?new Uint8Array(s):void 0===r?new Uint8Array(s,n):new Uint8Array(s,n,r),Object.setPrototypeOf(u,S.prototype),u}function At(s){if(s>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|s}function Ut(s,n){if(S.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||Ht(s,ArrayBuffer))return s.byteLength;if("string"!=typeof s)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);const r=s.length,u=arguments.length>2&&!0===arguments[2];if(!u&&0===r)return 0;let g=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return w(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return it(s).length;default:if(g)return u?-1:w(s).length;n=(""+n).toLowerCase(),g=!0}}function gt(s,n,r){let u=!1;if((void 0===n||n<0)&&(n=0),n>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(n>>>=0))return"";for(s||(s="utf8");;)switch(s){case"hex":return $(this,n,r);case"utf8":case"utf-8":return l(this,n,r);case"ascii":return T(this,n,r);case"latin1":case"binary":return L(this,n,r);case"base64":return R(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,n,r);default:if(u)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),u=!0}}function Pt(s,n,r){const u=s[n];s[n]=s[r],s[r]=u}function re(s,n,r,u,g){if(0===s.length)return-1;if("string"==typeof r?(u=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),jt(r=+r)&&(r=g?0:s.length-1),r<0&&(r=s.length+r),r>=s.length){if(g)return-1;r=s.length-1}else if(r<0){if(!g)return-1;r=0}if("string"==typeof n&&(n=S.from(n,u)),S.isBuffer(n))return 0===n.length?-1:Jt(s,n,r,u,g);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?g?Uint8Array.prototype.indexOf.call(s,n,r):Uint8Array.prototype.lastIndexOf.call(s,n,r):Jt(s,[n],r,u,g);throw new TypeError("val must be string, number or Buffer")}function Jt(s,n,r,u,g){let _t,_=1,O=s.length,ft=n.length;if(void 0!==u&&("ucs2"===(u=String(u).toLowerCase())||"ucs-2"===u||"utf16le"===u||"utf-16le"===u)){if(s.length<2||n.length<2)return-1;_=2,O/=2,ft/=2,r/=2}function kt(Tt,Ct){return 1===_?Tt[Ct]:Tt.readUInt16BE(Ct*_)}if(g){let Tt=-1;for(_t=r;_t<O;_t++)if(kt(s,_t)===kt(n,-1===Tt?0:_t-Tt)){if(-1===Tt&&(Tt=_t),_t-Tt+1===ft)return Tt*_}else-1!==Tt&&(_t-=_t-Tt),Tt=-1}else for(r+ft>O&&(r=O-ft),_t=r;_t>=0;_t--){let Tt=!0;for(let Ct=0;Ct<ft;Ct++)if(kt(s,_t+Ct)!==kt(n,Ct)){Tt=!1;break}if(Tt)return _t}return-1}function Be(s,n,r,u){r=Number(r)||0;const g=s.length-r;u?(u=Number(u))>g&&(u=g):u=g;const _=n.length;let O;for(u>_/2&&(u=_/2),O=0;O<u;++O){const ft=parseInt(n.substr(2*O,2),16);if(jt(ft))return O;s[r+O]=ft}return O}function xt(s,n,r,u){return ot(w(n,s.length-r),s,r,u)}function rt(s,n,r,u){return ot(function F(s){const n=[];for(let r=0;r<s.length;++r)n.push(255&s.charCodeAt(r));return n}(n),s,r,u)}function lt(s,n,r,u){return ot(it(n),s,r,u)}function yt(s,n,r,u){return ot(function Z(s,n){let r,u,g;const _=[];for(let O=0;O<s.length&&!((n-=2)<0);++O)r=s.charCodeAt(O),u=r>>8,g=r%256,_.push(g),_.push(u);return _}(n,s.length-r),s,r,u)}function R(s,n,r){return Ot.fromByteArray(0===n&&r===s.length?s:s.slice(n,r))}function l(s,n,r){r=Math.min(s.length,r);const u=[];let g=n;for(;g<r;){const _=s[g];let O=null,ft=_>239?4:_>223?3:_>191?2:1;if(g+ft<=r){let kt,_t,Tt,Ct;switch(ft){case 1:_<128&&(O=_);break;case 2:kt=s[g+1],128==(192&kt)&&(Ct=(31&_)<<6|63&kt,Ct>127&&(O=Ct));break;case 3:kt=s[g+1],_t=s[g+2],128==(192&kt)&&128==(192&_t)&&(Ct=(15&_)<<12|(63&kt)<<6|63&_t,Ct>2047&&(Ct<55296||Ct>57343)&&(O=Ct));break;case 4:kt=s[g+1],_t=s[g+2],Tt=s[g+3],128==(192&kt)&&128==(192&_t)&&128==(192&Tt)&&(Ct=(15&_)<<18|(63&kt)<<12|(63&_t)<<6|63&Tt,Ct>65535&&Ct<1114112&&(O=Ct))}}null===O?(O=65533,ft=1):O>65535&&(O-=65536,u.push(O>>>10&1023|55296),O=56320|1023&O),u.push(O),g+=ft}return function v(s){const n=s.length;if(n<=y)return String.fromCharCode.apply(String,s);let r="",u=0;for(;u<n;)r+=String.fromCharCode.apply(String,s.slice(u,u+=y));return r}(u)}!(S.TYPED_ARRAY_SUPPORT=function f(){try{const s=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(s,n),42===s.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(s,n,r){return nt(s,n,r)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(s,n,r){return function Lt(s,n,r){return zt(s),s<=0?E(s):void 0!==n?"string"==typeof r?E(s).fill(n,r):E(s).fill(n):E(s)}(s,n,r)},S.allocUnsafe=function(s){return Dt(s)},S.allocUnsafeSlow=function(s){return Dt(s)},S.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==S.prototype},S.compare=function(n,r){if(Ht(n,Uint8Array)&&(n=S.from(n,n.offset,n.byteLength)),Ht(r,Uint8Array)&&(r=S.from(r,r.offset,r.byteLength)),!S.isBuffer(n)||!S.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===r)return 0;let u=n.length,g=r.length;for(let _=0,O=Math.min(u,g);_<O;++_)if(n[_]!==r[_]){u=n[_],g=r[_];break}return u<g?-1:g<u?1:0},S.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(n,r){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return S.alloc(0);let u;if(void 0===r)for(r=0,u=0;u<n.length;++u)r+=n[u].length;const g=S.allocUnsafe(r);let _=0;for(u=0;u<n.length;++u){let O=n[u];if(Ht(O,Uint8Array))_+O.length>g.length?(S.isBuffer(O)||(O=S.from(O)),O.copy(g,_)):Uint8Array.prototype.set.call(g,O,_);else{if(!S.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(g,_)}_+=O.length}return g},S.byteLength=Ut,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<n;r+=2)Pt(this,r,r+1);return this},S.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<n;r+=4)Pt(this,r,r+3),Pt(this,r+1,r+2);return this},S.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<n;r+=8)Pt(this,r,r+7),Pt(this,r+1,r+6),Pt(this,r+2,r+5),Pt(this,r+3,r+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const n=this.length;return 0===n?"":0===arguments.length?l(this,0,n):gt.apply(this,arguments)},S.prototype.equals=function(n){if(!S.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===S.compare(this,n)},S.prototype.inspect=function(){let n="";const r=Bt.h2;return n=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(n+=" ... "),"<Buffer "+n+">"},ut&&(S.prototype[ut]=S.prototype.inspect),S.prototype.compare=function(n,r,u,g,_){if(Ht(n,Uint8Array)&&(n=S.from(n,n.offset,n.byteLength)),!S.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(void 0===r&&(r=0),void 0===u&&(u=n?n.length:0),void 0===g&&(g=0),void 0===_&&(_=this.length),r<0||u>n.length||g<0||_>this.length)throw new RangeError("out of range index");if(g>=_&&r>=u)return 0;if(g>=_)return-1;if(r>=u)return 1;if(this===n)return 0;let O=(_>>>=0)-(g>>>=0),ft=(u>>>=0)-(r>>>=0);const kt=Math.min(O,ft),_t=this.slice(g,_),Tt=n.slice(r,u);for(let Ct=0;Ct<kt;++Ct)if(_t[Ct]!==Tt[Ct]){O=_t[Ct],ft=Tt[Ct];break}return O<ft?-1:ft<O?1:0},S.prototype.includes=function(n,r,u){return-1!==this.indexOf(n,r,u)},S.prototype.indexOf=function(n,r,u){return re(this,n,r,u,!0)},S.prototype.lastIndexOf=function(n,r,u){return re(this,n,r,u,!1)},S.prototype.write=function(n,r,u,g){if(void 0===r)g="utf8",u=this.length,r=0;else if(void 0===u&&"string"==typeof r)g=r,u=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(u)?(u>>>=0,void 0===g&&(g="utf8")):(g=u,u=void 0)}const _=this.length-r;if((void 0===u||u>_)&&(u=_),n.length>0&&(u<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let O=!1;for(;;)switch(g){case"hex":return Be(this,n,r,u);case"utf8":case"utf-8":return xt(this,n,r,u);case"ascii":case"latin1":case"binary":return rt(this,n,r,u);case"base64":return lt(this,n,r,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yt(this,n,r,u);default:if(O)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),O=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const y=4096;function T(s,n,r){let u="";r=Math.min(s.length,r);for(let g=n;g<r;++g)u+=String.fromCharCode(127&s[g]);return u}function L(s,n,r){let u="";r=Math.min(s.length,r);for(let g=n;g<r;++g)u+=String.fromCharCode(s[g]);return u}function $(s,n,r){const u=s.length;(!n||n<0)&&(n=0),(!r||r<0||r>u)&&(r=u);let g="";for(let _=n;_<r;++_)g+=Yt[s[_]];return g}function W(s,n,r){const u=s.slice(n,r);let g="";for(let _=0;_<u.length-1;_+=2)g+=String.fromCharCode(u[_]+256*u[_+1]);return g}function M(s,n,r){if(s%1!=0||s<0)throw new RangeError("offset is not uint");if(s+n>r)throw new RangeError("Trying to access beyond buffer length")}function d(s,n,r,u,g,_){if(!S.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>g||n<_)throw new RangeError('"value" argument is out of bounds');if(r+u>s.length)throw new RangeError("Index out of range")}function B(s,n,r,u,g){ne(n,u,g,s,r,7);let _=Number(n&BigInt(4294967295));s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_,_>>=8,s[r++]=_;let O=Number(n>>BigInt(32)&BigInt(4294967295));return s[r++]=O,O>>=8,s[r++]=O,O>>=8,s[r++]=O,O>>=8,s[r++]=O,r}function k(s,n,r,u,g){ne(n,u,g,s,r,7);let _=Number(n&BigInt(4294967295));s[r+7]=_,_>>=8,s[r+6]=_,_>>=8,s[r+5]=_,_>>=8,s[r+4]=_;let O=Number(n>>BigInt(32)&BigInt(4294967295));return s[r+3]=O,O>>=8,s[r+2]=O,O>>=8,s[r+1]=O,O>>=8,s[r]=O,r+8}function A(s,n,r,u,g,_){if(r+u>s.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(s,n,r,u,g){return n=+n,r>>>=0,g||A(s,0,r,4),Y.write(s,n,r,u,23,4),r+4}function V(s,n,r,u,g){return n=+n,r>>>=0,g||A(s,0,r,8),Y.write(s,n,r,u,52,8),r+8}S.prototype.slice=function(n,r){const u=this.length;(n=~~n)<0?(n+=u)<0&&(n=0):n>u&&(n=u),(r=void 0===r?u:~~r)<0?(r+=u)<0&&(r=0):r>u&&(r=u),r<n&&(r=n);const g=this.subarray(n,r);return Object.setPrototypeOf(g,S.prototype),g},S.prototype.readUintLE=S.prototype.readUIntLE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=this[n],_=1,O=0;for(;++O<r&&(_*=256);)g+=this[n+O]*_;return g},S.prototype.readUintBE=S.prototype.readUIntBE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=this[n+--r],_=1;for(;r>0&&(_*=256);)g+=this[n+--r]*_;return g},S.prototype.readUint8=S.prototype.readUInt8=function(n,r){return n>>>=0,r||M(n,1,this.length),this[n]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(n,r){return n>>>=0,r||M(n,2,this.length),this[n]|this[n+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(n,r){return n>>>=0,r||M(n,2,this.length),this[n]<<8|this[n+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(n,r){return n>>>=0,r||M(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(n,r){return n>>>=0,r||M(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},S.prototype.readBigUInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const g=r+256*this[++n]+65536*this[++n]+this[++n]*2**24,_=this[++n]+256*this[++n]+65536*this[++n]+u*2**24;return BigInt(g)+(BigInt(_)<<BigInt(32))}),S.prototype.readBigUInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const g=r*2**24+65536*this[++n]+256*this[++n]+this[++n],_=this[++n]*2**24+65536*this[++n]+256*this[++n]+u;return(BigInt(g)<<BigInt(32))+BigInt(_)}),S.prototype.readIntLE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=this[n],_=1,O=0;for(;++O<r&&(_*=256);)g+=this[n+O]*_;return _*=128,g>=_&&(g-=Math.pow(2,8*r)),g},S.prototype.readIntBE=function(n,r,u){n>>>=0,r>>>=0,u||M(n,r,this.length);let g=r,_=1,O=this[n+--g];for(;g>0&&(_*=256);)O+=this[n+--g]*_;return _*=128,O>=_&&(O-=Math.pow(2,8*r)),O},S.prototype.readInt8=function(n,r){return n>>>=0,r||M(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},S.prototype.readInt16LE=function(n,r){n>>>=0,r||M(n,2,this.length);const u=this[n]|this[n+1]<<8;return 32768&u?4294901760|u:u},S.prototype.readInt16BE=function(n,r){n>>>=0,r||M(n,2,this.length);const u=this[n+1]|this[n]<<8;return 32768&u?4294901760|u:u},S.prototype.readInt32LE=function(n,r){return n>>>=0,r||M(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},S.prototype.readInt32BE=function(n,r){return n>>>=0,r||M(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},S.prototype.readBigInt64LE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];return(void 0===r||void 0===u)&&fe(n,this.length-8),(BigInt(this[n+4]+256*this[n+5]+65536*this[n+6]+(u<<24))<<BigInt(32))+BigInt(r+256*this[++n]+65536*this[++n]+this[++n]*2**24)}),S.prototype.readBigInt64BE=ue(function(n){Ae(n>>>=0,"offset");const r=this[n],u=this[n+7];(void 0===r||void 0===u)&&fe(n,this.length-8);const g=(r<<24)+65536*this[++n]+256*this[++n]+this[++n];return(BigInt(g)<<BigInt(32))+BigInt(this[++n]*2**24+65536*this[++n]+256*this[++n]+u)}),S.prototype.readFloatLE=function(n,r){return n>>>=0,r||M(n,4,this.length),Y.read(this,n,!0,23,4)},S.prototype.readFloatBE=function(n,r){return n>>>=0,r||M(n,4,this.length),Y.read(this,n,!1,23,4)},S.prototype.readDoubleLE=function(n,r){return n>>>=0,r||M(n,8,this.length),Y.read(this,n,!0,52,8)},S.prototype.readDoubleBE=function(n,r){return n>>>=0,r||M(n,8,this.length),Y.read(this,n,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(n,r,u,g){n=+n,r>>>=0,u>>>=0,g||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=1,O=0;for(this[r]=255&n;++O<u&&(_*=256);)this[r+O]=n/_&255;return r+u},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(n,r,u,g){n=+n,r>>>=0,u>>>=0,g||d(this,n,r,u,Math.pow(2,8*u)-1,0);let _=u-1,O=1;for(this[r+_]=255&n;--_>=0&&(O*=256);)this[r+_]=n/O&255;return r+u},S.prototype.writeUint8=S.prototype.writeUInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,255,0),this[r]=255&n,r+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=255&n,this[r+1]=n>>>8,r+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,65535,0),this[r]=n>>>8,this[r+1]=255&n,r+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r+3]=n>>>24,this[r+2]=n>>>16,this[r+1]=n>>>8,this[r]=255&n,r+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,4294967295,0),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},S.prototype.writeBigUInt64LE=ue(function(n,r=0){return B(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=ue(function(n,r=0){return k(this,n,r,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(n,r,u,g){if(n=+n,r>>>=0,!g){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=0,O=1,ft=0;for(this[r]=255&n;++_<u&&(O*=256);)n<0&&0===ft&&0!==this[r+_-1]&&(ft=1),this[r+_]=(n/O>>0)-ft&255;return r+u},S.prototype.writeIntBE=function(n,r,u,g){if(n=+n,r>>>=0,!g){const kt=Math.pow(2,8*u-1);d(this,n,r,u,kt-1,-kt)}let _=u-1,O=1,ft=0;for(this[r+_]=255&n;--_>=0&&(O*=256);)n<0&&0===ft&&0!==this[r+_+1]&&(ft=1),this[r+_]=(n/O>>0)-ft&255;return r+u},S.prototype.writeInt8=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,1,127,-128),n<0&&(n=255+n+1),this[r]=255&n,r+1},S.prototype.writeInt16LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=255&n,this[r+1]=n>>>8,r+2},S.prototype.writeInt16BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,2,32767,-32768),this[r]=n>>>8,this[r+1]=255&n,r+2},S.prototype.writeInt32LE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),this[r]=255&n,this[r+1]=n>>>8,this[r+2]=n>>>16,this[r+3]=n>>>24,r+4},S.prototype.writeInt32BE=function(n,r,u){return n=+n,r>>>=0,u||d(this,n,r,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[r]=n>>>24,this[r+1]=n>>>16,this[r+2]=n>>>8,this[r+3]=255&n,r+4},S.prototype.writeBigInt64LE=ue(function(n,r=0){return B(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=ue(function(n,r=0){return k(this,n,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(n,r,u){return N(this,n,r,!0,u)},S.prototype.writeFloatBE=function(n,r,u){return N(this,n,r,!1,u)},S.prototype.writeDoubleLE=function(n,r,u){return V(this,n,r,!0,u)},S.prototype.writeDoubleBE=function(n,r,u){return V(this,n,r,!1,u)},S.prototype.copy=function(n,r,u,g){if(!S.isBuffer(n))throw new TypeError("argument should be a Buffer");if(u||(u=0),!g&&0!==g&&(g=this.length),r>=n.length&&(r=n.length),r||(r=0),g>0&&g<u&&(g=u),g===u||0===n.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),n.length-r<g-u&&(g=n.length-r+u);const _=g-u;return this===n&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(r,u,g):Uint8Array.prototype.set.call(n,this.subarray(u,g),r),_},S.prototype.fill=function(n,r,u,g){if("string"==typeof n){if("string"==typeof r?(g=r,r=0,u=this.length):"string"==typeof u&&(g=u,u=this.length),void 0!==g&&"string"!=typeof g)throw new TypeError("encoding must be a string");if("string"==typeof g&&!S.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(1===n.length){const O=n.charCodeAt(0);("utf8"===g&&O<128||"latin1"===g)&&(n=O)}}else"number"==typeof n?n&=255:"boolean"==typeof n&&(n=Number(n));if(r<0||this.length<r||this.length<u)throw new RangeError("Out of range index");if(u<=r)return this;let _;if(r>>>=0,u=void 0===u?this.length:u>>>0,n||(n=0),"number"==typeof n)for(_=r;_<u;++_)this[_]=n;else{const O=S.isBuffer(n)?n:S.from(n,g),ft=O.length;if(0===ft)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(_=0;_<u-r;++_)this[_+r]=O[_%ft]}return this};const Q={};function Kt(s,n,r){Q[s]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,delete this.name}get code(){return s}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}function ae(s){let n="",r=s.length;const u="-"===s[0]?1:0;for(;r>=u+4;r-=3)n=`_${s.slice(r-3,r)}${n}`;return`${s.slice(0,r)}${n}`}function ne(s,n,r,u,g,_){if(s>r||s<n){const O="bigint"==typeof n?"n":"";let ft;throw ft=_>3?0===n||n===BigInt(0)?`>= 0${O} and < 2${O} ** ${8*(_+1)}${O}`:`>= -(2${O} ** ${8*(_+1)-1}${O}) and < 2 ** ${8*(_+1)-1}${O}`:`>= ${n}${O} and <= ${r}${O}`,new Q.ERR_OUT_OF_RANGE("value",ft,s)}!function oe(s,n,r){Ae(n,"offset"),(void 0===s[n]||void 0===s[n+r])&&fe(n,s.length-(r+1))}(u,g,_)}function Ae(s,n){if("number"!=typeof s)throw new Q.ERR_INVALID_ARG_TYPE(n,"number",s)}function fe(s,n,r){throw Math.floor(s)!==s?(Ae(s,r),new Q.ERR_OUT_OF_RANGE(r||"offset","an integer",s)):n<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${n}`,s)}Kt("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Kt("ERR_INVALID_ARG_TYPE",function(s,n){return`The "${s}" argument must be of type number. Received type ${typeof n}`},TypeError),Kt("ERR_OUT_OF_RANGE",function(s,n,r){let u=`The value of "${s}" is out of range.`,g=r;return Number.isInteger(r)&&Math.abs(r)>2**32?g=ae(String(r)):"bigint"==typeof r&&(g=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(g=ae(g)),g+="n"),u+=` It must be ${n}. Received ${g}`,u},RangeError);const C=/[^+/0-9A-Za-z-_]/g;function w(s,n){let r;n=n||1/0;const u=s.length;let g=null;const _=[];for(let O=0;O<u;++O){if(r=s.charCodeAt(O),r>55295&&r<57344){if(!g){if(r>56319){(n-=3)>-1&&_.push(239,191,189);continue}if(O+1===u){(n-=3)>-1&&_.push(239,191,189);continue}g=r;continue}if(r<56320){(n-=3)>-1&&_.push(239,191,189),g=r;continue}r=65536+(g-55296<<10|r-56320)}else g&&(n-=3)>-1&&_.push(239,191,189);if(g=null,r<128){if((n-=1)<0)break;_.push(r)}else if(r<2048){if((n-=2)<0)break;_.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;_.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;_.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return _}function it(s){return Ot.toByteArray(function m(s){if((s=(s=s.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;s.length%4!=0;)s+="=";return s}(s))}function ot(s,n,r,u){let g;for(g=0;g<u&&!(g+r>=n.length||g>=s.length);++g)n[g+r]=s[g];return g}function Ht(s,n){return s instanceof n||null!=s&&null!=s.constructor&&null!=s.constructor.name&&s.constructor.name===n.name}function jt(s){return s!=s}const Yt=function(){const s="0123456789abcdef",n=new Array(256);for(let r=0;r<16;++r){const u=16*r;for(let g=0;g<16;++g)n[u+g]=s[r]+s[g]}return n}();function ue(s){return typeof BigInt>"u"?I:s}function I(){throw new Error("BigInt not supported")}},2985:Ce=>{"use strict";var Bt=Object.prototype.hasOwnProperty,wt="~";function D(){}function Ot(f,E,S){this.fn=f,this.context=E,this.once=S||!1}function Y(f,E,S,nt,zt){if("function"!=typeof S)throw new TypeError("The listener must be a function");var Lt=new Ot(S,nt||f,zt),Dt=wt?wt+E:E;return f._events[Dt]?f._events[Dt].fn?f._events[Dt]=[f._events[Dt],Lt]:f._events[Dt].push(Lt):(f._events[Dt]=Lt,f._eventsCount++),f}function ut(f,E){0==--f._eventsCount?f._events=new D:delete f._events[E]}function x(){this._events=new D,this._eventsCount=0}Object.create&&(D.prototype=Object.create(null),(new D).__proto__||(wt=!1)),x.prototype.eventNames=function(){var S,nt,E=[];if(0===this._eventsCount)return E;for(nt in S=this._events)Bt.call(S,nt)&&E.push(wt?nt.slice(1):nt);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(S)):E},x.prototype.listeners=function(E){var nt=this._events[wt?wt+E:E];if(!nt)return[];if(nt.fn)return[nt.fn];for(var zt=0,Lt=nt.length,Dt=new Array(Lt);zt<Lt;zt++)Dt[zt]=nt[zt].fn;return Dt},x.prototype.listenerCount=function(E){var nt=this._events[wt?wt+E:E];return nt?nt.fn?1:nt.length:0},x.prototype.emit=function(E,S,nt,zt,Lt,Dt){var ct=wt?wt+E:E;if(!this._events[ct])return!1;var at,et,tt=this._events[ct],qt=arguments.length;if(tt.fn){switch(tt.once&&this.removeListener(E,tt.fn,void 0,!0),qt){case 1:return tt.fn.call(tt.context),!0;case 2:return tt.fn.call(tt.context,S),!0;case 3:return tt.fn.call(tt.context,S,nt),!0;case 4:return tt.fn.call(tt.context,S,nt,zt),!0;case 5:return tt.fn.call(tt.context,S,nt,zt,Lt),!0;case 6:return tt.fn.call(tt.context,S,nt,zt,Lt,Dt),!0}for(et=1,at=new Array(qt-1);et<qt;et++)at[et-1]=arguments[et];tt.fn.apply(tt.context,at)}else{var bt,At=tt.length;for(et=0;et<At;et++)switch(tt[et].once&&this.removeListener(E,tt[et].fn,void 0,!0),qt){case 1:tt[et].fn.call(tt[et].context);break;case 2:tt[et].fn.call(tt[et].context,S);break;case 3:tt[et].fn.call(tt[et].context,S,nt);break;case 4:tt[et].fn.call(tt[et].context,S,nt,zt);break;default:if(!at)for(bt=1,at=new Array(qt-1);bt<qt;bt++)at[bt-1]=arguments[bt];tt[et].fn.apply(tt[et].context,at)}}return!0},x.prototype.on=function(E,S,nt){return Y(this,E,S,nt,!1)},x.prototype.once=function(E,S,nt){return Y(this,E,S,nt,!0)},x.prototype.removeListener=function(E,S,nt,zt){var Lt=wt?wt+E:E;if(!this._events[Lt])return this;if(!S)return ut(this,Lt),this;var Dt=this._events[Lt];if(Dt.fn)Dt.fn===S&&(!zt||Dt.once)&&(!nt||Dt.context===nt)&&ut(this,Lt);else{for(var ct=0,tt=[],qt=Dt.length;ct<qt;ct++)(Dt[ct].fn!==S||zt&&!Dt[ct].once||nt&&Dt[ct].context!==nt)&&tt.push(Dt[ct]);tt.length?this._events[Lt]=1===tt.length?tt[0]:tt:ut(this,Lt)}return this},x.prototype.removeAllListeners=function(E){var S;return E?this._events[S=wt?wt+E:E]&&ut(this,S):(this._events=new D,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=wt,x.EventEmitter=x,Ce.exports=x},3502:(Ce,Bt,wt)=>{var D=wt(3172),Ot=D.Buffer;function Y(x,f){for(var E in x)f[E]=x[E]}function ut(x,f,E){return Ot(x,f,E)}Ot.from&&Ot.alloc&&Ot.allocUnsafe&&Ot.allocUnsafeSlow?Ce.exports=D:(Y(D,Bt),Bt.Buffer=ut),ut.prototype=Object.create(Ot.prototype),Y(Ot,ut),ut.from=function(x,f,E){if("number"==typeof x)throw new TypeError("Argument must not be a number");return Ot(x,f,E)},ut.alloc=function(x,f,E){if("number"!=typeof x)throw new TypeError("Argument must be a number");var S=Ot(x);return void 0!==f?"string"==typeof E?S.fill(f,E):S.fill(f):S.fill(0),S},ut.allocUnsafe=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return Ot(x)},ut.allocUnsafeSlow=function(x){if("number"!=typeof x)throw new TypeError("Argument must be a number");return D.SlowBuffer(x)}},5955:(Ce,Bt,wt)=>{"use strict";wt.d(Bt,{v4:()=>Dt});var D,Ot=new Uint8Array(16);function Y(){if(!D&&!(D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D(Ot)}const ut=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,f=function x(ct){return"string"==typeof ct&&ut.test(ct)};for(var E=[],S=0;S<256;++S)E.push((S+256).toString(16).substr(1));const Dt=function Lt(ct,tt,qt){var at=(ct=ct||{}).random||(ct.rng||Y)();if(at[6]=15&at[6]|64,at[8]=63&at[8]|128,tt){qt=qt||0;for(var et=0;et<16;++et)tt[qt+et]=at[et];return tt}return function nt(ct){var tt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,qt=(E[ct[tt+0]]+E[ct[tt+1]]+E[ct[tt+2]]+E[ct[tt+3]]+"-"+E[ct[tt+4]]+E[ct[tt+5]]+"-"+E[ct[tt+6]]+E[ct[tt+7]]+"-"+E[ct[tt+8]]+E[ct[tt+9]]+"-"+E[ct[tt+10]]+E[ct[tt+11]]+E[ct[tt+12]]+E[ct[tt+13]]+E[ct[tt+14]]+E[ct[tt+15]]).toLowerCase();if(!f(qt))throw TypeError("Stringified UUID is invalid");return qt}(at)}},6601:()=>{},2949:(Ce,Bt,wt)=>{"use strict";function D(at,et,At){return et<=at&&at<=At}function Ot(at){if(void 0===at)return{};if(at===Object(at))return at;throw TypeError("Could not convert argument to dictionary")}wt.r(Bt),wt.d(Bt,{TextDecoder:()=>Dt,TextEncoder:()=>ct});var x=-1;function f(at){this.tokens=[].slice.call(at)}f.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():x},prepend:function(at){if(Array.isArray(at))for(var et=at;et.length;)this.tokens.unshift(et.pop());else this.tokens.unshift(at)},push:function(at){if(Array.isArray(at))for(var et=at;et.length;)this.tokens.push(et.shift());else this.tokens.push(at)}};var E=-1;function S(at,et){if(at)throw TypeError("Decoder error");return et||65533}var Lt="utf-8";function Dt(at,et){if(!(this instanceof Dt))return new Dt(at,et);if((at=void 0!==at?String(at).toLowerCase():Lt)!==Lt)throw new Error("Encoding not supported. Only utf-8 is supported");et=Ot(et),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(et.fatal),this._ignoreBOM=Boolean(et.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function ct(at,et){if(!(this instanceof ct))return new ct(at,et);if((at=void 0!==at?String(at).toLowerCase():Lt)!==Lt)throw new Error("Encoding not supported. Only utf-8 is supported");et=Ot(et),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(et.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function tt(at){var et=at.fatal,At=0,bt=0,Ut=0,gt=128,Pt=191;this.handler=function(re,Jt){if(Jt===x&&0!==Ut)return Ut=0,S(et);if(Jt===x)return E;if(0===Ut){if(D(Jt,0,127))return Jt;if(D(Jt,194,223))Ut=1,At=Jt-192;else if(D(Jt,224,239))224===Jt&&(gt=160),237===Jt&&(Pt=159),Ut=2,At=Jt-224;else{if(!D(Jt,240,244))return S(et);240===Jt&&(gt=144),244===Jt&&(Pt=143),Ut=3,At=Jt-240}return At<<=6*Ut,null}if(!D(Jt,gt,Pt))return At=Ut=bt=0,gt=128,Pt=191,re.prepend(Jt),S(et);if(gt=128,Pt=191,At+=Jt-128<<6*(Ut-(bt+=1)),bt!==Ut)return null;var Be=At;return At=Ut=bt=0,Be}}function qt(at){this.handler=function(At,bt){if(bt===x)return E;if(D(bt,0,127))return bt;var Ut,gt;D(bt,128,2047)?(Ut=1,gt=192):D(bt,2048,65535)?(Ut=2,gt=224):D(bt,65536,1114111)&&(Ut=3,gt=240);for(var Pt=[(bt>>6*Ut)+gt];Ut>0;)Pt.push(128|63&bt>>6*(Ut-1)),Ut-=1;return Pt}}Dt.prototype={decode:function(et,At){var bt;bt="object"==typeof et&&et instanceof ArrayBuffer?new Uint8Array(et):"object"==typeof et&&"buffer"in et&&et.buffer instanceof ArrayBuffer?new Uint8Array(et.buffer,et.byteOffset,et.byteLength):new Uint8Array(0),At=Ot(At),this._streaming||(this._decoder=new tt({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(At.stream);for(var Pt,Ut=new f(bt),gt=[];!Ut.endOfStream()&&(Pt=this._decoder.handler(Ut,Ut.read()))!==E;)null!==Pt&&(Array.isArray(Pt)?gt.push.apply(gt,Pt):gt.push(Pt));if(!this._streaming){do{if((Pt=this._decoder.handler(Ut,Ut.read()))===E)break;null!==Pt&&(Array.isArray(Pt)?gt.push.apply(gt,Pt):gt.push(Pt))}while(!Ut.endOfStream());this._decoder=null}return gt.length&&-1!==["utf-8"].indexOf(this.encoding)&&!this._ignoreBOM&&!this._BOMseen&&(65279===gt[0]?(this._BOMseen=!0,gt.shift()):this._BOMseen=!0),function ut(at){for(var et="",At=0;At<at.length;++At){var bt=at[At];bt<=65535?et+=String.fromCharCode(bt):(bt-=65536,et+=String.fromCharCode(55296+(bt>>10),56320+(1023&bt)))}return et}(gt)}},ct.prototype={encode:function(et,At){et=et?String(et):"",At=Ot(At),this._streaming||(this._encoder=new qt(this._options)),this._streaming=Boolean(At.stream);for(var gt,bt=[],Ut=new f(function Y(at){for(var et=String(at),At=et.length,bt=0,Ut=[];bt<At;){var gt=et.charCodeAt(bt);if(gt<55296||gt>57343)Ut.push(gt);else if(56320<=gt&&gt<=57343)Ut.push(65533);else if(55296<=gt&&gt<=56319)if(bt===At-1)Ut.push(65533);else{var Pt=at.charCodeAt(bt+1);56320<=Pt&&Pt<=57343?(Ut.push(65536+((1023&gt)<<10)+(1023&Pt)),bt+=1):Ut.push(65533)}bt+=1}return Ut}(et));!Ut.endOfStream()&&(gt=this._encoder.handler(Ut,Ut.read()))!==E;)Array.isArray(gt)?bt.push.apply(bt,gt):bt.push(gt);if(!this._streaming){for(;(gt=this._encoder.handler(Ut,Ut.read()))!==E;)Array.isArray(gt)?bt.push.apply(bt,gt):bt.push(gt);this._encoder=null}return new Uint8Array(bt)}}}}]);